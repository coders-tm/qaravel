import{bw as p,bJ as f,bK as h,aL as r,a3 as w,b5 as o,aD as C,d as t,c5 as k,bI as _,bG as m,bt as v,ac as P,S as y,c1 as M,c3 as S}from"./index.c62d8a64.js";import{Q as q}from"./QPage.b2fd791d.js";import{u as l}from"./member.03f4c4df.js";const R={data(){return{loading:!1,loaded:!1,pagination:{sortBy:"id",descending:!0,page:1,filter:"",status:!0,rag:null,advancedFilter:{},deleted:!1,rowsPerPage:15,rowsNumber:15,loaded:!1,includes:["last_update"]},useMemberStore:l()}},methods:{...f(l,["get","changeActive"]),onRequest(e){console.func("admins/members/MembersPage:methods.onRequest()",arguments);const{page:n,rowsPerPage:d,sortBy:c,descending:s}=e.pagination;this.loading=!0,this.get({...e.pagination,direction:s?"desc":"asc"}).then(({meta:a})=>{this.pagination.rowsNumber=a.total,this.pagination.page=n,this.pagination.rowsPerPage=d,this.pagination.sortBy=c,this.pagination.descending=s,this.pagination.loaded=!0,this.pagination.from=a.from,this.pagination.to=a.to,this.loading=!1}).catch(a=>{this.$core.error(a,{title:"Error"})})},async actionClicked(e,n){console.func("admins/members/MembersPage:methods.actionClicked()",arguments)},async toolbarClicked(e,n){console.func("admins/members/MembersPage:methods.toolbarClicked()",arguments)},async rowClicked(e,n){console.func("admins/members/MembersPage:methods.rowClicked()",arguments),this.$router.push({name:"Single Member",params:{id:n.id},query:{action:"edit"}})}},mounted(){this.onRequest({pagination:this.pagination})},computed:{...h(l,["actions","rows","columns","module","toolbar","filters"]),permissions(){return[]}}};function Q(e,n,d,c,s,a){const u=r("base-avatar"),g=r("base-btn"),b=r("base-table");return C(),w(q,{padding:""},{default:o(()=>[t(S,null,{default:o(()=>[t(k,null,{default:o(()=>[t(b,{store:s.useMemberStore,module:e.module,columns:e.columns,rows:e.rows,actions:e.actions,toolbar:e.toolbar,filters:e.filters,loading:s.loading,pagination:s.pagination,onRequest:a.onRequest,onActionClicked:a.actionClicked,onToolbarClicked:a.toolbarClicked,onRowClicked:a.rowClicked,"no-data-label":"No member avaialble","no-permissions":""},{"body-cell-name":o(i=>[t(_,{class:"q-pa-none",dense:""},{default:o(()=>[t(m,{avatar:""},{default:o(()=>[t(u,{rounded:"",class:"cursor-pointer",user:i.row,size:"40px"},null,8,["user"])]),_:2},1024),t(m,{avatar:""},{default:o(()=>[t(g,{onClick:n[0]||(n[0]=v(()=>{},["stop"])),link:"",size:"12px",tag:"a",to:{name:"Single Member",params:{id:i.row.id},query:{action:"edit"}}},{default:o(()=>[P(y(i.value),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024)]),"body-cell-is_active":o(i=>[t(M,{"onUpdate:modelValue":A=>e.changeActive(i.row),size:"sm",dense:"","model-value":i.row.is_active,color:"green"},null,8,["onUpdate:modelValue","model-value"])]),_:1},8,["store","module","columns","rows","actions","toolbar","filters","loading","pagination","onRequest","onActionClicked","onToolbarClicked","onRowClicked"])]),_:1})]),_:1})]),_:1})}var V=p(R,[["render",Q]]);export{V as default};
