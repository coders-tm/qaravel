import{E as xr,R as Cr,k as kr,l as Dr,e as qr,m as Tr,n as Er,p as Or,q as Mr,b as ol,s as Br,t as Ar,v as Pr,x as Rr,y as Vr,z as Ir,r as be,B as Fr,C as Nr,D as zr,G as Lr,H as Hr,I as jr,J as $r,K as Ur,L as Yr,M as Wr,N as Xr,O as kt,P as _a,Q as Sn,S as et,U as Qr,V as Kr,W as Gr,F as ut,X as Jr,Y as Zr,Z as es,_ as ts,T as as,$ as ns,a0 as os,a1 as is,a2 as ls,c as k,a3 as J,a4 as xe,a5 as te,a6 as X,a7 as rs,a8 as ss,a9 as us,aa as Un,ab as cs,ac as At,d as y,ad as ds,ae as il,af as fs,ag as hs,ah as ms,ai as vs,g as Yt,aj as gs,ak as wa,h as g,al as ps,am as bs,i as ll,an as ys,ao as _s,ap as ws,aq as Ss,ar as ga,as as na,at as ti,au as yo,av as La,aw as rl,ax as ai,ay as xs,o as _o,az as Cs,aA as ks,aB as Ds,a as qs,aC as sl,aD as T,aE as Ts,aF as ul,aG as Es,aH as Os,aI as Ms,aJ as Kt,aK as Ee,aL as ft,aM as Bs,aN as Ho,aO as As,aP as Ps,aQ as Rs,aR as Vs,aS as Is,aT as Fs,aU as Ns,aV as zs,aW as Ls,aX as Hs,aY as js,aZ as $s,a_ as Us,a$ as Ys,b0 as Ws,w as st,b1 as Xs,b2 as Qs,b3 as Ks,b4 as Gs,b5 as D,b6 as Js,b7 as Ot,b8 as Zs,b9 as eu,ba as Fa,bb as tu,bc as au,bd as nu,be as ou,bf as iu,bg as lu,bh as ru,bi as su,bj as uu,bk as cu,bl as du,bm as fu,bn as hu,bo as mu,bp as vu,bq as gu,br as Ga,bs as pu,bt as bn,bu as Tt,bv as wo,bw as tt,bx as Ze,by as cl,bz as ye,bA as Gt,bB as dl,bC as fl,bD as bu,bE as yu,bF as Va,bG as yt,bH as Na,bI as Jt,bJ as So,bK as Yn,u as xn,bL as Cn,bM as _u,bN as ua,bO as ni,bP as rn,bQ as sn,bR as hl,bS as ml,bT as oi,bU as bi,bV as vl,bW as wu,bX as qo,bY as Vn,bZ as Su,b_ as xu,b$ as Cu,c0 as gl,c1 as ku,c2 as Ha,c3 as kn,c4 as Dn,c5 as It,c6 as pl,c7 as Du,c8 as qu,c9 as jo,ca as yi,cb as bl,cc as yl,cd as _l,ce as Tu,cf as Eu,cg as Ia,ch as Ou,ci as wl,cj as vn,ck as Sl,cl as _i,cm as Mu,cn as Bu,co as Au,cp as Pu,A as Bn,cq as Ru,cr as xa,cs as ii,ct as xl,cu as Cl,cv as kl,cw as Vu,cx as Iu,cy as Fu,cz as To,cA as An,cB as wi,cC as Nu,cD as Si,cE as zu,cF as Lu,cG as Dl,cH as xi,cI as Hu,cJ as Ci,cK as $o,cL as ki,cM as ju,cN as $u,cO as Uu,cP as Yu,cQ as Wu,cR as Xu,cS as Qu,cT as Ku,cU as Di,cV as qi,f as Gu,cW as Ju}from"./index.c62d8a64.js";import{Q as fo,u as Zu,a as ql,r as Uo,b as ec,v as Ti,c as tc,d as ac,e as nc,f as Ei,s as oc,p as Oi,g as ic}from"./rtl.8c45d7ac.js";import{Q as Ta}from"./QItemLabel.79290e29.js";import{Q as li,a as lc}from"./QDrawer.7bfe5b9f.js";import{Q as ri,a as Xn}from"./QSpace.860c9bc7.js";import{a as Mi}from"./index.becf6c0c.js";import{Q as rc}from"./QInnerLoading.a893e20a.js";import{u as Bi}from"./enquiry.e91658a3.js";import{Q as sc}from"./QForm.dedb44d3.js";import{Q as Tl}from"./QChip.b0c8d9d7.js";import{c as uc}from"./colors.8bd06824.js";import{Q as Xt}from"./QSkeleton.2e510be2.js";import{T as cc,c as Ai}from"./TouchPan.2f3364c4.js";const dc=()=>{};var fc=Object.freeze(Object.defineProperty({__proto__:null,compile:dc,EffectScope:xr,ReactiveEffect:Cr,customRef:kr,effect:Dr,effectScope:qr,getCurrentScope:Tr,isProxy:Er,isReactive:Or,isReadonly:Mr,isRef:ol,isShallow:Br,markRaw:Ar,onScopeDispose:Pr,proxyRefs:Rr,reactive:Vr,readonly:Ir,ref:be,shallowReactive:Fr,shallowReadonly:Nr,shallowRef:zr,stop:Lr,toRaw:Hr,toRef:jr,toRefs:$r,triggerRef:Ur,unref:Yr,camelize:Wr,capitalize:Xr,normalizeClass:kt,normalizeProps:_a,normalizeStyle:Sn,toDisplayString:et,toHandlerKey:Qr,BaseTransition:Kr,Comment:Gr,Fragment:ut,KeepAlive:Jr,Static:Zr,Suspense:es,Teleport:ts,Text:as,callWithAsyncErrorHandling:ns,callWithErrorHandling:os,cloneVNode:is,compatUtils:ls,computed:k,createBlock:J,createCommentVNode:xe,createElementBlock:te,createElementVNode:X,createHydrationRenderer:rs,createPropsRestProxy:ss,createRenderer:us,createSlots:Un,createStaticVNode:cs,createTextVNode:At,createVNode:y,defineAsyncComponent:ds,defineComponent:il,defineEmits:fs,defineExpose:hs,defineProps:ms,get devtools(){return vs},getCurrentInstance:Yt,getTransitionRawChildren:gs,guardReactiveProps:wa,h:g,handleError:ps,initCustomFormatter:bs,inject:ll,isMemoSame:ys,isRuntimeOnly:_s,isVNode:ws,mergeDefaults:Ss,mergeProps:ga,nextTick:na,onActivated:ti,onBeforeMount:yo,onBeforeUnmount:La,onBeforeUpdate:rl,onDeactivated:ai,onErrorCaptured:xs,onMounted:_o,onRenderTracked:Cs,onRenderTriggered:ks,onServerPrefetch:Ds,onUnmounted:qs,onUpdated:sl,openBlock:T,popScopeId:Ts,provide:ul,pushScopeId:Es,queuePostFlushCb:Os,registerRuntimeCompiler:Ms,renderList:Kt,renderSlot:Ee,resolveComponent:ft,resolveDirective:Bs,resolveDynamicComponent:Ho,resolveFilter:As,resolveTransitionHooks:Ps,setBlockTracking:Rs,setDevtoolsHook:Vs,setTransitionHooks:Is,ssrContextKey:Fs,ssrUtils:Ns,toHandlers:zs,transformVNodeArgs:Ls,useAttrs:Hs,useSSRContext:js,useSlots:$s,useTransitionState:Us,version:Ys,warn:Ws,watch:st,watchEffect:Xs,watchPostEffect:Qs,watchSyncEffect:Ks,withAsyncContext:Gs,withCtx:D,withDefaults:Js,withDirectives:Ot,withMemo:Zs,withScopeId:eu,Transition:Fa,TransitionGroup:tu,VueElement:au,createApp:nu,createSSRApp:ou,defineCustomElement:iu,defineSSRCustomElement:lu,hydrate:ru,initDirectivesForSSR:su,render:uu,useCssModule:cu,useCssVars:du,vModelCheckbox:fu,vModelDynamic:hu,vModelRadio:mu,vModelSelect:vu,vModelText:gu,vShow:Ga,withKeys:pu,withModifiers:bn},Symbol.toStringTag,{value:"Module"}));const hc=["top","middle","bottom"];var Pi=Tt({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>hc.includes(e)}},setup(e,{slots:a}){const t=k(()=>e.align!==void 0?{verticalAlign:e.align}:null),n=k(()=>{const i=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(i!==void 0?` text-${i}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>g("div",{class:n.value,style:t.value,role:"status","aria-label":e.label},wo(a.default,e.label!==void 0?[e.label]:[]))}});const mc={props:{user:{required:!0,type:Object},size:{required:!1,type:String,default:"60px"},tooltip:Boolean,rounded:Boolean},computed:{letters(){return(this.user.name||this.user.company_name).split(" ").map(e=>e.charAt(0)).join("")}}},vc=["src"];function gc(e,a,t,n,i,o){const u=ft("base-tooltip");return T(),J(cl,{class:"base-avatar",rounded:t.rounded,size:t.size,style:Sn({background:t.user.calendar_color?t.user.calendar_color:"var(--q-secondary)"}),"text-color":"white"},{default:D(()=>[t.user.avatar?(T(),te(ut,{key:0},[X("img",{src:t.user.avatar.url},null,8,vc),["online","offline"].includes(t.user.status)?(T(),J(Pi,{key:0,color:"transparent",floating:""},{default:D(()=>[y(Ze,{dense:"",round:"",name:"brightness_1",color:t.user.status=="online"?"positive":"grey",size:"10px"},null,8,["color"])]),_:1})):xe("",!0)],64)):t.user.name||t.user.company_name?(T(),te(ut,{key:1},[X("span",null,et(o.letters),1),["online","offline"].includes(t.user.status)?(T(),J(Pi,{key:0,color:"transparent",floating:""},{default:D(()=>[y(Ze,{dense:"",round:"",name:"brightness_1",color:t.user.status=="online"?"positive":"grey",size:"10px"},null,8,["color"])]),_:1})):xe("",!0)],64)):xe("",!0),t.tooltip?(T(),J(u,{key:2,position:"top"},{default:D(()=>[At(et(t.user.name),1)]),_:1})):xe("",!0)]),_:1},8,["rounded","size","style"])}var pc=tt(mc,[["render",gc]]),bc=Object.freeze(Object.defineProperty({__proto__:null,default:pc},Symbol.toStringTag,{value:"Module"}));const yc={props:{link:{type:[Boolean],required:!1,default:!1},icon:String,verticalMiddel:Boolean}};function _c(e,a,t,n,i,o){return T(),J(ye,{color:"primary","no-caps":"",ripple:!t.link,class:kt({"base-btn__no-focus btn-link":t.link,"has-icon":t.icon,"no-icon":!t.icon,"base-btn":!0,"vertical-align-middle":t.verticalMiddel}),flat:t.link,dense:t.link,icon:t.icon,size:"13px"},{default:D(()=>[Ee(e.$slots,"default")]),_:3},8,["ripple","class","flat","dense","icon"])}var wc=tt(yc,[["render",_c]]),Sc=Object.freeze(Object.defineProperty({__proto__:null,default:wc},Symbol.toStringTag,{value:"Module"})),Yo=Tt({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:a}){const t=k(()=>{const n=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(i=>e[i]===!0).map(i=>`q-btn-group--${i}`).join(" ");return`q-btn-group row no-wrap${n.length>0?" "+n:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>g("div",{class:t.value},Gt(a.default))}});const xc=Object.keys(dl),Cc=e=>xc.reduce((a,t)=>{const n=e[t];return n!==void 0&&(a[t]=n),a},{});var kc=Tt({name:"QBtnDropdown",props:{...dl,...fl,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:a,emit:t}){const{proxy:n}=Yt(),i=be(e.modelValue),o=be(null),u=bu(),f=k(()=>{const w={"aria-expanded":i.value===!0?"true":"false","aria-haspopup":"true","aria-controls":u,"aria-label":e.toggleAriaLabel||n.$q.lang.label[i.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(w["aria-disabled"]="true"),w}),v=k(()=>"q-btn-dropdown__arrow"+(i.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),h=k(()=>yu(e)),d=k(()=>Cc(e));st(()=>e.modelValue,w=>{o.value!==null&&o.value[w?"show":"hide"]()}),st(()=>e.split,R);function S(w){i.value=!0,t("beforeShow",w)}function M(w){t("show",w),t("update:modelValue",!0)}function q(w){i.value=!1,t("beforeHide",w)}function P(w){t("hide",w),t("update:modelValue",!1)}function A(w){t("click",w)}function z(w){Va(w),R(),t("click",w)}function se(w){o.value!==null&&o.value.toggle(w)}function N(w){o.value!==null&&o.value.show(w)}function R(w){o.value!==null&&o.value.hide(w)}return Object.assign(n,{show:N,hide:R,toggle:se}),_o(()=>{e.modelValue===!0&&N()}),()=>{const w=[g(Ze,{class:v.value,name:e.dropdownIcon||n.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&w.push(g(fo,{ref:o,id:u,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:S,onShow:M,onBeforeHide:q,onHide:P},a.default)),e.split===!1?g(ye,{class:"q-btn-dropdown q-btn-dropdown--simple",...d.value,...f.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:A},{default:()=>Gt(a.label,[]).concat(w),loading:a.loading}):g(Yo,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...h.value,glossy:e.glossy,stretch:e.stretch},()=>[g(ye,{class:"q-btn-dropdown--current",...d.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:z},{default:a.label,loading:a.loading}),g(ye,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...f.value,...h.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>w)])}}});const Dc={props:{link:{type:[Boolean],required:!1,default:!1}}};function qc(e,a,t,n,i,o){return T(),J(kc,{color:"primary","no-caps":"",ripple:!t.link,class:kt({"no-focus":t.link,"base-btn-dropdown":!0}),flat:t.link,dense:t.link,size:"13px"},{default:D(()=>[Ee(e.$slots,"default")]),_:3},8,["ripple","class","flat","dense"])}var El=tt(Dc,[["render",qc]]),Tc=Object.freeze(Object.defineProperty({__proto__:null,default:El},Symbol.toStringTag,{value:"Module"}));const Ec={props:{modelValue:{required:!0},label:{required:!1,type:[String]},noInline:{type:Boolean,default:!1}},emits:["update:model-value"],methods:{onChange(e){console.func("components/base/BaseCheckbox:methods.onChange()",arguments),this.$emit("update:model-value",e)}}};function Oc(e,a,t,n,i,o){return T(),J(Jt,{class:kt({"base-checkbox no-wrap":!0,inline:!t.noInline}),tag:"label",dense:""},{default:D(()=>[y(yt,{style:{"min-width":"auto","padding-right":"0.5em"},top:"",avatar:""},{default:D(()=>[y(Na,{dense:"","model-value":t.modelValue,"onUpdate:modelValue":o.onChange},null,8,["model-value","onUpdate:modelValue"])]),_:1}),y(yt,{class:"justify-start base-checkbox-label"},{default:D(()=>[Ee(e.$slots,"default",{},()=>[X("div",null,et(t.label),1)])]),_:3})]),_:3},8,["class"])}var Mc=tt(Ec,[["render",Oc]]),Bc=Object.freeze(Object.defineProperty({__proto__:null,default:Mc},Symbol.toStringTag,{value:"Module"}));const Ac={methods:{...So(xn,["logout"]),onLogout(){this.logout(this.$route.meta.guard).then(()=>{this.$router.push({name:"Login"})}).catch(e=>{this.$router.push({name:"Login"})})}},computed:{...Yn(xn,["user"])}},Pc={class:"base-current-user"};function Rc(e,a,t,n,i,o){const u=ft("base-avatar"),f=ft("base-item");return T(),te("div",Pc,[y(Jt,{class:"user-info"},{default:D(()=>[y(yt,{class:"q-pa-none q-mr-sm",avatar:"",style:{"min-width":"auto"}},{default:D(()=>[y(u,{size:"28px",user:e.user},null,8,["user"])]),_:1}),y(yt,{class:"q-pa-none"},{default:D(()=>[y(Ta,{class:"ellipsis text-subtitle2"},{default:D(()=>[At(et(e.user.name),1)]),_:1})]),_:1}),y(yt,{side:"",class:"q-pa-none",style:{padding:"0"}},{default:D(()=>[y(Ze,{color:"white",name:"fal fa-angle-down"})]),_:1})]),_:1}),y(Cn,{class:"menus q-pa-sm",style:{"min-width":"150px"}},{default:D(()=>[y(f,{"icon-color":"primary",link:"",label:"My Account",to:{name:"My Account"},icon:"fal fa-user"}),y(f,{"icon-color":"primary",link:"",label:"Logout",icon:"fal fa-sign-out",onClick:o.onLogout},null,8,["onClick"])]),_:1})])}var Vc=tt(Ac,[["render",Rc]]),Ic=Object.freeze(Object.defineProperty({__proto__:null,default:Vc},Symbol.toStringTag,{value:"Module"}));const Fc=["gregorian","persian"],Ol={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Fc.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Ml=["update:modelValue"];function Ra(e){return e.year+"/"+ua(e.month)+"/"+ua(e.day)}function Bl(e,a){const t=k(()=>e.disable!==!0&&e.readonly!==!0),n=k(()=>e.editable===!0?0:-1),i=k(()=>{const f=[];return e.color!==void 0&&f.push(`bg-${e.color}`),e.textColor!==void 0&&f.push(`text-${e.textColor}`),f.join(" ")});function o(){return e.locale!==void 0?{...a.lang.date,...e.locale}:a.lang.date}function u(f){const v=new Date,h=f===!0?null:0;if(e.calendar==="persian"){const d=_u(v);return{year:d.jy,month:d.jm,day:d.jd}}return{year:v.getFullYear(),month:v.getMonth()+1,day:v.getDate(),hour:h,minute:h,second:h,millisecond:h}}return{editable:t,tabindex:n,headerClass:i,getLocale:o,getCurrentDate:u}}const tn=20,Nc=["Calendar","Years","Months"],Ri=e=>Nc.includes(e),Eo=e=>/^-?[\d]+\/[0-1]\d$/.test(e),cn=" \u2014 ";function Wa(e){return e.year+"/"+ua(e.month)}var zc=Tt({name:"QDate",props:{...Ol,...ni,...rn,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Eo},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Eo},navigationMaxYearMonth:{type:String,validator:Eo},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:Ri}},emits:[...Ml,"rangeStart","rangeEnd","navigation"],setup(e,{slots:a,emit:t}){const{proxy:n}=Yt(),{$q:i}=n,o=sn(e,i),{getCache:u}=Zu(),{tabindex:f,headerClass:v,getLocale:h,getCurrentDate:d}=Bl(e,i);let S;const M=hl(e),q=ml(M),P=be(null),A=be(ma()),z=be(h()),se=k(()=>ma()),N=k(()=>h()),R=k(()=>d()),w=be(V(A.value,z.value)),H=be(e.defaultView),ie=i.lang.rtl===!0?"right":"left",De=be(ie.value),Q=be(ie.value),ue=w.value.year,he=be(ue-ue%tn-(ue<0?tn:0)),me=be(null),we=k(()=>{const c=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${c} q-date--${c}-${e.minimal===!0?"minimal":"standard"}`+(o.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),Re=k(()=>e.color||"primary"),Le=k(()=>e.textColor||"white"),Me=k(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),qe=k(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),$e=k(()=>qe.value.filter(c=>typeof c=="string").map(c=>zt(c,A.value,z.value)).filter(c=>c.dateHash!==null&&c.day!==null&&c.month!==null&&c.year!==null)),Ve=k(()=>{const c=_=>zt(_,A.value,z.value);return qe.value.filter(_=>oi(_)===!0&&_.from!==void 0&&_.to!==void 0).map(_=>({from:c(_.from),to:c(_.to)})).filter(_=>_.from.dateHash!==null&&_.to.dateHash!==null&&_.from.dateHash<_.to.dateHash)}),ct=k(()=>e.calendar!=="persian"?c=>new Date(c.year,c.month-1,c.day):c=>{const _=bi(c.year,c.month,c.day);return new Date(_.gy,_.gm-1,_.gd)}),ne=k(()=>e.calendar==="persian"?Ra:(c,_,E)=>vl(new Date(c.year,c.month-1,c.day,c.hour,c.minute,c.second,c.millisecond),_===void 0?A.value:_,E===void 0?z.value:E,c.year,c.timezoneOffset)),j=k(()=>$e.value.length+Ve.value.reduce((c,_)=>c+1+wu(ct.value(_.to),ct.value(_.from)),0)),fe=k(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length>0)return e.title;if(me.value!==null){const E=me.value.init,le=ct.value(E);return z.value.daysShort[le.getDay()]+", "+z.value.monthsShort[E.month-1]+" "+E.day+cn+"?"}if(j.value===0)return cn;if(j.value>1)return`${j.value} ${z.value.pluralDay}`;const c=$e.value[0],_=ct.value(c);return isNaN(_.valueOf())===!0?cn:z.value.headerTitle!==void 0?z.value.headerTitle(_,c):z.value.daysShort[_.getDay()]+", "+z.value.monthsShort[c.month-1]+" "+c.day}),oe=k(()=>$e.value.concat(Ve.value.map(_=>_.from)).sort((_,E)=>_.year-E.year||_.month-E.month)[0]),Fe=k(()=>$e.value.concat(Ve.value.map(_=>_.to)).sort((_,E)=>E.year-_.year||E.month-_.month)[0]),Ue=k(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length>0)return e.subtitle;if(j.value===0)return cn;if(j.value>1){const c=oe.value,_=Fe.value,E=z.value.monthsShort;return E[c.month-1]+(c.year!==_.year?" "+c.year+cn+E[_.month-1]+" ":c.month!==_.month?cn+E[_.month-1]:"")+" "+_.year}return $e.value[0].year}),Ce=k(()=>{const c=[i.iconSet.datetime.arrowLeft,i.iconSet.datetime.arrowRight];return i.lang.rtl===!0?c.reverse():c}),pe=k(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):z.value.firstDayOfWeek),U=k(()=>{const c=z.value.daysShort,_=pe.value;return _>0?c.slice(_,7).concat(c.slice(0,_)):c}),G=k(()=>{const c=w.value;return e.calendar!=="persian"?new Date(c.year,c.month,0).getDate():qo(c.year,c.month)}),ze=k(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),Ie=k(()=>{if(e.navigationMinYearMonth===void 0)return null;const c=e.navigationMinYearMonth.split("/");return{year:parseInt(c[0],10),month:parseInt(c[1],10)}}),Ne=k(()=>{if(e.navigationMaxYearMonth===void 0)return null;const c=e.navigationMaxYearMonth.split("/");return{year:parseInt(c[0],10),month:parseInt(c[1],10)}}),vt=k(()=>{const c={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return Ie.value!==null&&Ie.value.year>=w.value.year&&(c.year.prev=!1,Ie.value.year===w.value.year&&Ie.value.month>=w.value.month&&(c.month.prev=!1)),Ne.value!==null&&Ne.value.year<=w.value.year&&(c.year.next=!1,Ne.value.year===w.value.year&&Ne.value.month<=w.value.month&&(c.month.next=!1)),c}),Ht=k(()=>{const c={};return $e.value.forEach(_=>{const E=Wa(_);c[E]===void 0&&(c[E]=[]),c[E].push(_.day)}),c}),Nt=k(()=>{const c={};return Ve.value.forEach(_=>{const E=Wa(_.from),le=Wa(_.to);if(c[E]===void 0&&(c[E]=[]),c[E].push({from:_.from.day,to:E===le?_.to.day:void 0,range:_}),E<le){let Z;const{year:We,month:ge}=_.from,Be=ge<12?{year:We,month:ge+1}:{year:We+1,month:1};for(;(Z=Wa(Be))<=le;)c[Z]===void 0&&(c[Z]=[]),c[Z].push({from:void 0,to:Z===le?_.to.day:void 0,range:_}),Be.month++,Be.month>12&&(Be.year++,Be.month=1)}}),c}),Et=k(()=>{if(me.value===null)return;const{init:c,initHash:_,final:E,finalHash:le}=me.value,[Z,We]=_<=le?[c,E]:[E,c],ge=Wa(Z),Be=Wa(We);if(ge!==gt.value&&Be!==gt.value)return;const He={};return ge===gt.value?(He.from=Z.day,He.includeFrom=!0):He.from=1,Be===gt.value?(He.to=We.day,He.includeTo=!0):He.to=G.value,He}),gt=k(()=>Wa(w.value)),Zt=k(()=>{const c={};if(e.options===void 0){for(let E=1;E<=G.value;E++)c[E]=!0;return c}const _=typeof e.options=="function"?e.options:E=>e.options.includes(E);for(let E=1;E<=G.value;E++){const le=gt.value+"/"+ua(E);c[E]=_(le)}return c}),da=k(()=>{const c={};if(e.events===void 0)for(let _=1;_<=G.value;_++)c[_]=!1;else{const _=typeof e.events=="function"?e.events:E=>e.events.includes(E);for(let E=1;E<=G.value;E++){const le=gt.value+"/"+ua(E);c[E]=_(le)===!0&&ze.value(le)}}return c}),pt=k(()=>{let c,_;const{year:E,month:le}=w.value;if(e.calendar!=="persian")c=new Date(E,le-1,1),_=new Date(E,le-1,0).getDate();else{const Z=bi(E,le,1);c=new Date(Z.gy,Z.gm-1,Z.gd);let We=le-1,ge=E;We===0&&(We=12,ge--),_=qo(ge,We)}return{days:c.getDay()-pe.value-1,endDay:_}}),bt=k(()=>{const c=[],{days:_,endDay:E}=pt.value,le=_<0?_+7:_;if(le<6)for(let ge=E-le;ge<=E;ge++)c.push({i:ge,fill:!0});const Z=c.length;for(let ge=1;ge<=G.value;ge++){const Be={i:ge,event:da.value[ge],classes:[]};Zt.value[ge]===!0&&(Be.in=!0,Be.flat=!0),c.push(Be)}if(Ht.value[gt.value]!==void 0&&Ht.value[gt.value].forEach(ge=>{const Be=Z+ge-1;Object.assign(c[Be],{selected:!0,unelevated:!0,flat:!1,color:Re.value,textColor:Le.value})}),Nt.value[gt.value]!==void 0&&Nt.value[gt.value].forEach(ge=>{if(ge.from!==void 0){const Be=Z+ge.from-1,He=Z+(ge.to||G.value)-1;for(let _t=Be;_t<=He;_t++)Object.assign(c[_t],{range:ge.range,unelevated:!0,color:Re.value,textColor:Le.value});Object.assign(c[Be],{rangeFrom:!0,flat:!1}),ge.to!==void 0&&Object.assign(c[He],{rangeTo:!0,flat:!1})}else if(ge.to!==void 0){const Be=Z+ge.to-1;for(let He=Z;He<=Be;He++)Object.assign(c[He],{range:ge.range,unelevated:!0,color:Re.value,textColor:Le.value});Object.assign(c[Be],{flat:!1,rangeTo:!0})}else{const Be=Z+G.value-1;for(let He=Z;He<=Be;He++)Object.assign(c[He],{range:ge.range,unelevated:!0,color:Re.value,textColor:Le.value})}}),Et.value!==void 0){const ge=Z+Et.value.from-1,Be=Z+Et.value.to-1;for(let He=ge;He<=Be;He++)c[He].color=Re.value,c[He].editRange=!0;Et.value.includeFrom===!0&&(c[ge].editRangeFrom=!0),Et.value.includeTo===!0&&(c[Be].editRangeTo=!0)}w.value.year===R.value.year&&w.value.month===R.value.month&&(c[Z+R.value.day-1].today=!0);const We=c.length%7;if(We>0){const ge=7-We;for(let Be=1;Be<=ge;Be++)c.push({i:Be,fill:!0})}return c.forEach(ge=>{let Be="q-date__calendar-item ";ge.fill===!0?Be+="q-date__calendar-item--fill":(Be+=`q-date__calendar-item--${ge.in===!0?"in":"out"}`,ge.range!==void 0&&(Be+=` q-date__range${ge.rangeTo===!0?"-to":ge.rangeFrom===!0?"-from":""}`),ge.editRange===!0&&(Be+=` q-date__edit-range${ge.editRangeFrom===!0?"-from":""}${ge.editRangeTo===!0?"-to":""}`),(ge.range!==void 0||ge.editRange===!0)&&(Be+=` text-${ge.color}`)),ge.classes=Be}),c}),Pt=k(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});st(()=>e.modelValue,c=>{if(S===c)S=0;else{const{year:_,month:E}=V(A.value,z.value);ht(_,E)}}),st(H,()=>{P.value!==null&&n.$el.contains(document.activeElement)===!0&&P.value.focus()}),st(()=>w.value.year,c=>{t("navigation",{year:c,month:w.value.month})}),st(()=>w.value.month,c=>{t("navigation",{year:w.value.year,month:c})}),st(se,c=>{O(c,z.value,"mask"),A.value=c}),st(N,c=>{O(A.value,c,"locale"),z.value=c});function ea(){const c=R.value,_=Ht.value[Wa(c)];(_===void 0||_.includes(c.day)===!1)&&Ge(c),jt(c.year,c.month)}function ba(c){Ri(c)===!0&&(H.value=c)}function fa(c,_){["month","year"].includes(c)&&(c==="month"?_e:ae)(_===!0?-1:1)}function jt(c,_){H.value="Calendar",ht(c,_)}function ha(c,_){if(e.range===!1||!c){me.value=null;return}const E=Object.assign({...w.value},c),le=_!==void 0?Object.assign({...w.value},_):E;me.value={init:E,initHash:Ra(E),final:le,finalHash:Ra(le)},jt(E.year,E.month)}function ma(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function zt(c,_,E){return Vn(c,_,E,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function V(c,_){const E=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(E.length===0)return Y();const le=E[E.length-1],Z=zt(le.from!==void 0?le.from:le,c,_);return Z.dateHash===null?Y():Z}function Y(){let c,_;if(e.defaultYearMonth!==void 0){const E=e.defaultYearMonth.split("/");c=parseInt(E[0],10),_=parseInt(E[1],10)}else{const E=R.value!==void 0?R.value:d();c=E.year,_=E.month}return{year:c,month:_,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:c+"/"+ua(_)+"/01"}}function _e(c){let _=w.value.year,E=Number(w.value.month)+c;E===13?(E=1,_++):E===0&&(E=12,_--),ht(_,E),Me.value===!0&&oa("month")}function ae(c){const _=Number(w.value.year)+c;ht(_,w.value.month),Me.value===!0&&oa("year")}function Ke(c){ht(c,w.value.month),H.value=e.defaultView==="Years"?"Months":"Calendar",Me.value===!0&&oa("year")}function Ct(c){ht(w.value.year,c),H.value="Calendar",Me.value===!0&&oa("month")}function Oe(c,_){const E=Ht.value[_];(E!==void 0&&E.includes(c.day)===!0?Ma:Ge)(c)}function at(c){return{year:c.year,month:c.month,day:c.day}}function ht(c,_){Ie.value!==null&&c<=Ie.value.year&&(c=Ie.value.year,_<Ie.value.month&&(_=Ie.value.month)),Ne.value!==null&&c>=Ne.value.year&&(c=Ne.value.year,_>Ne.value.month&&(_=Ne.value.month));const E=c+"/"+ua(_)+"/01";E!==w.value.dateHash&&(De.value=w.value.dateHash<E==(i.lang.rtl!==!0)?"left":"right",c!==w.value.year&&(Q.value=De.value),na(()=>{he.value=c-c%tn-(c<0?tn:0),Object.assign(w.value,{year:c,month:_,day:1,dateHash:E})}))}function mt(c,_,E){const le=c!==null&&c.length===1&&e.multiple===!1?c[0]:c;S=le;const{reason:Z,details:We}=Oa(_,E);t("update:modelValue",le,Z,We)}function oa(c){const _=$e.value[0]!==void 0&&$e.value[0].dateHash!==null?{...$e.value[0]}:{...w.value};na(()=>{_.year=w.value.year,_.month=w.value.month;const E=e.calendar!=="persian"?new Date(_.year,_.month,0).getDate():qo(_.year,_.month);_.day=Math.min(Math.max(1,_.day),E);const le=nt(_);S=le;const{details:Z}=Oa("",_);t("update:modelValue",le,c,Z)})}function Oa(c,_){return _.from!==void 0?{reason:`${c}-range`,details:{...at(_.target),from:at(_.from),to:at(_.to)}}:{reason:`${c}-day`,details:at(_)}}function nt(c,_,E){return c.from!==void 0?{from:ne.value(c.from,_,E),to:ne.value(c.to,_,E)}:ne.value(c,_,E)}function Ge(c){let _;if(e.multiple===!0)if(c.from!==void 0){const E=Ra(c.from),le=Ra(c.to),Z=$e.value.filter(ge=>ge.dateHash<E||ge.dateHash>le),We=Ve.value.filter(({from:ge,to:Be})=>Be.dateHash<E||ge.dateHash>le);_=Z.concat(We).concat(c).map(ge=>nt(ge))}else{const E=qe.value.slice();E.push(nt(c)),_=E}else _=nt(c);mt(_,"add",c)}function Ma(c){if(e.noUnset===!0)return;let _=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const E=nt(c);c.from!==void 0?_=e.modelValue.filter(le=>le.from!==void 0?le.from!==E.from&&le.to!==E.to:!0):_=e.modelValue.filter(le=>le!==E),_.length===0&&(_=null)}mt(_,"remove",c)}function O(c,_,E){const le=$e.value.concat(Ve.value).map(Z=>nt(Z,c,_)).filter(Z=>Z.from!==void 0?Z.from.dateHash!==null&&Z.to.dateHash!==null:Z.dateHash!==null);t("update:modelValue",(e.multiple===!0?le:le[0])||null,E)}function de(){if(e.minimal!==!0)return g("div",{class:"q-date__header "+v.value},[g("div",{class:"relative-position"},[g(Fa,{name:"q-transition--fade"},()=>g("div",{key:"h-yr-"+Ue.value,class:"q-date__header-subtitle q-date__header-link "+(H.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:f.value,...u("vY",{onClick(){H.value="Years"},onKeyup(c){c.keyCode===13&&(H.value="Years")}})},[Ue.value]))]),g("div",{class:"q-date__header-title relative-position flex no-wrap"},[g("div",{class:"relative-position col"},[g(Fa,{name:"q-transition--fade"},()=>g("div",{key:"h-sub"+fe.value,class:"q-date__header-title-label q-date__header-link "+(H.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:f.value,...u("vC",{onClick(){H.value="Calendar"},onKeyup(c){c.keyCode===13&&(H.value="Calendar")}})},[fe.value]))]),e.todayBtn===!0?g(ye,{class:"q-date__header-today self-start",icon:i.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:f.value,onClick:ea}):null])])}function ve({label:c,type:_,key:E,dir:le,goTo:Z,boundaries:We,cls:ge}){return[g("div",{class:"row items-center q-date__arrow"},[g(ye,{round:!0,dense:!0,size:"sm",flat:!0,icon:Ce.value[0],tabindex:f.value,disable:We.prev===!1,...u("go-#"+_,{onClick(){Z(-1)}})})]),g("div",{class:"relative-position overflow-hidden flex flex-center"+ge},[g(Fa,{name:"q-transition--jump-"+le},()=>g("div",{key:E},[g(ye,{flat:!0,dense:!0,noCaps:!0,label:c,tabindex:f.value,...u("view#"+_,{onClick:()=>{H.value=_}})})]))]),g("div",{class:"row items-center q-date__arrow"},[g(ye,{round:!0,dense:!0,size:"sm",flat:!0,icon:Ce.value[1],tabindex:f.value,disable:We.next===!1,...u("go+#"+_,{onClick(){Z(1)}})})])]}const Te={Calendar:()=>[g("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[g("div",{class:"q-date__navigation row items-center no-wrap"},ve({label:z.value.months[w.value.month-1],type:"Months",key:w.value.month,dir:De.value,goTo:_e,boundaries:vt.value.month,cls:" col"}).concat(ve({label:w.value.year,type:"Years",key:w.value.year,dir:Q.value,goTo:ae,boundaries:vt.value.year,cls:""}))),g("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},U.value.map(c=>g("div",{class:"q-date__calendar-item"},[g("div",c)]))),g("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[g(Fa,{name:"q-transition--slide-"+De.value},()=>g("div",{key:gt.value,class:"q-date__calendar-days fit"},bt.value.map(c=>g("div",{class:c.classes},[c.in===!0?g(ye,{class:c.today===!0?"q-date__today":"",dense:!0,flat:c.flat,unelevated:c.unelevated,color:c.color,textColor:c.textColor,label:c.i,tabindex:f.value,...u("day#"+c.i,{onClick:()=>{Se(c.i)},onMouseover:()=>{Ye(c.i)}})},c.event!==!1?()=>g("div",{class:"q-date__event bg-"+c.event}):null):g("div",""+c.i)]))))])])],Months(){const c=w.value.year===R.value.year,_=le=>Ie.value!==null&&w.value.year===Ie.value.year&&Ie.value.month>le||Ne.value!==null&&w.value.year===Ne.value.year&&Ne.value.month<le,E=z.value.monthsShort.map((le,Z)=>{const We=w.value.month===Z+1;return g("div",{class:"q-date__months-item flex flex-center"},[g(ye,{class:c===!0&&R.value.month===Z+1?"q-date__today":null,flat:We!==!0,label:le,unelevated:We,color:We===!0?Re.value:null,textColor:We===!0?Le.value:null,tabindex:f.value,disable:_(Z+1),...u("month#"+Z,{onClick:()=>{Ct(Z+1)}})})])});return e.yearsInMonthView===!0&&E.unshift(g("div",{class:"row no-wrap full-width"},[ve({label:w.value.year,type:"Years",key:w.value.year,dir:Q.value,goTo:ae,boundaries:vt.value.year,cls:" col"})])),g("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},E)},Years(){const c=he.value,_=c+tn,E=[],le=Z=>Ie.value!==null&&Ie.value.year>Z||Ne.value!==null&&Ne.value.year<Z;for(let Z=c;Z<=_;Z++){const We=w.value.year===Z;E.push(g("div",{class:"q-date__years-item flex flex-center"},[g(ye,{key:"yr"+Z,class:R.value.year===Z?"q-date__today":null,flat:!We,label:Z,dense:!0,unelevated:We,color:We===!0?Re.value:null,textColor:We===!0?Le.value:null,tabindex:f.value,disable:le(Z),...u("yr#"+Z,{onClick:()=>{Ke(Z)}})})]))}return g("div",{class:"q-date__view q-date__years flex flex-center"},[g("div",{class:"col-auto"},[g(ye,{round:!0,dense:!0,flat:!0,icon:Ce.value[0],tabindex:f.value,disable:le(c),...u("y-",{onClick:()=>{he.value-=tn}})})]),g("div",{class:"q-date__years-content col self-stretch row items-center"},E),g("div",{class:"col-auto"},[g(ye,{round:!0,dense:!0,flat:!0,icon:Ce.value[1],tabindex:f.value,disable:le(_),...u("y+",{onClick:()=>{he.value+=tn}})})])])}};function Se(c){const _={...w.value,day:c};if(e.range===!1){Oe(_,gt.value);return}if(me.value===null){const E=bt.value.find(Z=>Z.fill!==!0&&Z.i===c);if(e.noUnset!==!0&&E.range!==void 0){Ma({target:_,from:E.range.from,to:E.range.to});return}if(E.selected===!0){Ma(_);return}const le=Ra(_);me.value={init:_,initHash:le,final:_,finalHash:le},t("rangeStart",at(_))}else{const E=me.value.initHash,le=Ra(_),Z=E<=le?{from:me.value.init,to:_}:{from:_,to:me.value.init};me.value=null,Ge(E===le?_:{target:_,...Z}),t("rangeEnd",{from:at(Z.from),to:at(Z.to)})}}function Ye(c){if(me.value!==null){const _={...w.value,day:c};Object.assign(me.value,{final:_,finalHash:Ra(_)})}}return Object.assign(n,{setToday:ea,setView:ba,offsetCalendar:fa,setCalendarTo:jt,setEditingRange:ha}),()=>{const c=[g("div",{class:"q-date__content col relative-position"},[g(Fa,{name:"q-transition--fade"},Te[H.value])])],_=Gt(a.default);return _!==void 0&&c.push(g("div",{class:"q-date__actions"},_)),e.name!==void 0&&e.disable!==!0&&q(c,"push"),g("div",{class:we.value,...Pt.value},[de(),g("div",{ref:P,class:"q-date__main col column",tabindex:-1},c)])}}});function Vi(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const a=parseInt(e,10);return isNaN(a)?0:a}var Ca=Su({name:"close-popup",beforeMount(e,{value:a}){const t={depth:Vi(a),handler(n){t.depth!==0&&setTimeout(()=>{const i=xu(e);i!==void 0&&Cu(i,n,t.depth)})},handlerKey(n){gl(n,13)===!0&&t.handler(n)}};e.__qclosepopup=t,e.addEventListener("click",t.handler),e.addEventListener("keyup",t.handlerKey)},updated(e,{value:a,oldValue:t}){a!==t&&(e.__qclosepopup.depth=Vi(a))},beforeUnmount(e){const a=e.__qclosepopup;e.removeEventListener("click",a.handler),e.removeEventListener("keyup",a.handlerKey),delete e.__qclosepopup}});const Lc={props:{modelValue:[String,Object]},data(){return{range:!1,date:this.modelValue}},emits:["update:model-value"],methods:{onChange(e){console.func("components/base/BaseDateInput:methods.onChange",arguments),this.$emit("update:model-value",e)},onClear(){console.func("components/base/BaseDateInput:methods.onClear",arguments),this.date&&(this.date=void 0,this.range=!1,this.$emit("update:model-value",void 0))}},computed:{selected(){return this.range&&this.modelValue&&typeof this.modelValue=="object"&&"from"in this.modelValue?`${this.modelValue.from} - ${this.modelValue.to}`:this.modelValue}}},Hc={class:"row items-center justify-end q-gutter-sm"};function jc(e,a,t,n,i,o){return T(),J(Ha,{class:"base-date-input",readonly:"",modelValue:o.selected},{append:D(()=>[y(Ze,{name:"event",class:"cursor-pointer"},{default:D(()=>[y(ql,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:D(()=>[y(zc,{"onUpdate:modelValue":[o.onChange,a[1]||(a[1]=u=>i.date=u)],"today-btn":"",range:i.range,modelValue:i.date,"first-day-of-week":"1"},{default:D(()=>[X("div",Hc,[X("div",null,[y(ku,{size:"sm",modelValue:i.range,"onUpdate:modelValue":a[0]||(a[0]=u=>i.range=u),dense:"",label:"Range"},null,8,["modelValue"])]),Ot(y(ye,{label:"Clear",color:"primary",onClick:o.onClear,flat:""},null,8,["onClick"]),[[Ca]]),Ot(y(ye,{label:"OK",color:"primary",flat:""},null,512),[[Ca]])])]),_:1},8,["onUpdate:modelValue","range","modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var $c=tt(Lc,[["render",jc]]),Uc=Object.freeze(Object.defineProperty({__proto__:null,default:$c},Symbol.toStringTag,{value:"Module"}));const Yc={props:{title:{required:!1,type:String,default:"Base dialog title"},contentStyle:{required:!1,type:[String,Object],default:"width: 800px; max-width: 95vw"},bodyStyle:{required:!1,type:[String,Object],default:"max-height: 60vh"},bodyClass:{required:!1,type:[String],default:void 0},contentClass:{required:!1,type:[String],default:void 0},hideFooter:{required:!1,type:[Boolean],default:!1},hideHeader:{required:!1,type:[Boolean],default:!1},useSeparator:{required:!1,type:[Boolean],default:!1},disable:Boolean},emits:["ok","hide"],methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},onDialogHide(){this.$emit("hide")},onDone(){this.$emit("ok"),this.hide()}}},Wc=X("div",{class:"q-py-xl"},"Base dialog body content.",-1),Xc={class:"q-gutter-sm"};function Qc(e,a,t,n,i,o){return T(),J(pl,{"transition-show":"jump-up","transition-hide":"jump-down",class:"base-dialog",ref:"dialog",onHide:o.onDialogHide},{default:D(()=>[y(kn,{style:Sn(t.contentStyle),class:kt(t.contentClass)},{default:D(()=>[Ee(e.$slots,"default",{},()=>[t.hideHeader?xe("",!0):Ee(e.$slots,"header",{key:0},()=>[y(ri,{style:{padding:"0 27px","min-height":"60px"},class:"bg-transparent"},{default:D(()=>[y(li,{class:"text-h6 text-weight-medium"},{default:D(()=>[At(et(t.title),1)]),_:1}),Ot(y(ye,{flat:"",size:"11px",round:"",dense:"",icon:"fal fa-times"},null,512),[[Ca]])]),_:1}),Ot(y(Dn,null,null,512),[[Ga,t.useSeparator]])]),y(It,{style:Sn(t.bodyStyle),class:kt(t.bodyClass)},{default:D(()=>[Ee(e.$slots,"body",{},()=>[Wc])]),_:3},8,["style","class"]),t.hideFooter?xe("",!0):(T(),te(ut,{key:1},[Ot(y(Dn,null,null,512),[[Ga,t.useSeparator]]),Ee(e.$slots,"footer",{},()=>[y(It,{class:"text-right"},{default:D(()=>[X("div",Xc,[Ot(y(ye,{"no-caps":"",label:"Cancel",color:"grey",outline:""},null,512),[[Ca]]),y(ye,{disable:t.disable,"no-caps":"",label:"Done",color:"primary",onClick:o.onDone},null,8,["disable","onClick"])])]),_:1})])],64)),Ee(e.$slots,"loading")])]),_:3},8,["style","class"])]),_:3},8,["onHide"])}var Kc=tt(Yc,[["render",Qc]]),Gc=Object.freeze(Object.defineProperty({__proto__:null,default:Kc},Symbol.toStringTag,{value:"Module"}));const Jc=[g("circle",{cx:"50",cy:"50",r:"44",fill:"none","stroke-width":"4","stroke-opacity":".5",stroke:"currentColor"}),g("circle",{cx:"8",cy:"54",r:"6",fill:"currentColor","stroke-width":"3",stroke:"currentColor"},[g("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 48",to:"360 50 52",dur:"2s",repeatCount:"indefinite"})])];var ln=Tt({name:"QSpinnerOrbit",props:Du,setup(e){const{cSize:a,classes:t}=qu(e);return()=>g("svg",{class:t.value,width:a.value,height:a.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},Jc)}});const si={ratio:[String,Number]};function ui(e,a){return k(()=>{const t=Number(e.ratio||(a!==void 0?a.value:void 0));return isNaN(t)!==!0&&t>0?{paddingBottom:`${100/t}%`}:null})}const Zc=16/9;var Wn=Tt({name:"QImg",props:{...si,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Zc},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:a,emit:t}){const n=be(e.initialRatio),i=ui(e,n);let o=null,u=!1;const f=[be(null),be(z())],v=be(0),h=be(!1),d=be(!1),S=k(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),M=k(()=>({width:e.width,height:e.height})),q=k(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),P=k(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));st(()=>A(),se);function A(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function z(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function se(Q){o!==null&&(clearTimeout(o),o=null),d.value=!1,Q===null?(h.value=!1,f[v.value^1].value=z()):h.value=!0,f[v.value].value=Q}function N({target:Q}){u!==!0&&(o!==null&&(clearTimeout(o),o=null),n.value=Q.naturalHeight===0?.5:Q.naturalWidth/Q.naturalHeight,R(Q,1))}function R(Q,ue){u===!0||ue===1e3||(Q.complete===!0?w(Q):o=setTimeout(()=>{o=null,R(Q,ue+1)},50))}function w(Q){u!==!0&&(v.value=v.value^1,f[v.value].value=null,h.value=!1,d.value=!1,t("load",Q.currentSrc||Q.src))}function H(Q){o!==null&&(clearTimeout(o),o=null),h.value=!1,d.value=!0,f[v.value].value=null,f[v.value^1].value=z(),t("error",Q)}function ie(Q){const ue=f[Q].value,he={key:"img_"+Q,class:q.value,style:P.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...ue};return v.value===Q?(he.class+=" q-img__image--waiting",Object.assign(he,{onLoad:N,onError:H})):he.class+=" q-img__image--loaded",g("div",{class:"q-img__container absolute-full",key:"img"+Q},g("img",he))}function De(){return h.value!==!0?g("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Gt(a[d.value===!0?"error":"default"])):g("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},a.loading!==void 0?a.loading():e.noSpinner===!0?void 0:[g(jo,{color:e.spinnerColor,size:e.spinnerSize})])}return se(A()),La(()=>{u=!0,o!==null&&(clearTimeout(o),o=null)}),()=>{const Q=[];return i.value!==null&&Q.push(g("div",{key:"filler",style:i.value})),d.value!==!0&&(f[0].value!==null&&Q.push(ie(0)),f[1].value!==null&&Q.push(ie(1))),Q.push(g(Fa,{name:"q-transition--fade"},De)),g("div",{class:S.value,style:M.value,role:"img","aria-label":e.alt},Q)}}}),yn=Tt({name:"QResponsive",props:si,setup(e,{slots:a}){const t=ui(e);return()=>g("div",{class:"q-responsive"},[g("div",{class:"q-responsive__filler overflow-hidden"},[g("div",{style:t.value})]),g("div",{class:"q-responsive__content absolute-full fit"},Gt(a.default))])}}),Wo=Tt({name:"QUploaderAddTrigger",setup(){const e=ll(bl,yi);return e===yi&&console.error("QUploaderAddTrigger needs to be child of QUploader"),e}});const ed={...yl,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},Xo=50,Al=2*Xo,Pl=Al*Math.PI,td=Math.round(Pl*1e3)/1e3;var ad=Tt({name:"QCircularProgress",props:{...ed,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:a}){const{proxy:{$q:t}}=Yt(),n=_l(e),i=k(()=>{const M=(t.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(t.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-M}deg)`:`rotate3d(0, 0, 1, ${M-90}deg)`}}),o=k(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),u=k(()=>Al/(1-e.thickness/2)),f=k(()=>`${u.value/2} ${u.value/2} ${u.value} ${u.value}`),v=k(()=>Eu(e.value,e.min,e.max)),h=k(()=>Pl*(1-(v.value-e.min)/(e.max-e.min))),d=k(()=>e.thickness/2*u.value);function S({thickness:M,offset:q,color:P,cls:A,rounded:z}){return g("circle",{class:"q-circular-progress__"+A+(P!==void 0?` text-${P}`:""),style:o.value,fill:"transparent",stroke:"currentColor","stroke-width":M,"stroke-dasharray":td,"stroke-dashoffset":q,"stroke-linecap":z,cx:u.value,cy:u.value,r:Xo})}return()=>{const M=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&M.push(g("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:Xo-d.value/2,cx:u.value,cy:u.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&M.push(S({cls:"track",thickness:d.value,offset:0,color:e.trackColor})),M.push(S({cls:"circle",thickness:d.value,offset:h.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const q=[g("svg",{class:"q-circular-progress__svg",style:i.value,viewBox:f.value,"aria-hidden":"true"},M)];return e.showValue===!0&&q.push(g("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},a.default!==void 0?a.default():[g("div",v.value)])),g("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:n.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:v.value},Tu(a.internal,q))}}});function dn(e,a,t,n){const i=[];return e.forEach(o=>{n(o)===!0?i.push(o):a.push({failedPropValidation:t,file:o})}),i}function Zn(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),Ia(e)}const nd={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},od=["rejected"];function id({editable:e,dnd:a,getFileInput:t,addFilesToQueue:n}){const{props:i,emit:o,proxy:u}=Yt(),f=be(null),v=k(()=>i.accept!==void 0?i.accept.split(",").map(N=>(N=N.trim(),N==="*"?"*/":(N.endsWith("/*")&&(N=N.slice(0,N.length-1)),N.toUpperCase()))):null),h=k(()=>parseInt(i.maxFiles,10)),d=k(()=>parseInt(i.maxTotalSize,10));function S(N){if(e.value)if(N!==Object(N)&&(N={target:null}),N.target!==null&&N.target.matches('input[type="file"]')===!0)N.clientX===0&&N.clientY===0&&Va(N);else{const R=t();R&&R!==N.target&&R.click(N)}}function M(N){e.value&&N&&n(null,N)}function q(N,R,w,H){let ie=Array.from(R||N.target.files);const De=[],Q=()=>{De.length>0&&o("rejected",De)};if(i.accept!==void 0&&v.value.indexOf("*/")===-1&&(ie=dn(ie,De,"accept",ue=>v.value.some(he=>ue.type.toUpperCase().startsWith(he)||ue.name.toUpperCase().endsWith(he))),ie.length===0))return Q();if(i.maxFileSize!==void 0){const ue=parseInt(i.maxFileSize,10);if(ie=dn(ie,De,"max-file-size",he=>he.size<=ue),ie.length===0)return Q()}if(i.multiple!==!0&&ie.length>0&&(ie=[ie[0]]),ie.forEach(ue=>{ue.__key=ue.webkitRelativePath+ue.lastModified+ue.name+ue.size}),H===!0){const ue=w.map(he=>he.__key);ie=dn(ie,De,"duplicate",he=>ue.includes(he.__key)===!1)}if(ie.length===0)return Q();if(i.maxTotalSize!==void 0){let ue=H===!0?w.reduce((he,me)=>he+me.size,0):0;if(ie=dn(ie,De,"max-total-size",he=>(ue+=he.size,ue<=d.value)),ie.length===0)return Q()}if(typeof i.filter=="function"){const ue=i.filter(ie);ie=dn(ie,De,"filter",he=>ue.includes(he))}if(i.maxFiles!==void 0){let ue=H===!0?w.length:0;if(ie=dn(ie,De,"max-files",()=>(ue++,ue<=h.value)),ie.length===0)return Q()}if(Q(),ie.length>0)return ie}function P(N){Zn(N),a.value!==!0&&(a.value=!0)}function A(N){Ia(N),(N.relatedTarget!==null||Ou.is.safari!==!0?N.relatedTarget!==f.value:document.elementsFromPoint(N.clientX,N.clientY).includes(f.value)===!1)===!0&&(a.value=!1)}function z(N){Zn(N);const R=N.dataTransfer.files;R.length>0&&n(null,R),a.value=!1}function se(N){if(a.value===!0)return g("div",{ref:f,class:`q-${N}__dnd absolute-full`,onDragenter:Zn,onDragover:Zn,onDragleave:A,onDrop:z})}return Object.assign(u,{pickFiles:S,addFiles:M}),{pickFiles:S,addFiles:M,onDragover:P,onDragleave:A,processFiles:q,getDndNode:se,maxFilesNumber:h,maxTotalSizeNumber:d}}function Ii(e){return(e*100).toFixed(2)+"%"}const ld={...rn,...nd,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},Rl=[...od,"start","finish","added","removed"];function rd(e){const a=Yt(),{props:t,slots:n,emit:i,proxy:o}=a,{$q:u}=o,f=sn(t,u);function v(U,G,ze){if(U.__status=G,G==="idle"){U.__uploaded=0,U.__progress=0,U.__sizeLabel=_i(U.size),U.__progressLabel="0.00%";return}if(G==="failed"){o.$forceUpdate();return}U.__uploaded=G==="uploaded"?U.size:ze,U.__progress=G==="uploaded"?1:Math.min(.9999,U.__uploaded/U.size),U.__progressLabel=Ii(U.__progress),o.$forceUpdate()}const h=k(()=>t.disable!==!0&&t.readonly!==!0),d=be(!1),S=be(null),M=be(null),q={files:be([]),queuedFiles:be([]),uploadedFiles:be([]),uploadedSize:be(0),updateFileStatus:v,isAlive:()=>wl(a)===!1},{pickFiles:P,addFiles:A,onDragover:z,onDragleave:se,processFiles:N,getDndNode:R,maxFilesNumber:w,maxTotalSizeNumber:H}=id({editable:h,dnd:d,getFileInput:ne,addFilesToQueue:j});Object.assign(q,e({props:t,slots:n,emit:i,helpers:q})),q.isBusy===void 0&&(q.isBusy=be(!1));const ie=be(0),De=k(()=>ie.value===0?0:q.uploadedSize.value/ie.value),Q=k(()=>Ii(De.value)),ue=k(()=>_i(ie.value)),he=k(()=>h.value===!0&&q.isUploading.value!==!0&&(t.multiple===!0||q.queuedFiles.value.length===0)&&(t.maxFiles===void 0||q.files.value.length<w.value)&&(t.maxTotalSize===void 0||ie.value<H.value)),me=k(()=>h.value===!0&&q.isBusy.value!==!0&&q.isUploading.value!==!0&&q.queuedFiles.value.length>0);ul(bl,Fe);const we=k(()=>"q-uploader column no-wrap"+(f.value===!0?" q-uploader--dark q-dark":"")+(t.bordered===!0?" q-uploader--bordered":"")+(t.square===!0?" q-uploader--square no-border-radius":"")+(t.flat===!0?" q-uploader--flat no-shadow":"")+(t.disable===!0?" disabled q-uploader--disable":"")+(d.value===!0?" q-uploader--dnd":"")),Re=k(()=>"q-uploader__header"+(t.color!==void 0?` bg-${t.color}`:"")+(t.textColor!==void 0?` text-${t.textColor}`:""));st(q.isUploading,(U,G)=>{G===!1&&U===!0?i("start"):G===!0&&U===!1&&i("finish")});function Le(){t.disable===!1&&(q.abort(),q.uploadedSize.value=0,ie.value=0,ct(),q.files.value=[],q.queuedFiles.value=[],q.uploadedFiles.value=[])}function Me(){t.disable===!1&&$e(["uploaded"],()=>{q.uploadedFiles.value=[]})}function qe(){$e(["idle","failed"],({size:U})=>{ie.value-=U,q.queuedFiles.value=[]})}function $e(U,G){if(t.disable===!0)return;const ze={files:[],size:0},Ie=q.files.value.filter(Ne=>U.indexOf(Ne.__status)===-1?!0:(ze.size+=Ne.size,ze.files.push(Ne),Ne.__img!==void 0&&window.URL.revokeObjectURL(Ne.__img.src),!1));ze.files.length>0&&(q.files.value=Ie,G(ze),i("removed",ze.files))}function Ve(U){t.disable||(U.__status==="uploaded"?q.uploadedFiles.value=q.uploadedFiles.value.filter(G=>G.__key!==U.__key):U.__status==="uploading"?U.__abort():ie.value-=U.size,q.files.value=q.files.value.filter(G=>G.__key!==U.__key?!0:(G.__img!==void 0&&window.URL.revokeObjectURL(G.__img.src),!1)),q.queuedFiles.value=q.queuedFiles.value.filter(G=>G.__key!==U.__key),i("removed",[U]))}function ct(){q.files.value.forEach(U=>{U.__img!==void 0&&window.URL.revokeObjectURL(U.__img.src)})}function ne(){return M.value||S.value.getElementsByClassName("q-uploader__input")[0]}function j(U,G){const ze=N(U,G,q.files.value,!0),Ie=ne();Ie!=null&&(Ie.value=""),ze!==void 0&&(ze.forEach(Ne=>{if(q.updateFileStatus(Ne,"idle"),ie.value+=Ne.size,t.noThumbnails!==!0&&Ne.type.toUpperCase().startsWith("IMAGE")){const vt=new Image;vt.src=window.URL.createObjectURL(Ne),Ne.__img=vt}}),q.files.value=q.files.value.concat(ze),q.queuedFiles.value=q.queuedFiles.value.concat(ze),i("added",ze),t.autoUpload===!0&&q.upload())}function fe(){me.value===!0&&q.upload()}function oe(U,G,ze){if(U===!0){const Ie={type:"a",key:G,icon:u.iconSet.uploader[G],flat:!0,dense:!0};let Ne;return G==="add"?(Ie.onClick=P,Ne=Fe):Ie.onClick=ze,g(ye,Ie,Ne)}}function Fe(){return g("input",{ref:M,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:t.accept,multiple:t.multiple===!0?"multiple":void 0,capture:t.capture,onMousedown:Va,onClick:P,onChange:j})}function Ue(){return n.header!==void 0?n.header(pe):[g("div",{class:"q-uploader__header-content column"},[g("div",{class:"flex flex-center no-wrap q-gutter-xs"},[oe(q.queuedFiles.value.length>0,"removeQueue",qe),oe(q.uploadedFiles.value.length>0,"removeUploaded",Me),q.isUploading.value===!0?g(jo,{class:"q-uploader__spinner"}):null,g("div",{class:"col column justify-center"},[t.label!==void 0?g("div",{class:"q-uploader__title"},[t.label]):null,g("div",{class:"q-uploader__subtitle"},[ue.value+" / "+Q.value])]),oe(he.value,"add"),oe(t.hideUploadBtn===!1&&me.value===!0,"upload",q.upload),oe(q.isUploading.value,"clear",q.abort)])])]}function Ce(){return n.list!==void 0?n.list(pe):q.files.value.map(U=>g("div",{key:U.__key,class:"q-uploader__file relative-position"+(t.noThumbnails!==!0&&U.__img!==void 0?" q-uploader__file--img":"")+(U.__status==="failed"?" q-uploader__file--failed":U.__status==="uploaded"?" q-uploader__file--uploaded":""),style:t.noThumbnails!==!0&&U.__img!==void 0?{backgroundImage:'url("'+U.__img.src+'")'}:null},[g("div",{class:"q-uploader__file-header row flex-center no-wrap"},[U.__status==="failed"?g(Ze,{class:"q-uploader__file-status",name:u.iconSet.type.negative,color:"negative"}):null,g("div",{class:"q-uploader__file-header-content col"},[g("div",{class:"q-uploader__title"},[U.name]),g("div",{class:"q-uploader__subtitle row items-center no-wrap"},[U.__sizeLabel+" / "+U.__progressLabel])]),U.__status==="uploading"?g(ad,{value:U.__progress,min:0,max:1,indeterminate:U.__progress===0}):g(ye,{round:!0,dense:!0,flat:!0,icon:u.iconSet.uploader[U.__status==="uploaded"?"done":"clear"],onClick:()=>{Ve(U)}})])]))}La(()=>{q.isUploading.value===!0&&q.abort(),q.files.value.length>0&&ct()});const pe={};for(const U in q)ol(q[U])===!0?vn(pe,U,()=>q[U].value):pe[U]=q[U];return Object.assign(pe,{upload:fe,reset:Le,removeUploadedFiles:Me,removeQueuedFiles:qe,removeFile:Ve,pickFiles:P,addFiles:A}),Sl(pe,{canAddFiles:()=>he.value,canUpload:()=>me.value,uploadSizeLabel:()=>ue.value,uploadProgressLabel:()=>Q.value}),Object.assign(o,pe),()=>{const U=[g("div",{class:Re.value},Ue()),g("div",{class:"q-uploader__list scroll"},Ce()),R("uploader")];q.isBusy.value===!0&&U.push(g("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[g(jo)]));const G={ref:S,class:we.value};return he.value===!0&&Object.assign(G,{onDragover:z,onDragleave:se}),g("div",G,U)}}const sd=()=>!0;function ud(e){const a={};return e.forEach(t=>{a[t]=sd}),a}const cd=ud(Rl);var dd=({name:e,props:a,emits:t,injectPlugin:n})=>Tt({name:e,props:{...ld,...a},emits:oi(t)===!0?{...cd,...t}:[...Rl,...t],setup(){return rd(n)}});function Pa(e){return typeof e=="function"?e:()=>e}const fd={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},hd=["factory-failed","uploaded","failed","uploading"];function md({props:e,emit:a,helpers:t}){const n=be([]),i=be([]),o=be(0),u=k(()=>({url:Pa(e.url),method:Pa(e.method),headers:Pa(e.headers),formFields:Pa(e.formFields),fieldName:Pa(e.fieldName),withCredentials:Pa(e.withCredentials),sendRaw:Pa(e.sendRaw),batch:Pa(e.batch)})),f=k(()=>o.value>0),v=k(()=>i.value.length>0);let h;function d(){n.value.forEach(P=>{P.abort()}),i.value.length>0&&(h=!0)}function S(){const P=t.queuedFiles.value.slice(0);t.queuedFiles.value=[],u.value.batch(P)?M(P):P.forEach(A=>{M([A])})}function M(P){if(o.value++,typeof e.factory!="function"){q(P,{});return}const A=e.factory(P);if(!A)a("factory-failed",new Error("QUploader: factory() does not return properly"),P),o.value--;else if(typeof A.catch=="function"&&typeof A.then=="function"){i.value.push(A);const z=se=>{t.isAlive()===!0&&(i.value=i.value.filter(N=>N!==A),i.value.length===0&&(h=!1),t.queuedFiles.value=t.queuedFiles.value.concat(P),P.forEach(N=>{t.updateFileStatus(N,"failed")}),a("factoryFailed",se,P),o.value--)};A.then(se=>{h===!0?z(new Error("Aborted")):t.isAlive()===!0&&(i.value=i.value.filter(N=>N!==A),q(P,se))}).catch(z)}else q(P,A||{})}function q(P,A){const z=new FormData,se=new XMLHttpRequest,N=(we,Re)=>A[we]!==void 0?Pa(A[we])(Re):u.value[we](Re),R=N("url",P);if(!R){console.error("q-uploader: invalid or no URL specified"),o.value--;return}const w=N("formFields",P);w!==void 0&&w.forEach(we=>{z.append(we.name,we.value)});let H=0,ie=0,De=0,Q=0,ue;se.upload.addEventListener("progress",we=>{if(ue===!0)return;const Re=Math.min(Q,we.loaded);t.uploadedSize.value+=Re-De,De=Re;let Le=De-ie;for(let Me=H;Le>0&&Me<P.length;Me++){const qe=P[Me];if(Le>qe.size)Le-=qe.size,H++,ie+=qe.size,t.updateFileStatus(qe,"uploading",qe.size);else{t.updateFileStatus(qe,"uploading",Le);return}}},!1),se.onreadystatechange=()=>{se.readyState<4||(se.status&&se.status<400?(t.uploadedFiles.value=t.uploadedFiles.value.concat(P),P.forEach(we=>{t.updateFileStatus(we,"uploaded")}),a("uploaded",{files:P,xhr:se})):(ue=!0,t.uploadedSize.value-=De,t.queuedFiles.value=t.queuedFiles.value.concat(P),P.forEach(we=>{t.updateFileStatus(we,"failed")}),a("failed",{files:P,xhr:se})),o.value--,n.value=n.value.filter(we=>we!==se))},se.open(N("method",P),R),N("withCredentials",P)===!0&&(se.withCredentials=!0);const he=N("headers",P);he!==void 0&&he.forEach(we=>{se.setRequestHeader(we.name,we.value)});const me=N("sendRaw",P);P.forEach(we=>{t.updateFileStatus(we,"uploading",0),me!==!0&&z.append(N("fieldName",we),we,we.name),we.xhr=se,we.__abort=()=>{se.abort()},Q+=we.size}),a("uploading",{files:P,xhr:se}),n.value.push(se),me===!0?se.send(new Blob(P)):se.send(z)}return{isUploading:f,isBusy:v,abort:d,upload:S}}var vd={name:"QUploader",props:fd,emits:hd,injectPlugin:md},Vl=dd(vd),gd=Tt({name:"QVideo",props:{...si,src:{type:String,required:!0},title:String,fetchpriority:{type:String,default:"auto"},loading:{type:String,default:"eager"},referrerpolicy:{type:String,default:"strict-origin-when-cross-origin"}},setup(e){const a=ui(e),t=k(()=>"q-video"+(e.ratio!==void 0?" q-video--responsive":""));return()=>g("div",{class:t.value,style:a.value},[g("iframe",{src:e.src,title:e.title,fetchpriority:e.fetchpriority,loading:e.loading,referrerpolicy:e.referrerpolicy,frameborder:"0",allowfullscreen:!0})])}}),Il={},pd=Mu(fc),Fl={exports:{}};/*!
 * Cropper.js v1.5.13
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2022-11-20T05:30:46.114Z
 */(function(e,a){(function(t,n){e.exports=n()})(Bu,function(){function t(m,l){var s=Object.keys(m);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(m);l&&(r=r.filter(function(C){return Object.getOwnPropertyDescriptor(m,C).enumerable})),s.push.apply(s,r)}return s}function n(m){for(var l=1;l<arguments.length;l++){var s=arguments[l]!=null?arguments[l]:{};l%2?t(Object(s),!0).forEach(function(r){v(m,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(s)):t(Object(s)).forEach(function(r){Object.defineProperty(m,r,Object.getOwnPropertyDescriptor(s,r))})}return m}function i(m){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},i(m)}function o(m,l){if(!(m instanceof l))throw new TypeError("Cannot call a class as a function")}function u(m,l){for(var s=0;s<l.length;s++){var r=l[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(m,r.key,r)}}function f(m,l,s){return l&&u(m.prototype,l),s&&u(m,s),Object.defineProperty(m,"prototype",{writable:!1}),m}function v(m,l,s){return l in m?Object.defineProperty(m,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):m[l]=s,m}function h(m){return d(m)||S(m)||M(m)||P()}function d(m){if(Array.isArray(m))return q(m)}function S(m){if(typeof Symbol!="undefined"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}function M(m,l){if(!!m){if(typeof m=="string")return q(m,l);var s=Object.prototype.toString.call(m).slice(8,-1);if(s==="Object"&&m.constructor&&(s=m.constructor.name),s==="Map"||s==="Set")return Array.from(m);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return q(m,l)}}function q(m,l){(l==null||l>m.length)&&(l=m.length);for(var s=0,r=new Array(l);s<l;s++)r[s]=m[s];return r}function P(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var A=typeof window!="undefined"&&typeof window.document!="undefined",z=A?window:{},se=A&&z.document.documentElement?"ontouchstart"in z.document.documentElement:!1,N=A?"PointerEvent"in z:!1,R="cropper",w="all",H="crop",ie="move",De="zoom",Q="e",ue="w",he="s",me="n",we="ne",Re="nw",Le="se",Me="sw",qe="".concat(R,"-crop"),$e="".concat(R,"-disabled"),Ve="".concat(R,"-hidden"),ct="".concat(R,"-hide"),ne="".concat(R,"-invisible"),j="".concat(R,"-modal"),fe="".concat(R,"-move"),oe="".concat(R,"Action"),Fe="".concat(R,"Preview"),Ue="crop",Ce="move",pe="none",U="crop",G="cropend",ze="cropmove",Ie="cropstart",Ne="dblclick",vt=se?"touchstart":"mousedown",Ht=se?"touchmove":"mousemove",Nt=se?"touchend touchcancel":"mouseup",Et=N?"pointerdown":vt,gt=N?"pointermove":Ht,Zt=N?"pointerup pointercancel":Nt,da="ready",pt="resize",bt="wheel",Pt="zoom",ea="image/jpeg",ba=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,fa=/^data:/,jt=/^data:image\/jpeg;base64,/,ha=/^img|canvas$/i,ma=200,zt=100,V={viewMode:0,dragMode:Ue,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:ma,minContainerHeight:zt,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Y='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',_e=Number.isNaN||z.isNaN;function ae(m){return typeof m=="number"&&!_e(m)}var Ke=function(l){return l>0&&l<1/0};function Ct(m){return typeof m=="undefined"}function Oe(m){return i(m)==="object"&&m!==null}var at=Object.prototype.hasOwnProperty;function ht(m){if(!Oe(m))return!1;try{var l=m.constructor,s=l.prototype;return l&&s&&at.call(s,"isPrototypeOf")}catch{return!1}}function mt(m){return typeof m=="function"}var oa=Array.prototype.slice;function Oa(m){return Array.from?Array.from(m):oa.call(m)}function nt(m,l){return m&&mt(l)&&(Array.isArray(m)||ae(m.length)?Oa(m).forEach(function(s,r){l.call(m,s,r,m)}):Oe(m)&&Object.keys(m).forEach(function(s){l.call(m,m[s],s,m)})),m}var Ge=Object.assign||function(l){for(var s=arguments.length,r=new Array(s>1?s-1:0),C=1;C<s;C++)r[C-1]=arguments[C];return Oe(l)&&r.length>0&&r.forEach(function(p){Oe(p)&&Object.keys(p).forEach(function(x){l[x]=p[x]})}),l},Ma=/\.\d*(?:0|9){12}\d*$/;function O(m){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Ma.test(m)?Math.round(m*l)/l:m}var de=/^width|height|left|top|marginLeft|marginTop$/;function ve(m,l){var s=m.style;nt(l,function(r,C){de.test(C)&&ae(r)&&(r="".concat(r,"px")),s[C]=r})}function Te(m,l){return m.classList?m.classList.contains(l):m.className.indexOf(l)>-1}function Se(m,l){if(!!l){if(ae(m.length)){nt(m,function(r){Se(r,l)});return}if(m.classList){m.classList.add(l);return}var s=m.className.trim();s?s.indexOf(l)<0&&(m.className="".concat(s," ").concat(l)):m.className=l}}function Ye(m,l){if(!!l){if(ae(m.length)){nt(m,function(s){Ye(s,l)});return}if(m.classList){m.classList.remove(l);return}m.className.indexOf(l)>=0&&(m.className=m.className.replace(l,""))}}function c(m,l,s){if(!!l){if(ae(m.length)){nt(m,function(r){c(r,l,s)});return}s?Se(m,l):Ye(m,l)}}var _=/([a-z\d])([A-Z])/g;function E(m){return m.replace(_,"$1-$2").toLowerCase()}function le(m,l){return Oe(m[l])?m[l]:m.dataset?m.dataset[l]:m.getAttribute("data-".concat(E(l)))}function Z(m,l,s){Oe(s)?m[l]=s:m.dataset?m.dataset[l]=s:m.setAttribute("data-".concat(E(l)),s)}function We(m,l){if(Oe(m[l]))try{delete m[l]}catch{m[l]=void 0}else if(m.dataset)try{delete m.dataset[l]}catch{m.dataset[l]=void 0}else m.removeAttribute("data-".concat(E(l)))}var ge=/\s\s*/,Be=function(){var m=!1;if(A){var l=!1,s=function(){},r=Object.defineProperty({},"once",{get:function(){return m=!0,l},set:function(p){l=p}});z.addEventListener("test",s,r),z.removeEventListener("test",s,r)}return m}();function He(m,l,s){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},C=s;l.trim().split(ge).forEach(function(p){if(!Be){var x=m.listeners;x&&x[p]&&x[p][s]&&(C=x[p][s],delete x[p][s],Object.keys(x[p]).length===0&&delete x[p],Object.keys(x).length===0&&delete m.listeners)}m.removeEventListener(p,C,r)})}function _t(m,l,s){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},C=s;l.trim().split(ge).forEach(function(p){if(r.once&&!Be){var x=m.listeners,B=x===void 0?{}:x;C=function(){delete B[p][s],m.removeEventListener(p,C,r);for(var L=arguments.length,I=new Array(L),F=0;F<L;F++)I[F]=arguments[F];s.apply(m,I)},B[p]||(B[p]={}),B[p][s]&&m.removeEventListener(p,B[p][s],r),B[p][s]=C,m.listeners=B}m.addEventListener(p,C,r)})}function ia(m,l,s){var r;return mt(Event)&&mt(CustomEvent)?r=new CustomEvent(l,{detail:s,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(l,!0,!0,s)),m.dispatchEvent(r)}function un(m){var l=m.getBoundingClientRect();return{left:l.left+(window.pageXOffset-document.documentElement.clientLeft),top:l.top+(window.pageYOffset-document.documentElement.clientTop)}}var Tn=z.location,Gn=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function En(m){var l=m.match(Gn);return l!==null&&(l[1]!==Tn.protocol||l[2]!==Tn.hostname||l[3]!==Tn.port)}function On(m){var l="timestamp=".concat(new Date().getTime());return m+(m.indexOf("?")===-1?"?":"&")+l}function Ua(m){var l=m.rotate,s=m.scaleX,r=m.scaleY,C=m.translateX,p=m.translateY,x=[];ae(C)&&C!==0&&x.push("translateX(".concat(C,"px)")),ae(p)&&p!==0&&x.push("translateY(".concat(p,"px)")),ae(l)&&l!==0&&x.push("rotate(".concat(l,"deg)")),ae(s)&&s!==1&&x.push("scaleX(".concat(s,")")),ae(r)&&r!==1&&x.push("scaleY(".concat(r,")"));var B=x.length?x.join(" "):"none";return{WebkitTransform:B,msTransform:B,transform:B}}function b(m){var l=n({},m),s=0;return nt(m,function(r,C){delete l[C],nt(l,function(p){var x=Math.abs(r.startX-p.startX),B=Math.abs(r.startY-p.startY),W=Math.abs(r.endX-p.endX),L=Math.abs(r.endY-p.endY),I=Math.sqrt(x*x+B*B),F=Math.sqrt(W*W+L*L),$=(F-I)/I;Math.abs($)>Math.abs(s)&&(s=$)})}),s}function ce(m,l){var s=m.pageX,r=m.pageY,C={endX:s,endY:r};return l?C:n({startX:s,startY:r},C)}function re(m){var l=0,s=0,r=0;return nt(m,function(C){var p=C.startX,x=C.startY;l+=p,s+=x,r+=1}),l/=r,s/=r,{pageX:l,pageY:s}}function ke(m){var l=m.aspectRatio,s=m.height,r=m.width,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",p=Ke(r),x=Ke(s);if(p&&x){var B=s*l;C==="contain"&&B>r||C==="cover"&&B<r?s=r/l:r=s*l}else p?s=r/l:x&&(r=s*l);return{width:r,height:s}}function dt(m){var l=m.width,s=m.height,r=m.degree;if(r=Math.abs(r)%180,r===90)return{width:s,height:l};var C=r%90*Math.PI/180,p=Math.sin(C),x=Math.cos(C),B=l*x+s*p,W=l*p+s*x;return r>90?{width:W,height:B}:{width:B,height:W}}function ot(m,l,s,r){var C=l.aspectRatio,p=l.naturalWidth,x=l.naturalHeight,B=l.rotate,W=B===void 0?0:B,L=l.scaleX,I=L===void 0?1:L,F=l.scaleY,$=F===void 0?1:F,Qe=s.aspectRatio,Xe=s.naturalWidth,St=s.naturalHeight,lt=r.fillColor,Rt=lt===void 0?"transparent":lt,Lt=r.imageSmoothingEnabled,Mt=Lt===void 0?!0:Lt,Ba=r.imageSmoothingQuality,la=Ba===void 0?"low":Ba,K=r.maxWidth,rt=K===void 0?1/0:K,Vt=r.maxHeight,va=Vt===void 0?1/0:Vt,Aa=r.minWidth,Ja=Aa===void 0?0:Aa,Za=r.minHeight,Ya=Za===void 0?0:Za,ka=document.createElement("canvas"),ta=ka.getContext("2d"),en=ke({aspectRatio:Qe,width:rt,height:va}),Jn=ke({aspectRatio:Qe,width:Ja,height:Ya},"cover"),ko=Math.min(en.width,Math.max(Jn.width,Xe)),Do=Math.min(en.height,Math.max(Jn.height,St)),mi=ke({aspectRatio:C,width:rt,height:va}),vi=ke({aspectRatio:C,width:Ja,height:Ya},"cover"),gi=Math.min(mi.width,Math.max(vi.width,p)),pi=Math.min(mi.height,Math.max(vi.height,x)),wr=[-gi/2,-pi/2,gi,pi];return ka.width=O(ko),ka.height=O(Do),ta.fillStyle=Rt,ta.fillRect(0,0,ko,Do),ta.save(),ta.translate(ko/2,Do/2),ta.rotate(W*Math.PI/180),ta.scale(I,$),ta.imageSmoothingEnabled=Mt,ta.imageSmoothingQuality=la,ta.drawImage.apply(ta,[m].concat(h(wr.map(function(Sr){return Math.floor(O(Sr))})))),ta.restore(),ka}var wt=String.fromCharCode;function $t(m,l,s){var r="";s+=l;for(var C=l;C<s;C+=1)r+=wt(m.getUint8(C));return r}var Mn=/^data:.*,/;function cr(m){var l=m.replace(Mn,""),s=atob(l),r=new ArrayBuffer(s.length),C=new Uint8Array(r);return nt(C,function(p,x){C[x]=s.charCodeAt(x)}),r}function dr(m,l){for(var s=[],r=8192,C=new Uint8Array(m);C.length>0;)s.push(wt.apply(null,Oa(C.subarray(0,r)))),C=C.subarray(r);return"data:".concat(l,";base64,").concat(btoa(s.join("")))}function fr(m){var l=new DataView(m),s;try{var r,C,p;if(l.getUint8(0)===255&&l.getUint8(1)===216)for(var x=l.byteLength,B=2;B+1<x;){if(l.getUint8(B)===255&&l.getUint8(B+1)===225){C=B;break}B+=1}if(C){var W=C+4,L=C+10;if($t(l,W,4)==="Exif"){var I=l.getUint16(L);if(r=I===18761,(r||I===19789)&&l.getUint16(L+2,r)===42){var F=l.getUint32(L+4,r);F>=8&&(p=L+F)}}}if(p){var $=l.getUint16(p,r),Qe,Xe;for(Xe=0;Xe<$;Xe+=1)if(Qe=p+Xe*12+2,l.getUint16(Qe,r)===274){Qe+=8,s=l.getUint16(Qe,r),l.setUint16(Qe,1,r);break}}}catch{s=1}return s}function hr(m){var l=0,s=1,r=1;switch(m){case 2:s=-1;break;case 3:l=-180;break;case 4:r=-1;break;case 5:l=90,r=-1;break;case 6:l=90;break;case 7:l=90,s=-1;break;case 8:l=-90;break}return{rotate:l,scaleX:s,scaleY:r}}var mr={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var l=this.element,s=this.options,r=this.container,C=this.cropper,p=Number(s.minContainerWidth),x=Number(s.minContainerHeight);Se(C,Ve),Ye(l,Ve);var B={width:Math.max(r.offsetWidth,p>=0?p:ma),height:Math.max(r.offsetHeight,x>=0?x:zt)};this.containerData=B,ve(C,{width:B.width,height:B.height}),Se(l,Ve),Ye(C,Ve)},initCanvas:function(){var l=this.containerData,s=this.imageData,r=this.options.viewMode,C=Math.abs(s.rotate)%180===90,p=C?s.naturalHeight:s.naturalWidth,x=C?s.naturalWidth:s.naturalHeight,B=p/x,W=l.width,L=l.height;l.height*B>l.width?r===3?W=l.height*B:L=l.width/B:r===3?L=l.width/B:W=l.height*B;var I={aspectRatio:B,naturalWidth:p,naturalHeight:x,width:W,height:L};this.canvasData=I,this.limited=r===1||r===2,this.limitCanvas(!0,!0),I.width=Math.min(Math.max(I.width,I.minWidth),I.maxWidth),I.height=Math.min(Math.max(I.height,I.minHeight),I.maxHeight),I.left=(l.width-I.width)/2,I.top=(l.height-I.height)/2,I.oldLeft=I.left,I.oldTop=I.top,this.initialCanvasData=Ge({},I)},limitCanvas:function(l,s){var r=this.options,C=this.containerData,p=this.canvasData,x=this.cropBoxData,B=r.viewMode,W=p.aspectRatio,L=this.cropped&&x;if(l){var I=Number(r.minCanvasWidth)||0,F=Number(r.minCanvasHeight)||0;B>1?(I=Math.max(I,C.width),F=Math.max(F,C.height),B===3&&(F*W>I?I=F*W:F=I/W)):B>0&&(I?I=Math.max(I,L?x.width:0):F?F=Math.max(F,L?x.height:0):L&&(I=x.width,F=x.height,F*W>I?I=F*W:F=I/W));var $=ke({aspectRatio:W,width:I,height:F});I=$.width,F=$.height,p.minWidth=I,p.minHeight=F,p.maxWidth=1/0,p.maxHeight=1/0}if(s)if(B>(L?0:1)){var Qe=C.width-p.width,Xe=C.height-p.height;p.minLeft=Math.min(0,Qe),p.minTop=Math.min(0,Xe),p.maxLeft=Math.max(0,Qe),p.maxTop=Math.max(0,Xe),L&&this.limited&&(p.minLeft=Math.min(x.left,x.left+(x.width-p.width)),p.minTop=Math.min(x.top,x.top+(x.height-p.height)),p.maxLeft=x.left,p.maxTop=x.top,B===2&&(p.width>=C.width&&(p.minLeft=Math.min(0,Qe),p.maxLeft=Math.max(0,Qe)),p.height>=C.height&&(p.minTop=Math.min(0,Xe),p.maxTop=Math.max(0,Xe))))}else p.minLeft=-p.width,p.minTop=-p.height,p.maxLeft=C.width,p.maxTop=C.height},renderCanvas:function(l,s){var r=this.canvasData,C=this.imageData;if(s){var p=dt({width:C.naturalWidth*Math.abs(C.scaleX||1),height:C.naturalHeight*Math.abs(C.scaleY||1),degree:C.rotate||0}),x=p.width,B=p.height,W=r.width*(x/r.naturalWidth),L=r.height*(B/r.naturalHeight);r.left-=(W-r.width)/2,r.top-=(L-r.height)/2,r.width=W,r.height=L,r.aspectRatio=x/B,r.naturalWidth=x,r.naturalHeight=B,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,ve(this.canvas,Ge({width:r.width,height:r.height},Ua({translateX:r.left,translateY:r.top}))),this.renderImage(l),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(l){var s=this.canvasData,r=this.imageData,C=r.naturalWidth*(s.width/s.naturalWidth),p=r.naturalHeight*(s.height/s.naturalHeight);Ge(r,{width:C,height:p,left:(s.width-C)/2,top:(s.height-p)/2}),ve(this.image,Ge({width:r.width,height:r.height},Ua(Ge({translateX:r.left,translateY:r.top},r)))),l&&this.output()},initCropBox:function(){var l=this.options,s=this.canvasData,r=l.aspectRatio||l.initialAspectRatio,C=Number(l.autoCropArea)||.8,p={width:s.width,height:s.height};r&&(s.height*r>s.width?p.height=p.width/r:p.width=p.height*r),this.cropBoxData=p,this.limitCropBox(!0,!0),p.width=Math.min(Math.max(p.width,p.minWidth),p.maxWidth),p.height=Math.min(Math.max(p.height,p.minHeight),p.maxHeight),p.width=Math.max(p.minWidth,p.width*C),p.height=Math.max(p.minHeight,p.height*C),p.left=s.left+(s.width-p.width)/2,p.top=s.top+(s.height-p.height)/2,p.oldLeft=p.left,p.oldTop=p.top,this.initialCropBoxData=Ge({},p)},limitCropBox:function(l,s){var r=this.options,C=this.containerData,p=this.canvasData,x=this.cropBoxData,B=this.limited,W=r.aspectRatio;if(l){var L=Number(r.minCropBoxWidth)||0,I=Number(r.minCropBoxHeight)||0,F=B?Math.min(C.width,p.width,p.width+p.left,C.width-p.left):C.width,$=B?Math.min(C.height,p.height,p.height+p.top,C.height-p.top):C.height;L=Math.min(L,C.width),I=Math.min(I,C.height),W&&(L&&I?I*W>L?I=L/W:L=I*W:L?I=L/W:I&&(L=I*W),$*W>F?$=F/W:F=$*W),x.minWidth=Math.min(L,F),x.minHeight=Math.min(I,$),x.maxWidth=F,x.maxHeight=$}s&&(B?(x.minLeft=Math.max(0,p.left),x.minTop=Math.max(0,p.top),x.maxLeft=Math.min(C.width,p.left+p.width)-x.width,x.maxTop=Math.min(C.height,p.top+p.height)-x.height):(x.minLeft=0,x.minTop=0,x.maxLeft=C.width-x.width,x.maxTop=C.height-x.height))},renderCropBox:function(){var l=this.options,s=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,l.movable&&l.cropBoxMovable&&Z(this.face,oe,r.width>=s.width&&r.height>=s.height?ie:w),ve(this.cropBox,Ge({width:r.width,height:r.height},Ua({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),ia(this.element,U,this.getData())}},vr={initPreview:function(){var l=this.element,s=this.crossOrigin,r=this.options.preview,C=s?this.crossOriginUrl:this.url,p=l.alt||"The image to preview",x=document.createElement("img");if(s&&(x.crossOrigin=s),x.src=C,x.alt=p,this.viewBox.appendChild(x),this.viewBoxImage=x,!!r){var B=r;typeof r=="string"?B=l.ownerDocument.querySelectorAll(r):r.querySelector&&(B=[r]),this.previews=B,nt(B,function(W){var L=document.createElement("img");Z(W,Fe,{width:W.offsetWidth,height:W.offsetHeight,html:W.innerHTML}),s&&(L.crossOrigin=s),L.src=C,L.alt=p,L.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',W.innerHTML="",W.appendChild(L)})}},resetPreview:function(){nt(this.previews,function(l){var s=le(l,Fe);ve(l,{width:s.width,height:s.height}),l.innerHTML=s.html,We(l,Fe)})},preview:function(){var l=this.imageData,s=this.canvasData,r=this.cropBoxData,C=r.width,p=r.height,x=l.width,B=l.height,W=r.left-s.left-l.left,L=r.top-s.top-l.top;!this.cropped||this.disabled||(ve(this.viewBoxImage,Ge({width:x,height:B},Ua(Ge({translateX:-W,translateY:-L},l)))),nt(this.previews,function(I){var F=le(I,Fe),$=F.width,Qe=F.height,Xe=$,St=Qe,lt=1;C&&(lt=$/C,St=p*lt),p&&St>Qe&&(lt=Qe/p,Xe=C*lt,St=Qe),ve(I,{width:Xe,height:St}),ve(I.getElementsByTagName("img")[0],Ge({width:x*lt,height:B*lt},Ua(Ge({translateX:-W*lt,translateY:-L*lt},l))))}))}},gr={bind:function(){var l=this.element,s=this.options,r=this.cropper;mt(s.cropstart)&&_t(l,Ie,s.cropstart),mt(s.cropmove)&&_t(l,ze,s.cropmove),mt(s.cropend)&&_t(l,G,s.cropend),mt(s.crop)&&_t(l,U,s.crop),mt(s.zoom)&&_t(l,Pt,s.zoom),_t(r,Et,this.onCropStart=this.cropStart.bind(this)),s.zoomable&&s.zoomOnWheel&&_t(r,bt,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),s.toggleDragModeOnDblclick&&_t(r,Ne,this.onDblclick=this.dblclick.bind(this)),_t(l.ownerDocument,gt,this.onCropMove=this.cropMove.bind(this)),_t(l.ownerDocument,Zt,this.onCropEnd=this.cropEnd.bind(this)),s.responsive&&_t(window,pt,this.onResize=this.resize.bind(this))},unbind:function(){var l=this.element,s=this.options,r=this.cropper;mt(s.cropstart)&&He(l,Ie,s.cropstart),mt(s.cropmove)&&He(l,ze,s.cropmove),mt(s.cropend)&&He(l,G,s.cropend),mt(s.crop)&&He(l,U,s.crop),mt(s.zoom)&&He(l,Pt,s.zoom),He(r,Et,this.onCropStart),s.zoomable&&s.zoomOnWheel&&He(r,bt,this.onWheel,{passive:!1,capture:!0}),s.toggleDragModeOnDblclick&&He(r,Ne,this.onDblclick),He(l.ownerDocument,gt,this.onCropMove),He(l.ownerDocument,Zt,this.onCropEnd),s.responsive&&He(window,pt,this.onResize)}},pr={resize:function(){if(!this.disabled){var l=this.options,s=this.container,r=this.containerData,C=s.offsetWidth/r.width,p=s.offsetHeight/r.height,x=Math.abs(C-1)>Math.abs(p-1)?C:p;if(x!==1){var B,W;l.restore&&(B=this.getCanvasData(),W=this.getCropBoxData()),this.render(),l.restore&&(this.setCanvasData(nt(B,function(L,I){B[I]=L*x})),this.setCropBoxData(nt(W,function(L,I){W[I]=L*x})))}}},dblclick:function(){this.disabled||this.options.dragMode===pe||this.setDragMode(Te(this.dragBox,qe)?Ce:Ue)},wheel:function(l){var s=this,r=Number(this.options.wheelZoomRatio)||.1,C=1;this.disabled||(l.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){s.wheeling=!1},50),l.deltaY?C=l.deltaY>0?1:-1:l.wheelDelta?C=-l.wheelDelta/120:l.detail&&(C=l.detail>0?1:-1),this.zoom(-C*r,l)))},cropStart:function(l){var s=l.buttons,r=l.button;if(!(this.disabled||(l.type==="mousedown"||l.type==="pointerdown"&&l.pointerType==="mouse")&&(ae(s)&&s!==1||ae(r)&&r!==0||l.ctrlKey))){var C=this.options,p=this.pointers,x;l.changedTouches?nt(l.changedTouches,function(B){p[B.identifier]=ce(B)}):p[l.pointerId||0]=ce(l),Object.keys(p).length>1&&C.zoomable&&C.zoomOnTouch?x=De:x=le(l.target,oe),!!ba.test(x)&&ia(this.element,Ie,{originalEvent:l,action:x})!==!1&&(l.preventDefault(),this.action=x,this.cropping=!1,x===H&&(this.cropping=!0,Se(this.dragBox,j)))}},cropMove:function(l){var s=this.action;if(!(this.disabled||!s)){var r=this.pointers;l.preventDefault(),ia(this.element,ze,{originalEvent:l,action:s})!==!1&&(l.changedTouches?nt(l.changedTouches,function(C){Ge(r[C.identifier]||{},ce(C,!0))}):Ge(r[l.pointerId||0]||{},ce(l,!0)),this.change(l))}},cropEnd:function(l){if(!this.disabled){var s=this.action,r=this.pointers;l.changedTouches?nt(l.changedTouches,function(C){delete r[C.identifier]}):delete r[l.pointerId||0],s&&(l.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,c(this.dragBox,j,this.cropped&&this.options.modal)),ia(this.element,G,{originalEvent:l,action:s}))}}},br={change:function(l){var s=this.options,r=this.canvasData,C=this.containerData,p=this.cropBoxData,x=this.pointers,B=this.action,W=s.aspectRatio,L=p.left,I=p.top,F=p.width,$=p.height,Qe=L+F,Xe=I+$,St=0,lt=0,Rt=C.width,Lt=C.height,Mt=!0,Ba;!W&&l.shiftKey&&(W=F&&$?F/$:1),this.limited&&(St=p.minLeft,lt=p.minTop,Rt=St+Math.min(C.width,r.width,r.left+r.width),Lt=lt+Math.min(C.height,r.height,r.top+r.height));var la=x[Object.keys(x)[0]],K={x:la.endX-la.startX,y:la.endY-la.startY},rt=function(va){switch(va){case Q:Qe+K.x>Rt&&(K.x=Rt-Qe);break;case ue:L+K.x<St&&(K.x=St-L);break;case me:I+K.y<lt&&(K.y=lt-I);break;case he:Xe+K.y>Lt&&(K.y=Lt-Xe);break}};switch(B){case w:L+=K.x,I+=K.y;break;case Q:if(K.x>=0&&(Qe>=Rt||W&&(I<=lt||Xe>=Lt))){Mt=!1;break}rt(Q),F+=K.x,F<0&&(B=ue,F=-F,L-=F),W&&($=F/W,I+=(p.height-$)/2);break;case me:if(K.y<=0&&(I<=lt||W&&(L<=St||Qe>=Rt))){Mt=!1;break}rt(me),$-=K.y,I+=K.y,$<0&&(B=he,$=-$,I-=$),W&&(F=$*W,L+=(p.width-F)/2);break;case ue:if(K.x<=0&&(L<=St||W&&(I<=lt||Xe>=Lt))){Mt=!1;break}rt(ue),F-=K.x,L+=K.x,F<0&&(B=Q,F=-F,L-=F),W&&($=F/W,I+=(p.height-$)/2);break;case he:if(K.y>=0&&(Xe>=Lt||W&&(L<=St||Qe>=Rt))){Mt=!1;break}rt(he),$+=K.y,$<0&&(B=me,$=-$,I-=$),W&&(F=$*W,L+=(p.width-F)/2);break;case we:if(W){if(K.y<=0&&(I<=lt||Qe>=Rt)){Mt=!1;break}rt(me),$-=K.y,I+=K.y,F=$*W}else rt(me),rt(Q),K.x>=0?Qe<Rt?F+=K.x:K.y<=0&&I<=lt&&(Mt=!1):F+=K.x,K.y<=0?I>lt&&($-=K.y,I+=K.y):($-=K.y,I+=K.y);F<0&&$<0?(B=Me,$=-$,F=-F,I-=$,L-=F):F<0?(B=Re,F=-F,L-=F):$<0&&(B=Le,$=-$,I-=$);break;case Re:if(W){if(K.y<=0&&(I<=lt||L<=St)){Mt=!1;break}rt(me),$-=K.y,I+=K.y,F=$*W,L+=p.width-F}else rt(me),rt(ue),K.x<=0?L>St?(F-=K.x,L+=K.x):K.y<=0&&I<=lt&&(Mt=!1):(F-=K.x,L+=K.x),K.y<=0?I>lt&&($-=K.y,I+=K.y):($-=K.y,I+=K.y);F<0&&$<0?(B=Le,$=-$,F=-F,I-=$,L-=F):F<0?(B=we,F=-F,L-=F):$<0&&(B=Me,$=-$,I-=$);break;case Me:if(W){if(K.x<=0&&(L<=St||Xe>=Lt)){Mt=!1;break}rt(ue),F-=K.x,L+=K.x,$=F/W}else rt(he),rt(ue),K.x<=0?L>St?(F-=K.x,L+=K.x):K.y>=0&&Xe>=Lt&&(Mt=!1):(F-=K.x,L+=K.x),K.y>=0?Xe<Lt&&($+=K.y):$+=K.y;F<0&&$<0?(B=we,$=-$,F=-F,I-=$,L-=F):F<0?(B=Le,F=-F,L-=F):$<0&&(B=Re,$=-$,I-=$);break;case Le:if(W){if(K.x>=0&&(Qe>=Rt||Xe>=Lt)){Mt=!1;break}rt(Q),F+=K.x,$=F/W}else rt(he),rt(Q),K.x>=0?Qe<Rt?F+=K.x:K.y>=0&&Xe>=Lt&&(Mt=!1):F+=K.x,K.y>=0?Xe<Lt&&($+=K.y):$+=K.y;F<0&&$<0?(B=Re,$=-$,F=-F,I-=$,L-=F):F<0?(B=Me,F=-F,L-=F):$<0&&(B=we,$=-$,I-=$);break;case ie:this.move(K.x,K.y),Mt=!1;break;case De:this.zoom(b(x),l),Mt=!1;break;case H:if(!K.x||!K.y){Mt=!1;break}Ba=un(this.cropper),L=la.startX-Ba.left,I=la.startY-Ba.top,F=p.minWidth,$=p.minHeight,K.x>0?B=K.y>0?Le:we:K.x<0&&(L-=F,B=K.y>0?Me:Re),K.y<0&&(I-=$),this.cropped||(Ye(this.cropBox,Ve),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}Mt&&(p.width=F,p.height=$,p.left=L,p.top=I,this.action=B,this.renderCropBox()),nt(x,function(Vt){Vt.startX=Vt.endX,Vt.startY=Vt.endY})}},yr={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Se(this.dragBox,j),Ye(this.cropBox,Ve),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Ge({},this.initialImageData),this.canvasData=Ge({},this.initialCanvasData),this.cropBoxData=Ge({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Ge(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Ye(this.dragBox,j),Se(this.cropBox,Ve)),this},replace:function(l){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&l&&(this.isImg&&(this.element.src=l),s?(this.url=l,this.image.src=l,this.ready&&(this.viewBoxImage.src=l,nt(this.previews,function(r){r.getElementsByTagName("img")[0].src=l}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(l))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Ye(this.cropper,$e)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Se(this.cropper,$e)),this},destroy:function(){var l=this.element;return l[R]?(l[R]=void 0,this.isImg&&this.replaced&&(l.src=this.originalUrl),this.uncreate(),this):this},move:function(l){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,r=this.canvasData,C=r.left,p=r.top;return this.moveTo(Ct(l)?l:C+Number(l),Ct(s)?s:p+Number(s))},moveTo:function(l){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,r=this.canvasData,C=!1;return l=Number(l),s=Number(s),this.ready&&!this.disabled&&this.options.movable&&(ae(l)&&(r.left=l,C=!0),ae(s)&&(r.top=s,C=!0),C&&this.renderCanvas(!0)),this},zoom:function(l,s){var r=this.canvasData;return l=Number(l),l<0?l=1/(1-l):l=1+l,this.zoomTo(r.width*l/r.naturalWidth,null,s)},zoomTo:function(l,s,r){var C=this.options,p=this.canvasData,x=p.width,B=p.height,W=p.naturalWidth,L=p.naturalHeight;if(l=Number(l),l>=0&&this.ready&&!this.disabled&&C.zoomable){var I=W*l,F=L*l;if(ia(this.element,Pt,{ratio:l,oldRatio:x/W,originalEvent:r})===!1)return this;if(r){var $=this.pointers,Qe=un(this.cropper),Xe=$&&Object.keys($).length?re($):{pageX:r.pageX,pageY:r.pageY};p.left-=(I-x)*((Xe.pageX-Qe.left-p.left)/x),p.top-=(F-B)*((Xe.pageY-Qe.top-p.top)/B)}else ht(s)&&ae(s.x)&&ae(s.y)?(p.left-=(I-x)*((s.x-p.left)/x),p.top-=(F-B)*((s.y-p.top)/B)):(p.left-=(I-x)/2,p.top-=(F-B)/2);p.width=I,p.height=F,this.renderCanvas(!0)}return this},rotate:function(l){return this.rotateTo((this.imageData.rotate||0)+Number(l))},rotateTo:function(l){return l=Number(l),ae(l)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=l%360,this.renderCanvas(!0,!0)),this},scaleX:function(l){var s=this.imageData.scaleY;return this.scale(l,ae(s)?s:1)},scaleY:function(l){var s=this.imageData.scaleX;return this.scale(ae(s)?s:1,l)},scale:function(l){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l,r=this.imageData,C=!1;return l=Number(l),s=Number(s),this.ready&&!this.disabled&&this.options.scalable&&(ae(l)&&(r.scaleX=l,C=!0),ae(s)&&(r.scaleY=s,C=!0),C&&this.renderCanvas(!0,!0)),this},getData:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,s=this.options,r=this.imageData,C=this.canvasData,p=this.cropBoxData,x;if(this.ready&&this.cropped){x={x:p.left-C.left,y:p.top-C.top,width:p.width,height:p.height};var B=r.width/r.naturalWidth;if(nt(x,function(I,F){x[F]=I/B}),l){var W=Math.round(x.y+x.height),L=Math.round(x.x+x.width);x.x=Math.round(x.x),x.y=Math.round(x.y),x.width=L-x.x,x.height=W-x.y}}else x={x:0,y:0,width:0,height:0};return s.rotatable&&(x.rotate=r.rotate||0),s.scalable&&(x.scaleX=r.scaleX||1,x.scaleY=r.scaleY||1),x},setData:function(l){var s=this.options,r=this.imageData,C=this.canvasData,p={};if(this.ready&&!this.disabled&&ht(l)){var x=!1;s.rotatable&&ae(l.rotate)&&l.rotate!==r.rotate&&(r.rotate=l.rotate,x=!0),s.scalable&&(ae(l.scaleX)&&l.scaleX!==r.scaleX&&(r.scaleX=l.scaleX,x=!0),ae(l.scaleY)&&l.scaleY!==r.scaleY&&(r.scaleY=l.scaleY,x=!0)),x&&this.renderCanvas(!0,!0);var B=r.width/r.naturalWidth;ae(l.x)&&(p.left=l.x*B+C.left),ae(l.y)&&(p.top=l.y*B+C.top),ae(l.width)&&(p.width=l.width*B),ae(l.height)&&(p.height=l.height*B),this.setCropBoxData(p)}return this},getContainerData:function(){return this.ready?Ge({},this.containerData):{}},getImageData:function(){return this.sized?Ge({},this.imageData):{}},getCanvasData:function(){var l=this.canvasData,s={};return this.ready&&nt(["left","top","width","height","naturalWidth","naturalHeight"],function(r){s[r]=l[r]}),s},setCanvasData:function(l){var s=this.canvasData,r=s.aspectRatio;return this.ready&&!this.disabled&&ht(l)&&(ae(l.left)&&(s.left=l.left),ae(l.top)&&(s.top=l.top),ae(l.width)?(s.width=l.width,s.height=l.width/r):ae(l.height)&&(s.height=l.height,s.width=l.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var l=this.cropBoxData,s;return this.ready&&this.cropped&&(s={left:l.left,top:l.top,width:l.width,height:l.height}),s||{}},setCropBoxData:function(l){var s=this.cropBoxData,r=this.options.aspectRatio,C,p;return this.ready&&this.cropped&&!this.disabled&&ht(l)&&(ae(l.left)&&(s.left=l.left),ae(l.top)&&(s.top=l.top),ae(l.width)&&l.width!==s.width&&(C=!0,s.width=l.width),ae(l.height)&&l.height!==s.height&&(p=!0,s.height=l.height),r&&(C?s.height=s.width/r:p&&(s.width=s.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var s=this.canvasData,r=ot(this.image,this.imageData,s,l);if(!this.cropped)return r;var C=this.getData(),p=C.x,x=C.y,B=C.width,W=C.height,L=r.width/Math.floor(s.naturalWidth);L!==1&&(p*=L,x*=L,B*=L,W*=L);var I=B/W,F=ke({aspectRatio:I,width:l.maxWidth||1/0,height:l.maxHeight||1/0}),$=ke({aspectRatio:I,width:l.minWidth||0,height:l.minHeight||0},"cover"),Qe=ke({aspectRatio:I,width:l.width||(L!==1?r.width:B),height:l.height||(L!==1?r.height:W)}),Xe=Qe.width,St=Qe.height;Xe=Math.min(F.width,Math.max($.width,Xe)),St=Math.min(F.height,Math.max($.height,St));var lt=document.createElement("canvas"),Rt=lt.getContext("2d");lt.width=O(Xe),lt.height=O(St),Rt.fillStyle=l.fillColor||"transparent",Rt.fillRect(0,0,Xe,St);var Lt=l.imageSmoothingEnabled,Mt=Lt===void 0?!0:Lt,Ba=l.imageSmoothingQuality;Rt.imageSmoothingEnabled=Mt,Ba&&(Rt.imageSmoothingQuality=Ba);var la=r.width,K=r.height,rt=p,Vt=x,va,Aa,Ja,Za,Ya,ka;rt<=-B||rt>la?(rt=0,va=0,Ja=0,Ya=0):rt<=0?(Ja=-rt,rt=0,va=Math.min(la,B+rt),Ya=va):rt<=la&&(Ja=0,va=Math.min(B,la-rt),Ya=va),va<=0||Vt<=-W||Vt>K?(Vt=0,Aa=0,Za=0,ka=0):Vt<=0?(Za=-Vt,Vt=0,Aa=Math.min(K,W+Vt),ka=Aa):Vt<=K&&(Za=0,Aa=Math.min(W,K-Vt),ka=Aa);var ta=[rt,Vt,va,Aa];if(Ya>0&&ka>0){var en=Xe/B;ta.push(Ja*en,Za*en,Ya*en,ka*en)}return Rt.drawImage.apply(Rt,[r].concat(h(ta.map(function(Jn){return Math.floor(O(Jn))})))),lt},setAspectRatio:function(l){var s=this.options;return!this.disabled&&!Ct(l)&&(s.aspectRatio=Math.max(0,l)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(l){var s=this.options,r=this.dragBox,C=this.face;if(this.ready&&!this.disabled){var p=l===Ue,x=s.movable&&l===Ce;l=p||x?l:pe,s.dragMode=l,Z(r,oe,l),c(r,qe,p),c(r,fe,x),s.cropBoxMovable||(Z(C,oe,l),c(C,qe,p),c(C,fe,x))}return this}},_r=z.Cropper,hi=function(){function m(l){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(o(this,m),!l||!ha.test(l.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=l,this.options=Ge({},V,ht(s)&&s),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return f(m,[{key:"init",value:function(){var s=this.element,r=s.tagName.toLowerCase(),C;if(!s[R]){if(s[R]=this,r==="img"){if(this.isImg=!0,C=s.getAttribute("src")||"",this.originalUrl=C,!C)return;C=s.src}else r==="canvas"&&window.HTMLCanvasElement&&(C=s.toDataURL());this.load(C)}}},{key:"load",value:function(s){var r=this;if(!!s){this.url=s,this.imageData={};var C=this.element,p=this.options;if(!p.rotatable&&!p.scalable&&(p.checkOrientation=!1),!p.checkOrientation||!window.ArrayBuffer){this.clone();return}if(fa.test(s)){jt.test(s)?this.read(cr(s)):this.clone();return}var x=new XMLHttpRequest,B=this.clone.bind(this);this.reloading=!0,this.xhr=x,x.onabort=B,x.onerror=B,x.ontimeout=B,x.onprogress=function(){x.getResponseHeader("content-type")!==ea&&x.abort()},x.onload=function(){r.read(x.response)},x.onloadend=function(){r.reloading=!1,r.xhr=null},p.checkCrossOrigin&&En(s)&&C.crossOrigin&&(s=On(s)),x.open("GET",s,!0),x.responseType="arraybuffer",x.withCredentials=C.crossOrigin==="use-credentials",x.send()}}},{key:"read",value:function(s){var r=this.options,C=this.imageData,p=fr(s),x=0,B=1,W=1;if(p>1){this.url=dr(s,ea);var L=hr(p);x=L.rotate,B=L.scaleX,W=L.scaleY}r.rotatable&&(C.rotate=x),r.scalable&&(C.scaleX=B,C.scaleY=W),this.clone()}},{key:"clone",value:function(){var s=this.element,r=this.url,C=s.crossOrigin,p=r;this.options.checkCrossOrigin&&En(r)&&(C||(C="anonymous"),p=On(r)),this.crossOrigin=C,this.crossOriginUrl=p;var x=document.createElement("img");C&&(x.crossOrigin=C),x.src=p||r,x.alt=s.alt||"The image to crop",this.image=x,x.onload=this.start.bind(this),x.onerror=this.stop.bind(this),Se(x,ct),s.parentNode.insertBefore(x,s.nextSibling)}},{key:"start",value:function(){var s=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var C=z.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(z.navigator.userAgent),p=function(L,I){Ge(s.imageData,{naturalWidth:L,naturalHeight:I,aspectRatio:L/I}),s.initialImageData=Ge({},s.imageData),s.sizing=!1,s.sized=!0,s.build()};if(r.naturalWidth&&!C){p(r.naturalWidth,r.naturalHeight);return}var x=document.createElement("img"),B=document.body||document.documentElement;this.sizingImage=x,x.onload=function(){p(x.width,x.height),C||B.removeChild(x)},x.src=r.src,C||(x.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",B.appendChild(x))}},{key:"stop",value:function(){var s=this.image;s.onload=null,s.onerror=null,s.parentNode.removeChild(s),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var s=this.element,r=this.options,C=this.image,p=s.parentNode,x=document.createElement("div");x.innerHTML=Y;var B=x.querySelector(".".concat(R,"-container")),W=B.querySelector(".".concat(R,"-canvas")),L=B.querySelector(".".concat(R,"-drag-box")),I=B.querySelector(".".concat(R,"-crop-box")),F=I.querySelector(".".concat(R,"-face"));this.container=p,this.cropper=B,this.canvas=W,this.dragBox=L,this.cropBox=I,this.viewBox=B.querySelector(".".concat(R,"-view-box")),this.face=F,W.appendChild(C),Se(s,Ve),p.insertBefore(B,s.nextSibling),Ye(C,ct),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,Se(I,Ve),r.guides||Se(I.getElementsByClassName("".concat(R,"-dashed")),Ve),r.center||Se(I.getElementsByClassName("".concat(R,"-center")),Ve),r.background&&Se(B,"".concat(R,"-bg")),r.highlight||Se(F,ne),r.cropBoxMovable&&(Se(F,fe),Z(F,oe,w)),r.cropBoxResizable||(Se(I.getElementsByClassName("".concat(R,"-line")),Ve),Se(I.getElementsByClassName("".concat(R,"-point")),Ve)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),mt(r.ready)&&_t(s,da,r.ready,{once:!0}),ia(s,da)}}},{key:"unbuild",value:function(){if(!!this.ready){this.ready=!1,this.unbind(),this.resetPreview();var s=this.cropper.parentNode;s&&s.removeChild(this.cropper),Ye(this.element,Ve)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=_r,m}},{key:"setDefaults",value:function(s){Ge(V,ht(s)&&s)}}]),m}();return Ge(hi.prototype,mr,vr,gr,pr,br,yr),hi})})(Fl);Object.defineProperty(Il,"__esModule",{value:!0});var Fi=pd,bd=Fl.exports,yd=_d(bd);function _d(e){return e&&e.__esModule?e:{default:e}}function wd(e,a){var t={};for(var n in e)a.indexOf(n)>=0||!Object.prototype.hasOwnProperty.call(e,n)||(t[n]=e[n]);return t}var Sd=typeof window=="undefined"?[String,Array]:[String,Array,Element,NodeList],xd=Il.default={render:function(){var a=this.crossorigin||void 0;return(0,Fi.h)("div",{style:this.containerStyle},[(0,Fi.h)("img",{ref:"img",src:this.src,alt:this.alt||"image",style:[{"max-width":"100%"},this.imgStyle],crossorigin:a})])},props:{containerStyle:Object,src:{type:String,default:""},alt:String,imgStyle:Object,viewMode:Number,dragMode:String,initialAspectRatio:Number,aspectRatio:Number,data:Object,preview:Sd,responsive:{type:Boolean,default:!0},restore:{type:Boolean,default:!0},checkCrossOrigin:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},crossorigin:{type:String},modal:{type:Boolean,default:!0},guides:{type:Boolean,default:!0},center:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0},background:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!0},autoCropArea:Number,movable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!0},scalable:{type:Boolean,default:!0},zoomable:{type:Boolean,default:!0},zoomOnTouch:{type:Boolean,default:!0},zoomOnWheel:{type:Boolean,default:!0},wheelZoomRatio:Number,cropBoxMovable:{type:Boolean,default:!0},cropBoxResizable:{type:Boolean,default:!0},toggleDragModeOnDblclick:{type:Boolean,default:!0},minCanvasWidth:Number,minCanvasHeight:Number,minCropBoxWidth:Number,minCropBoxHeight:Number,minContainerWidth:Number,minContainerHeight:Number,ready:Function,cropstart:Function,cropmove:Function,cropend:Function,crop:Function,zoom:Function},mounted:function(){var a=this.$options.props;a.containerStyle,a.src,a.alt,a.imgStyle;var t=wd(a,["containerStyle","src","alt","imgStyle"]),n={};for(var i in t)this[i]!==void 0&&(n[i]=this[i]);this.cropper=new yd.default(this.$refs.img,n)},methods:{reset:function(){return this.cropper.reset()},clear:function(){return this.cropper.clear()},initCrop:function(){return this.cropper.crop()},replace:function(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this.cropper.replace(a,t)},enable:function(){return this.cropper.enable()},disable:function(){return this.cropper.disable()},destroy:function(){return this.cropper.destroy()},move:function(a,t){return this.cropper.move(a,t)},moveTo:function(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a;return this.cropper.moveTo(a,t)},relativeZoom:function(a,t){return this.cropper.zoom(a,t)},zoomTo:function(a,t){return this.cropper.zoomTo(a,t)},rotate:function(a){return this.cropper.rotate(a)},rotateTo:function(a){return this.cropper.rotateTo(a)},scaleX:function(a){return this.cropper.scaleX(a)},scaleY:function(a){return this.cropper.scaleY(a)},scale:function(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a;return this.cropper.scale(a,t)},getData:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this.cropper.getData(a)},setData:function(a){return this.cropper.setData(a)},getContainerData:function(){return this.cropper.getContainerData()},getImageData:function(){return this.cropper.getImageData()},getCanvasData:function(){return this.cropper.getCanvasData()},setCanvasData:function(a){return this.cropper.setCanvasData(a)},getCropBoxData:function(){return this.cropper.getCropBoxData()},setCropBoxData:function(a){return this.cropper.setCropBoxData(a)},getCroppedCanvas:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.cropper.getCroppedCanvas(a)},setAspectRatio:function(a){return this.cropper.setAspectRatio(a)},setDragMode:function(a){return this.cropper.setDragMode(a)}}};const Cd={components:{VueCropper:xd},data(){return{cropImg:"",flipXScale:1,flipYScale:1,aspectRatio:NaN,ready:!1,loading:!1}},props:{file:{required:!1,type:Object,default:()=>({id:87,url:"images/picture.jpg",name:"picture.jpg",is_image:!0})},cropRatio:{required:!1,type:Number,default:NaN},dragMode:{description:"Define the dragging mode of the cropper. Available options: move, none, crop",required:!1,type:String,default:"crop"},ratio_options:{required:!1,type:Array,default:()=>[{label:"Freeform",value:0},{label:"Square",value:1},{label:"16:9",value:16/9},{label:"5:7",value:5/7},{label:"4:3",value:4/3}]},editable:Boolean},emits:["ok","hide"],methods:{show(){console.func("components/file-editor:methods.show()",arguments),this.$refs.dialog.show()},hide(){console.func("components/file-editor:methods.close()",arguments),this.$refs.dialog.hide()},onDialogHide(){console.func("components/file-editor:methods.onDialogHide()",arguments),this.$emit("hide")},onCancelClick(){console.func("components/file-editor:methods.onCancelClick()",arguments),this.hide()},onCrop(e){console.func("components/file-editor:methods.onCrop()",arguments),this.ready=!0},onReady(e){console.func("components/file-editor:methods.onReady()",arguments)},onSave(e){console.func("components/file-editor:methods.onSave()",arguments),this.loading=!0;const a=this.$core.dataURLtoFile(this.cropImg,this.file.name),t=new FormData;t.append("id",this.file.id),t.append("media",a,this.file.name),this.$store.dispatch("file/Update",t).then(n=>{Object.assign(this.file,n),this.cropImg=!1,this.ready=!1,this.loading=!1,this.$emit("ok",this.file)}).catch(n=>{this.$core.error(n)})},onCropImage(){console.func("components/file-editor:methods.onCropImage()",arguments),this.cropImg=this.$refs.cropper.getCroppedCanvas().toDataURL(),this.$refs.cropper.replace(this.cropImg,!1),this.aspectRatio=-1},onReset(){console.func("components/file-editor:methods.onReset()",arguments),this.$core.confirm("This action can't be undone. You have unsaved edits that you will lose.",{title:"Reset all changes"}).then(()=>{this.ready=!1,this.cropImg=!1,this.aspectRatio=-1,this.$refs.cropper.replace(this.file.url,!1)})},rotate(e){console.func("components/file-editor:methods.rotate()",arguments),this.aspectRatio=-1,this.$refs.cropper.clear().rotate(e).zoomTo(.5);const a=this.$refs.cropper.getContainerData(),t=this.$refs.cropper.getCanvasData();this.$refs.cropper.setCanvasData({top:(a.height-t.height)/2,left:(a.width-t.width)/2})},flipY(){console.func("components/file-editor:methods.flipY()",arguments),this.flipYScale=this.flipYScale?-this.flipYScale:-1,this.$refs.cropper.scaleY(this.flipYScale)},flipX(){console.func("components/file-editor:methods.flipX()",arguments),this.flipXScale=this.flipXScale?-this.flipXScale:-1,this.$refs.cropper.scaleX(this.flipXScale)}},watch:{aspectRatio(e){console.func("components/file-editor:watch.aspectRatio()",arguments),e!==-1&&(this.$refs.cropper.setAspectRatio(e),this.$refs.cropper.initCrop())}},mounted(){this.aspectRatio=this.cropRatio}},kd=["src","alt"],Dd={key:0,class:"col-sm-3"},qd=X("p",{class:"text-subtitle2 q-mb-sm"},"Alt text",-1),Td=X("div",{class:"q-mt-sm"}," Alt text (alternative text) to media is first and foremost a principle of web accessibility. Visually impaired users using screen readers will be read an alt attribute to better understand an on-page image. ",-1),Ed=X("div",{class:"text-subtitle2 q-mb-sm"},"Crop ratio",-1),Od=X("div",{class:"text-subtitle2 q-mb-sm"},"Rotate image",-1),Md=X("div",{class:"text-subtitle2 q-mb-sm"},"Flip image",-1);function Bd(e,a,t,n,i,o){const u=ft("vue-cropper"),f=ft("q-pdfviewer"),v=ft("base-dialog");return T(),J(v,{maximized:"",persistent:"",ref:"dialog",onHide:o.onDialogHide,"hide-footer":"","content-class":"file-editor","body-style":"","content-style":"","body-class":t.editable?"editor-mode":"view-mode"},{header:D(()=>[y(ri,{class:"bg-grey text-white"},{default:D(()=>[y(li,{class:"text-subtitle2"},{default:D(()=>[At(et(t.file.name),1)]),_:1}),i.ready?(T(),te(ut,{key:0},[y(ye,{class:"q-mr-xs","no-caps":"",label:"Reset",outline:"",onClick:o.onReset},null,8,["onClick"]),i.cropImg?(T(),J(ye,{key:0,"no-caps":"",label:"Save",color:"primary",loading:i.loading,onClick:o.onSave},null,8,["loading","onClick"])):(T(),J(ye,{key:1,"no-caps":"",label:"Done",color:"primary",onClick:o.onCropImage},null,8,["onClick"]))],64)):(T(),te(ut,{key:1},[y(ye,{flat:"",round:"",dense:"",tag:"a",href:`${t.file.url}&download`,download:t.file.name,icon:"far fa-file-download",class:"q-mr-xs"},null,8,["href","download"]),t.editable?(T(),J(ye,{key:0,flat:"",round:"",dense:"",icon:"far fa-trash-alt",class:"q-mr-xs"})):xe("",!0),y(ye,{flat:"",round:"",dense:"",icon:"close",onClick:o.onCancelClick},null,8,["onClick"])],64))]),_:1})]),body:D(()=>[X("div",{class:kt(t.editable?"row q-col-gutter-md":"body-section")},[X("div",{class:kt(t.editable?"col-sm-9":"body")},[y(kn,{flat:"",bordered:""},{default:D(()=>[t.file.is_image&&t.editable?(T(),J(It,{key:0},{default:D(()=>[y(u,{class:"cropper",ref:"cropper",src:t.file.url,viewMode:2,autoCrop:!1,zoomOnWheel:!1,checkCrossOrigin:!1,aspectRatio:i.aspectRatio,dragMode:t.dragMode,onCrop:o.onCrop,onReady:o.onReady},null,8,["src","aspectRatio","dragMode","onCrop","onReady"])]),_:1})):t.file.is_embed?(T(),J(It,{key:1,class:"video-embed"},{default:D(()=>[y(gd,{src:t.file.embed_url},null,8,["src"])]),_:1})):t.file.is_image?(T(),J(It,{key:2,class:"image-container flex flex-center"},{default:D(()=>[X("img",{src:t.file.url,alt:t.file.name},null,8,kd)]),_:1})):t.file.is_pdf?(T(),J(It,{key:3,class:"pdf-container fit"},{default:D(()=>[y(f,{src:t.file.url,type:"html5"},null,8,["src"])]),_:1})):(T(),J(It,{key:4,class:"cropper file-container flex flex-center"},{default:D(()=>[y(Ze,{name:`fas fa-file-${t.file.icon}`,size:"50px"},null,8,["name"])]),_:1}))]),_:1})],2),t.editable?(T(),te("div",Dd,[y(kn,{flat:"",bordered:"",class:"full-height"},{default:D(()=>[y(It,null,{default:D(()=>[qd,Td,y(ye,{flat:"",class:"q-mt-sm",color:"primary","no-caps":"",label:"Add alt text"})]),_:1}),t.file.is_image?(T(),te(ut,{key:0},[y(It,null,{default:D(()=>[Ed,y(Cn,null,{default:D(()=>[(T(!0),te(ut,null,Kt(t.ratio_options,(h,d)=>Ot((T(),J(Jt,{clickable:"",key:d,active:i.aspectRatio===h.value,onClick:S=>i.aspectRatio=h.value,"active-class":"active",class:"ratio-menu"},{default:D(()=>[y(yt,null,{default:D(()=>[At(et(h.label),1)]),_:2},1024)]),_:2},1032,["active","onClick"])),[[Au]])),128))]),_:1})]),_:1}),y(It,null,{default:D(()=>[Od,y(Yo,{flat:"",spread:""},{default:D(()=>[y(ye,{"no-caps":"",flat:"",label:"Right",icon:"rotate_right",onClick:a[0]||(a[0]=h=>o.rotate(90))}),y(ye,{"no-caps":"",flat:"",label:"Left",icon:"rotate_left",onClick:a[1]||(a[1]=h=>o.rotate(-90))})]),_:1})]),_:1}),y(It,null,{default:D(()=>[Md,y(Yo,{flat:"",spread:""},{default:D(()=>[y(ye,{"no-caps":"",flat:"",label:"Horizontal",icon:"flip",onClick:o.flipX},null,8,["onClick"]),y(ye,{"no-caps":"",flat:"",label:"Vertical",icon:"flip",class:"icon-rotate-90",onClick:o.flipY},null,8,["onClick"])]),_:1})]),_:1})],64)):xe("",!0)]),_:1})])):xe("",!0)],2)]),_:1},8,["onHide","body-class"])}var Nl=tt(Cd,[["render",Bd]]);const Ad={props:{type:{required:!0,type:String,validator:function(e){return["photo","video"].indexOf(e)!==-1}}},data(){return{url:null}},emits:["ok","hide"],methods:{show(){console.func("components/file-from-url:methods.show()",arguments),this.$refs.dialog.show()},hide(){console.func("components/file-from-url:methods.close()",arguments),this.$refs.dialog.hide()},onDialogHide(){console.func("components/file-from-url:methods.onDialogHide()",arguments),this.$emit("hide")},async onDone(){try{let e=null,a=null,t=null;const n=new URL(this.url),i=new FormData;this.type==="photo"?i.append("source",this.url):(n.host.includes("vimeo")?(a=n.pathname.replace("/",""),e=`https://player.vimeo.com/video/${a}`,await Mi.get(`https://vimeo.com/api/v2/video/${a}.json`,{withCredentials:!1}).then(({data:o})=>{t=o[0].thumbnail_large}).catch(o=>{this.$core.error(o)})):n.host.includes("youtube")&&(a=n.searchParams.get("v"),e=`https://www.youtube.com/embed/${a}`,t=`https://img.youtube.com/vi/${a}/hqdefault.jpg`),i.append("source",t),i.append("is_embed",1),i.append("embed_type",n.host),i.append("embed_id",a),i.append("embed_url",e)),await Mi.post("files/upload-from-source",i).then(({data:o})=>{console.log("response",o),this.$emit("ok",o)}),this.hide()}catch(e){this.$core.error(e)}}},computed:{disable(){return!this.url},title(){return this.type==="photo"?"Add photo from URL":"Embed video"},label(){return this.type==="photo"?"Paste image URL":"YouTube or Vimeo URL"}}},Pd={class:"text-label"},Rd={class:"q-gutter-sm"};function Vd(e,a,t,n,i,o){const u=ft("base-dialog");return T(),J(u,{title:o.title,ref:"dialog","body-class":"scroll",persistent:"",onHide:o.onDialogHide},{body:D(()=>[X("div",Pd,et(o.label),1),y(Ha,{dense:"",outlined:"",modelValue:i.url,"onUpdate:modelValue":a[0]||(a[0]=f=>i.url=f),type:"url",placeholder:"https://"},null,8,["modelValue"])]),footer:D(()=>[y(It,{class:"text-right"},{default:D(()=>[X("div",Rd,[Ot(y(ye,{"no-caps":"",outline:"",label:"Cancel",color:"grey"},null,512),[[Ca]]),y(ye,{disable:o.disable,"no-caps":"",label:"Done",color:"primary",onClick:o.onDone},null,8,["disable","onClick"])])]),_:1})]),_:1},8,["title","onHide"])}var Id=tt(Ad,[["render",Vd]]);/*!
  * vue-draggable-next v2.1.0
  * (c) 2021 Anish George
  * @license MIT
  *//**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Ni(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,n)}return t}function Ea(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?Ni(Object(t),!0).forEach(function(n){Fd(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ni(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function lo(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lo=function(a){return typeof a}:lo=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},lo(e)}function Fd(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function ja(){return ja=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ja.apply(this,arguments)}function Nd(e,a){if(e==null)return{};var t={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(a.indexOf(i)>=0)&&(t[i]=e[i]);return t}function zd(e,a){if(e==null)return{};var t=Nd(e,a),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(a.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(t[n]=e[n]))}return t}var Ld="1.14.0";function za(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var $a=za(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Qn=za(/Edge/i),zi=za(/firefox/i),zn=za(/safari/i)&&!za(/chrome/i)&&!za(/android/i),zl=za(/iP(ad|od|hone)/i),Hd=za(/chrome/i)&&za(/android/i),Ll={capture:!1,passive:!1};function it(e,a,t){e.addEventListener(a,t,!$a&&Ll)}function Je(e,a,t){e.removeEventListener(a,t,!$a&&Ll)}function ho(e,a){if(!!a){if(a[0]===">"&&(a=a.substring(1)),e)try{if(e.matches)return e.matches(a);if(e.msMatchesSelector)return e.msMatchesSelector(a);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(a)}catch{return!1}return!1}}function jd(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Da(e,a,t,n){if(e){t=t||document;do{if(a!=null&&(a[0]===">"?e.parentNode===t&&ho(e,a):ho(e,a))||n&&e===t)return e;if(e===t)break}while(e=jd(e))}return null}var Li=/\s+/g;function ra(e,a,t){if(e&&a)if(e.classList)e.classList[t?"add":"remove"](a);else{var n=(" "+e.className+" ").replace(Li," ").replace(" "+a+" "," ");e.className=(n+(t?" "+a:"")).replace(Li," ")}}function Ae(e,a,t){var n=e&&e.style;if(n){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(t=e.currentStyle),a===void 0?t:t[a];!(a in n)&&a.indexOf("webkit")===-1&&(a="-webkit-"+a),n[a]=t+(typeof t=="string"?"":"px")}}function _n(e,a){var t="";if(typeof e=="string")t=e;else do{var n=Ae(e,"transform");n&&n!=="none"&&(t=n+" "+t)}while(!a&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function Hl(e,a,t){if(e){var n=e.getElementsByTagName(a),i=0,o=n.length;if(t)for(;i<o;i++)t(n[i],i);return n}return[]}function qa(){var e=document.scrollingElement;return e||document.documentElement}function Ft(e,a,t,n,i){if(!(!e.getBoundingClientRect&&e!==window)){var o,u,f,v,h,d,S;if(e!==window&&e.parentNode&&e!==qa()?(o=e.getBoundingClientRect(),u=o.top,f=o.left,v=o.bottom,h=o.right,d=o.height,S=o.width):(u=0,f=0,v=window.innerHeight,h=window.innerWidth,d=window.innerHeight,S=window.innerWidth),(a||t)&&e!==window&&(i=i||e.parentNode,!$a))do if(i&&i.getBoundingClientRect&&(Ae(i,"transform")!=="none"||t&&Ae(i,"position")!=="static")){var M=i.getBoundingClientRect();u-=M.top+parseInt(Ae(i,"border-top-width")),f-=M.left+parseInt(Ae(i,"border-left-width")),v=u+o.height,h=f+o.width;break}while(i=i.parentNode);if(n&&e!==window){var q=_n(i||e),P=q&&q.a,A=q&&q.d;q&&(u/=A,f/=P,S/=P,d/=A,v=u+d,h=f+S)}return{top:u,left:f,bottom:v,right:h,width:S,height:d}}}function Hi(e,a,t){for(var n=Ka(e,!0),i=Ft(e)[a];n;){var o=Ft(n)[t],u=void 0;if(t==="top"||t==="left"?u=i>=o:u=i<=o,!u)return n;if(n===qa())break;n=Ka(n,!1)}return!1}function qn(e,a,t,n){for(var i=0,o=0,u=e.children;o<u.length;){if(u[o].style.display!=="none"&&u[o]!==Pe.ghost&&(n||u[o]!==Pe.dragged)&&Da(u[o],t.draggable,e,!1)){if(i===a)return u[o];i++}o++}return null}function ci(e,a){for(var t=e.lastElementChild;t&&(t===Pe.ghost||Ae(t,"display")==="none"||a&&!ho(t,a));)t=t.previousElementSibling;return t||null}function pa(e,a){var t=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Pe.clone&&(!a||ho(e,a))&&t++;return t}function ji(e){var a=0,t=0,n=qa();if(e)do{var i=_n(e),o=i.a,u=i.d;a+=e.scrollLeft*o,t+=e.scrollTop*u}while(e!==n&&(e=e.parentNode));return[a,t]}function $d(e,a){for(var t in e)if(!!e.hasOwnProperty(t)){for(var n in a)if(a.hasOwnProperty(n)&&a[n]===e[t][n])return Number(t)}return-1}function Ka(e,a){if(!e||!e.getBoundingClientRect)return qa();var t=e,n=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=Ae(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return qa();if(n||a)return t;n=!0}}while(t=t.parentNode);return qa()}function Ud(e,a){if(e&&a)for(var t in a)a.hasOwnProperty(t)&&(e[t]=a[t]);return e}function Oo(e,a){return Math.round(e.top)===Math.round(a.top)&&Math.round(e.left)===Math.round(a.left)&&Math.round(e.height)===Math.round(a.height)&&Math.round(e.width)===Math.round(a.width)}var Ln;function jl(e,a){return function(){if(!Ln){var t=arguments,n=this;t.length===1?e.call(n,t[0]):e.apply(n,t),Ln=setTimeout(function(){Ln=void 0},a)}}}function Yd(){clearTimeout(Ln),Ln=void 0}function $l(e,a,t){e.scrollLeft+=a,e.scrollTop+=t}function Ul(e){var a=window.Polymer,t=window.jQuery||window.Zepto;return a&&a.dom?a.dom(e).cloneNode(!0):t?t(e).clone(!0)[0]:e.cloneNode(!0)}var ca="Sortable"+new Date().getTime();function Wd(){var e=[],a;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(Ae(i,"display")==="none"||i===Pe.ghost)){e.push({target:i,rect:Ft(i)});var o=Ea({},e[e.length-1].rect);if(i.thisAnimationDuration){var u=_n(i,!0);u&&(o.top-=u.f,o.left-=u.e)}i.fromRect=o}})}},addAnimationState:function(n){e.push(n)},removeAnimationState:function(n){e.splice($d(e,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(a),typeof n=="function"&&n();return}var o=!1,u=0;e.forEach(function(f){var v=0,h=f.target,d=h.fromRect,S=Ft(h),M=h.prevFromRect,q=h.prevToRect,P=f.rect,A=_n(h,!0);A&&(S.top-=A.f,S.left-=A.e),h.toRect=S,h.thisAnimationDuration&&Oo(M,S)&&!Oo(d,S)&&(P.top-S.top)/(P.left-S.left)===(d.top-S.top)/(d.left-S.left)&&(v=Qd(P,M,q,i.options)),Oo(S,d)||(h.prevFromRect=d,h.prevToRect=S,v||(v=i.options.animation),i.animate(h,P,S,v)),v&&(o=!0,u=Math.max(u,v),clearTimeout(h.animationResetTimer),h.animationResetTimer=setTimeout(function(){h.animationTime=0,h.prevFromRect=null,h.fromRect=null,h.prevToRect=null,h.thisAnimationDuration=null},v),h.thisAnimationDuration=v)}),clearTimeout(a),o?a=setTimeout(function(){typeof n=="function"&&n()},u):typeof n=="function"&&n(),e=[]},animate:function(n,i,o,u){if(u){Ae(n,"transition",""),Ae(n,"transform","");var f=_n(this.el),v=f&&f.a,h=f&&f.d,d=(i.left-o.left)/(v||1),S=(i.top-o.top)/(h||1);n.animatingX=!!d,n.animatingY=!!S,Ae(n,"transform","translate3d("+d+"px,"+S+"px,0)"),this.forRepaintDummy=Xd(n),Ae(n,"transition","transform "+u+"ms"+(this.options.easing?" "+this.options.easing:"")),Ae(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){Ae(n,"transition",""),Ae(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},u)}}}}function Xd(e){return e.offsetWidth}function Qd(e,a,t,n){return Math.sqrt(Math.pow(a.top-e.top,2)+Math.pow(a.left-e.left,2))/Math.sqrt(Math.pow(a.top-t.top,2)+Math.pow(a.left-t.left,2))*n.animation}var fn=[],Mo={initializeByDefault:!0},Kn={mount:function(a){for(var t in Mo)Mo.hasOwnProperty(t)&&!(t in a)&&(a[t]=Mo[t]);fn.forEach(function(n){if(n.pluginName===a.pluginName)throw"Sortable: Cannot mount plugin ".concat(a.pluginName," more than once")}),fn.push(a)},pluginEvent:function(a,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var o=a+"Global";fn.forEach(function(u){!t[u.pluginName]||(t[u.pluginName][o]&&t[u.pluginName][o](Ea({sortable:t},n)),t.options[u.pluginName]&&t[u.pluginName][a]&&t[u.pluginName][a](Ea({sortable:t},n)))})},initializePlugins:function(a,t,n,i){fn.forEach(function(f){var v=f.pluginName;if(!(!a.options[v]&&!f.initializeByDefault)){var h=new f(a,t,a.options);h.sortable=a,h.options=a.options,a[v]=h,ja(n,h.defaults)}});for(var o in a.options)if(!!a.options.hasOwnProperty(o)){var u=this.modifyOption(a,o,a.options[o]);typeof u!="undefined"&&(a.options[o]=u)}},getEventProperties:function(a,t){var n={};return fn.forEach(function(i){typeof i.eventProperties=="function"&&ja(n,i.eventProperties.call(t[i.pluginName],a))}),n},modifyOption:function(a,t,n){var i;return fn.forEach(function(o){!a[o.pluginName]||o.optionListeners&&typeof o.optionListeners[t]=="function"&&(i=o.optionListeners[t].call(a[o.pluginName],n))}),i}};function Kd(e){var a=e.sortable,t=e.rootEl,n=e.name,i=e.targetEl,o=e.cloneEl,u=e.toEl,f=e.fromEl,v=e.oldIndex,h=e.newIndex,d=e.oldDraggableIndex,S=e.newDraggableIndex,M=e.originalEvent,q=e.putSortable,P=e.extraEventProperties;if(a=a||t&&t[ca],!!a){var A,z=a.options,se="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!$a&&!Qn?A=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(A=document.createEvent("Event"),A.initEvent(n,!0,!0)),A.to=u||t,A.from=f||t,A.item=i||t,A.clone=o,A.oldIndex=v,A.newIndex=h,A.oldDraggableIndex=d,A.newDraggableIndex=S,A.originalEvent=M,A.pullMode=q?q.lastPutMode:void 0;var N=Ea(Ea({},P),Kn.getEventProperties(n,a));for(var R in N)A[R]=N[R];t&&t.dispatchEvent(A),z[se]&&z[se].call(a,A)}}var Gd=["evt"],aa=function(a,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,o=zd(n,Gd);Kn.pluginEvent.bind(Pe)(a,t,Ea({dragEl:ee,parentEl:Dt,ghostEl:je,rootEl:xt,nextEl:on,lastDownEl:ro,cloneEl:qt,cloneHidden:Qa,dragStarted:In,putSortable:Ut,activeSortable:Pe.active,originalEvent:i,oldIndex:pn,oldDraggableIndex:Hn,newIndex:sa,newDraggableIndex:Xa,hideGhostForTarget:Ql,unhideGhostForTarget:Kl,cloneNowHidden:function(){Qa=!0},cloneNowShown:function(){Qa=!1},dispatchSortableEvent:function(f){Qt({sortable:t,name:f,originalEvent:i})}},o))};function Qt(e){Kd(Ea({putSortable:Ut,cloneEl:qt,targetEl:ee,rootEl:xt,oldIndex:pn,oldDraggableIndex:Hn,newIndex:sa,newDraggableIndex:Xa},e))}var ee,Dt,je,xt,on,ro,qt,Qa,pn,sa,Hn,Xa,eo,Ut,gn=!1,mo=!1,vo=[],an,ya,Bo,Ao,$i,Ui,In,hn,jn,$n=!1,to=!1,so,Wt,Po=[],Qo=!1,go=[],xo=typeof document!="undefined",ao=zl,Yi=Qn||$a?"cssFloat":"float",Jd=xo&&!Hd&&!zl&&"draggable"in document.createElement("div"),Yl=function(){if(!!xo){if($a)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Wl=function(a,t){var n=Ae(a),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=qn(a,0,t),u=qn(a,1,t),f=o&&Ae(o),v=u&&Ae(u),h=f&&parseInt(f.marginLeft)+parseInt(f.marginRight)+Ft(o).width,d=v&&parseInt(v.marginLeft)+parseInt(v.marginRight)+Ft(u).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&f.float&&f.float!=="none"){var S=f.float==="left"?"left":"right";return u&&(v.clear==="both"||v.clear===S)?"vertical":"horizontal"}return o&&(f.display==="block"||f.display==="flex"||f.display==="table"||f.display==="grid"||h>=i&&n[Yi]==="none"||u&&n[Yi]==="none"&&h+d>i)?"vertical":"horizontal"},Zd=function(a,t,n){var i=n?a.left:a.top,o=n?a.right:a.bottom,u=n?a.width:a.height,f=n?t.left:t.top,v=n?t.right:t.bottom,h=n?t.width:t.height;return i===f||o===v||i+u/2===f+h/2},ef=function(a,t){var n;return vo.some(function(i){var o=i[ca].options.emptyInsertThreshold;if(!(!o||ci(i))){var u=Ft(i),f=a>=u.left-o&&a<=u.right+o,v=t>=u.top-o&&t<=u.bottom+o;if(f&&v)return n=i}}),n},Xl=function(a){function t(o,u){return function(f,v,h,d){var S=f.options.group.name&&v.options.group.name&&f.options.group.name===v.options.group.name;if(o==null&&(u||S))return!0;if(o==null||o===!1)return!1;if(u&&o==="clone")return o;if(typeof o=="function")return t(o(f,v,h,d),u)(f,v,h,d);var M=(u?f:v).options.group.name;return o===!0||typeof o=="string"&&o===M||o.join&&o.indexOf(M)>-1}}var n={},i=a.group;(!i||lo(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,a.group=n},Ql=function(){!Yl&&je&&Ae(je,"display","none")},Kl=function(){!Yl&&je&&Ae(je,"display","")};xo&&document.addEventListener("click",function(e){if(mo)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),mo=!1,!1},!0);var nn=function(a){if(ee){a=a.touches?a.touches[0]:a;var t=ef(a.clientX,a.clientY);if(t){var n={};for(var i in a)a.hasOwnProperty(i)&&(n[i]=a[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[ca]._onDragOver(n)}}},tf=function(a){ee&&ee.parentNode[ca]._isOutsideThisEl(a.target)};function Pe(e,a){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=a=ja({},a),e[ca]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Wl(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(u,f){u.setData("Text",f.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Pe.supportPointer!==!1&&"PointerEvent"in window&&!zn,emptyInsertThreshold:5};Kn.initializePlugins(this,e,t);for(var n in t)!(n in a)&&(a[n]=t[n]);Xl(a);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=a.forceFallback?!1:Jd,this.nativeDraggable&&(this.options.touchStartThreshold=1),a.supportPointer?it(e,"pointerdown",this._onTapStart):(it(e,"mousedown",this._onTapStart),it(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(it(e,"dragover",this),it(e,"dragenter",this)),vo.push(this.el),a.store&&a.store.get&&this.sort(a.store.get(this)||[]),ja(this,Wd())}Pe.prototype={constructor:Pe,_isOutsideThisEl:function(a){!this.el.contains(a)&&a!==this.el&&(hn=null)},_getDirection:function(a,t){return typeof this.options.direction=="function"?this.options.direction.call(this,a,t,ee):this.options.direction},_onTapStart:function(a){if(!!a.cancelable){var t=this,n=this.el,i=this.options,o=i.preventOnFilter,u=a.type,f=a.touches&&a.touches[0]||a.pointerType&&a.pointerType==="touch"&&a,v=(f||a).target,h=a.target.shadowRoot&&(a.path&&a.path[0]||a.composedPath&&a.composedPath()[0])||v,d=i.filter;if(cf(n),!ee&&!(/mousedown|pointerdown/.test(u)&&a.button!==0||i.disabled)&&!h.isContentEditable&&!(!this.nativeDraggable&&zn&&v&&v.tagName.toUpperCase()==="SELECT")&&(v=Da(v,i.draggable,n,!1),!(v&&v.animated)&&ro!==v)){if(pn=pa(v),Hn=pa(v,i.draggable),typeof d=="function"){if(d.call(this,a,v,this)){Qt({sortable:t,rootEl:h,name:"filter",targetEl:v,toEl:n,fromEl:n}),aa("filter",t,{evt:a}),o&&a.cancelable&&a.preventDefault();return}}else if(d&&(d=d.split(",").some(function(S){if(S=Da(h,S.trim(),n,!1),S)return Qt({sortable:t,rootEl:S,name:"filter",targetEl:v,fromEl:n,toEl:n}),aa("filter",t,{evt:a}),!0}),d)){o&&a.cancelable&&a.preventDefault();return}i.handle&&!Da(h,i.handle,n,!1)||this._prepareDragStart(a,f,v)}}},_prepareDragStart:function(a,t,n){var i=this,o=i.el,u=i.options,f=o.ownerDocument,v;if(n&&!ee&&n.parentNode===o){var h=Ft(n);if(xt=o,ee=n,Dt=ee.parentNode,on=ee.nextSibling,ro=n,eo=u.group,Pe.dragged=ee,an={target:ee,clientX:(t||a).clientX,clientY:(t||a).clientY},$i=an.clientX-h.left,Ui=an.clientY-h.top,this._lastX=(t||a).clientX,this._lastY=(t||a).clientY,ee.style["will-change"]="all",v=function(){if(aa("delayEnded",i,{evt:a}),Pe.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!zi&&i.nativeDraggable&&(ee.draggable=!0),i._triggerDragStart(a,t),Qt({sortable:i,name:"choose",originalEvent:a}),ra(ee,u.chosenClass,!0)},u.ignore.split(",").forEach(function(d){Hl(ee,d.trim(),Ro)}),it(f,"dragover",nn),it(f,"mousemove",nn),it(f,"touchmove",nn),it(f,"mouseup",i._onDrop),it(f,"touchend",i._onDrop),it(f,"touchcancel",i._onDrop),zi&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ee.draggable=!0),aa("delayStart",this,{evt:a}),u.delay&&(!u.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Qn||$a))){if(Pe.eventCanceled){this._onDrop();return}it(f,"mouseup",i._disableDelayedDrag),it(f,"touchend",i._disableDelayedDrag),it(f,"touchcancel",i._disableDelayedDrag),it(f,"mousemove",i._delayedDragTouchMoveHandler),it(f,"touchmove",i._delayedDragTouchMoveHandler),u.supportPointer&&it(f,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(v,u.delay)}else v()}},_delayedDragTouchMoveHandler:function(a){var t=a.touches?a.touches[0]:a;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ee&&Ro(ee),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var a=this.el.ownerDocument;Je(a,"mouseup",this._disableDelayedDrag),Je(a,"touchend",this._disableDelayedDrag),Je(a,"touchcancel",this._disableDelayedDrag),Je(a,"mousemove",this._delayedDragTouchMoveHandler),Je(a,"touchmove",this._delayedDragTouchMoveHandler),Je(a,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(a,t){t=t||a.pointerType=="touch"&&a,!this.nativeDraggable||t?this.options.supportPointer?it(document,"pointermove",this._onTouchMove):t?it(document,"touchmove",this._onTouchMove):it(document,"mousemove",this._onTouchMove):(it(ee,"dragend",this),it(xt,"dragstart",this._onDragStart));try{document.selection?uo(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(a,t){if(gn=!1,xt&&ee){aa("dragStarted",this,{evt:t}),this.nativeDraggable&&it(document,"dragover",tf);var n=this.options;!a&&ra(ee,n.dragClass,!1),ra(ee,n.ghostClass,!0),Pe.active=this,a&&this._appendGhost(),Qt({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ya){this._lastX=ya.clientX,this._lastY=ya.clientY,Ql();for(var a=document.elementFromPoint(ya.clientX,ya.clientY),t=a;a&&a.shadowRoot&&(a=a.shadowRoot.elementFromPoint(ya.clientX,ya.clientY),a!==t);)t=a;if(ee.parentNode[ca]._isOutsideThisEl(a),t)do{if(t[ca]){var n=void 0;if(n=t[ca]._onDragOver({clientX:ya.clientX,clientY:ya.clientY,target:a,rootEl:t}),n&&!this.options.dragoverBubble)break}a=t}while(t=t.parentNode);Kl()}},_onTouchMove:function(a){if(an){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,o=a.touches?a.touches[0]:a,u=je&&_n(je,!0),f=je&&u&&u.a,v=je&&u&&u.d,h=ao&&Wt&&ji(Wt),d=(o.clientX-an.clientX+i.x)/(f||1)+(h?h[0]-Po[0]:0)/(f||1),S=(o.clientY-an.clientY+i.y)/(v||1)+(h?h[1]-Po[1]:0)/(v||1);if(!Pe.active&&!gn){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(a,!0)}if(je){u?(u.e+=d-(Bo||0),u.f+=S-(Ao||0)):u={a:1,b:0,c:0,d:1,e:d,f:S};var M="matrix(".concat(u.a,",").concat(u.b,",").concat(u.c,",").concat(u.d,",").concat(u.e,",").concat(u.f,")");Ae(je,"webkitTransform",M),Ae(je,"mozTransform",M),Ae(je,"msTransform",M),Ae(je,"transform",M),Bo=d,Ao=S,ya=o}a.cancelable&&a.preventDefault()}},_appendGhost:function(){if(!je){var a=this.options.fallbackOnBody?document.body:xt,t=Ft(ee,!0,ao,!0,a),n=this.options;if(ao){for(Wt=a;Ae(Wt,"position")==="static"&&Ae(Wt,"transform")==="none"&&Wt!==document;)Wt=Wt.parentNode;Wt!==document.body&&Wt!==document.documentElement?(Wt===document&&(Wt=qa()),t.top+=Wt.scrollTop,t.left+=Wt.scrollLeft):Wt=qa(),Po=ji(Wt)}je=ee.cloneNode(!0),ra(je,n.ghostClass,!1),ra(je,n.fallbackClass,!0),ra(je,n.dragClass,!0),Ae(je,"transition",""),Ae(je,"transform",""),Ae(je,"box-sizing","border-box"),Ae(je,"margin",0),Ae(je,"top",t.top),Ae(je,"left",t.left),Ae(je,"width",t.width),Ae(je,"height",t.height),Ae(je,"opacity","0.8"),Ae(je,"position",ao?"absolute":"fixed"),Ae(je,"zIndex","100000"),Ae(je,"pointerEvents","none"),Pe.ghost=je,a.appendChild(je),Ae(je,"transform-origin",$i/parseInt(je.style.width)*100+"% "+Ui/parseInt(je.style.height)*100+"%")}},_onDragStart:function(a,t){var n=this,i=a.dataTransfer,o=n.options;if(aa("dragStart",this,{evt:a}),Pe.eventCanceled){this._onDrop();return}aa("setupClone",this),Pe.eventCanceled||(qt=Ul(ee),qt.draggable=!1,qt.style["will-change"]="",this._hideClone(),ra(qt,this.options.chosenClass,!1),Pe.clone=qt),n.cloneId=uo(function(){aa("clone",n),!Pe.eventCanceled&&(n.options.removeCloneOnHide||xt.insertBefore(qt,ee),n._hideClone(),Qt({sortable:n,name:"clone"}))}),!t&&ra(ee,o.dragClass,!0),t?(mo=!0,n._loopId=setInterval(n._emulateDragOver,50)):(Je(document,"mouseup",n._onDrop),Je(document,"touchend",n._onDrop),Je(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(n,i,ee)),it(document,"drop",n),Ae(ee,"transform","translateZ(0)")),gn=!0,n._dragStartId=uo(n._dragStarted.bind(n,t,a)),it(document,"selectstart",n),In=!0,zn&&Ae(document.body,"user-select","none")},_onDragOver:function(a){var t=this.el,n=a.target,i,o,u,f=this.options,v=f.group,h=Pe.active,d=eo===v,S=f.sort,M=Ut||h,q,P=this,A=!1;if(Qo)return;function z(Ve,ct){aa(Ve,P,Ea({evt:a,isOwner:d,axis:q?"vertical":"horizontal",revert:u,dragRect:i,targetRect:o,canSort:S,fromSortable:M,target:n,completed:N,onMove:function(j,fe){return no(xt,t,ee,i,j,Ft(j),a,fe)},changed:R},ct))}function se(){z("dragOverAnimationCapture"),P.captureAnimationState(),P!==M&&M.captureAnimationState()}function N(Ve){return z("dragOverCompleted",{insertion:Ve}),Ve&&(d?h._hideClone():h._showClone(P),P!==M&&(ra(ee,Ut?Ut.options.ghostClass:h.options.ghostClass,!1),ra(ee,f.ghostClass,!0)),Ut!==P&&P!==Pe.active?Ut=P:P===Pe.active&&Ut&&(Ut=null),M===P&&(P._ignoreWhileAnimating=n),P.animateAll(function(){z("dragOverAnimationComplete"),P._ignoreWhileAnimating=null}),P!==M&&(M.animateAll(),M._ignoreWhileAnimating=null)),(n===ee&&!ee.animated||n===t&&!n.animated)&&(hn=null),!f.dragoverBubble&&!a.rootEl&&n!==document&&(ee.parentNode[ca]._isOutsideThisEl(a.target),!Ve&&nn(a)),!f.dragoverBubble&&a.stopPropagation&&a.stopPropagation(),A=!0}function R(){sa=pa(ee),Xa=pa(ee,f.draggable),Qt({sortable:P,name:"change",toEl:t,newIndex:sa,newDraggableIndex:Xa,originalEvent:a})}if(a.preventDefault!==void 0&&a.cancelable&&a.preventDefault(),n=Da(n,f.draggable,t,!0),z("dragOver"),Pe.eventCanceled)return A;if(ee.contains(a.target)||n.animated&&n.animatingX&&n.animatingY||P._ignoreWhileAnimating===n)return N(!1);if(mo=!1,h&&!f.disabled&&(d?S||(u=Dt!==xt):Ut===this||(this.lastPutMode=eo.checkPull(this,h,ee,a))&&v.checkPut(this,h,ee,a))){if(q=this._getDirection(a,n)==="vertical",i=Ft(ee),z("dragOverValid"),Pe.eventCanceled)return A;if(u)return Dt=xt,se(),this._hideClone(),z("revert"),Pe.eventCanceled||(on?xt.insertBefore(ee,on):xt.appendChild(ee)),N(!0);var w=ci(t,f.draggable);if(!w||lf(a,q,this)&&!w.animated){if(w===ee)return N(!1);if(w&&t===a.target&&(n=w),n&&(o=Ft(n)),no(xt,t,ee,i,n,o,a,!!n)!==!1)return se(),t.appendChild(ee),Dt=t,R(),N(!0)}else if(w&&of(a,q,this)){var H=qn(t,0,f,!0);if(H===ee)return N(!1);if(n=H,o=Ft(n),no(xt,t,ee,i,n,o,a,!1)!==!1)return se(),t.insertBefore(ee,H),Dt=t,R(),N(!0)}else if(n.parentNode===t){o=Ft(n);var ie=0,De,Q=ee.parentNode!==t,ue=!Zd(ee.animated&&ee.toRect||i,n.animated&&n.toRect||o,q),he=q?"top":"left",me=Hi(n,"top","top")||Hi(ee,"top","top"),we=me?me.scrollTop:void 0;hn!==n&&(De=o[he],$n=!1,to=!ue&&f.invertSwap||Q),ie=rf(a,n,o,q,ue?1:f.swapThreshold,f.invertedSwapThreshold==null?f.swapThreshold:f.invertedSwapThreshold,to,hn===n);var Re;if(ie!==0){var Le=pa(ee);do Le-=ie,Re=Dt.children[Le];while(Re&&(Ae(Re,"display")==="none"||Re===je))}if(ie===0||Re===n)return N(!1);hn=n,jn=ie;var Me=n.nextElementSibling,qe=!1;qe=ie===1;var $e=no(xt,t,ee,i,n,o,a,qe);if($e!==!1)return($e===1||$e===-1)&&(qe=$e===1),Qo=!0,setTimeout(nf,30),se(),qe&&!Me?t.appendChild(ee):n.parentNode.insertBefore(ee,qe?Me:n),me&&$l(me,0,we-me.scrollTop),Dt=ee.parentNode,De!==void 0&&!to&&(so=Math.abs(De-Ft(n)[he])),R(),N(!0)}if(t.contains(ee))return N(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Je(document,"mousemove",this._onTouchMove),Je(document,"touchmove",this._onTouchMove),Je(document,"pointermove",this._onTouchMove),Je(document,"dragover",nn),Je(document,"mousemove",nn),Je(document,"touchmove",nn)},_offUpEvents:function(){var a=this.el.ownerDocument;Je(a,"mouseup",this._onDrop),Je(a,"touchend",this._onDrop),Je(a,"pointerup",this._onDrop),Je(a,"touchcancel",this._onDrop),Je(document,"selectstart",this)},_onDrop:function(a){var t=this.el,n=this.options;if(sa=pa(ee),Xa=pa(ee,n.draggable),aa("drop",this,{evt:a}),Dt=ee&&ee.parentNode,sa=pa(ee),Xa=pa(ee,n.draggable),Pe.eventCanceled){this._nulling();return}gn=!1,to=!1,$n=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ko(this.cloneId),Ko(this._dragStartId),this.nativeDraggable&&(Je(document,"drop",this),Je(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),zn&&Ae(document.body,"user-select",""),Ae(ee,"transform",""),a&&(In&&(a.cancelable&&a.preventDefault(),!n.dropBubble&&a.stopPropagation()),je&&je.parentNode&&je.parentNode.removeChild(je),(xt===Dt||Ut&&Ut.lastPutMode!=="clone")&&qt&&qt.parentNode&&qt.parentNode.removeChild(qt),ee&&(this.nativeDraggable&&Je(ee,"dragend",this),Ro(ee),ee.style["will-change"]="",In&&!gn&&ra(ee,Ut?Ut.options.ghostClass:this.options.ghostClass,!1),ra(ee,this.options.chosenClass,!1),Qt({sortable:this,name:"unchoose",toEl:Dt,newIndex:null,newDraggableIndex:null,originalEvent:a}),xt!==Dt?(sa>=0&&(Qt({rootEl:Dt,name:"add",toEl:Dt,fromEl:xt,originalEvent:a}),Qt({sortable:this,name:"remove",toEl:Dt,originalEvent:a}),Qt({rootEl:Dt,name:"sort",toEl:Dt,fromEl:xt,originalEvent:a}),Qt({sortable:this,name:"sort",toEl:Dt,originalEvent:a})),Ut&&Ut.save()):sa!==pn&&sa>=0&&(Qt({sortable:this,name:"update",toEl:Dt,originalEvent:a}),Qt({sortable:this,name:"sort",toEl:Dt,originalEvent:a})),Pe.active&&((sa==null||sa===-1)&&(sa=pn,Xa=Hn),Qt({sortable:this,name:"end",toEl:Dt,originalEvent:a}),this.save()))),this._nulling()},_nulling:function(){aa("nulling",this),xt=ee=Dt=je=on=qt=ro=Qa=an=ya=In=sa=Xa=pn=Hn=hn=jn=Ut=eo=Pe.dragged=Pe.ghost=Pe.clone=Pe.active=null,go.forEach(function(a){a.checked=!0}),go.length=Bo=Ao=0},handleEvent:function(a){switch(a.type){case"drop":case"dragend":this._onDrop(a);break;case"dragenter":case"dragover":ee&&(this._onDragOver(a),af(a));break;case"selectstart":a.preventDefault();break}},toArray:function(){for(var a=[],t,n=this.el.children,i=0,o=n.length,u=this.options;i<o;i++)t=n[i],Da(t,u.draggable,this.el,!1)&&a.push(t.getAttribute(u.dataIdAttr)||uf(t));return a},sort:function(a,t){var n={},i=this.el;this.toArray().forEach(function(o,u){var f=i.children[u];Da(f,this.options.draggable,i,!1)&&(n[o]=f)},this),t&&this.captureAnimationState(),a.forEach(function(o){n[o]&&(i.removeChild(n[o]),i.appendChild(n[o]))}),t&&this.animateAll()},save:function(){var a=this.options.store;a&&a.set&&a.set(this)},closest:function(a,t){return Da(a,t||this.options.draggable,this.el,!1)},option:function(a,t){var n=this.options;if(t===void 0)return n[a];var i=Kn.modifyOption(this,a,t);typeof i!="undefined"?n[a]=i:n[a]=t,a==="group"&&Xl(n)},destroy:function(){aa("destroy",this);var a=this.el;a[ca]=null,Je(a,"mousedown",this._onTapStart),Je(a,"touchstart",this._onTapStart),Je(a,"pointerdown",this._onTapStart),this.nativeDraggable&&(Je(a,"dragover",this),Je(a,"dragenter",this)),Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),vo.splice(vo.indexOf(this.el),1),this.el=a=null},_hideClone:function(){if(!Qa){if(aa("hideClone",this),Pe.eventCanceled)return;Ae(qt,"display","none"),this.options.removeCloneOnHide&&qt.parentNode&&qt.parentNode.removeChild(qt),Qa=!0}},_showClone:function(a){if(a.lastPutMode!=="clone"){this._hideClone();return}if(Qa){if(aa("showClone",this),Pe.eventCanceled)return;ee.parentNode==xt&&!this.options.group.revertClone?xt.insertBefore(qt,ee):on?xt.insertBefore(qt,on):xt.appendChild(qt),this.options.group.revertClone&&this.animate(ee,qt),Ae(qt,"display",""),Qa=!1}}};function af(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function no(e,a,t,n,i,o,u,f){var v,h=e[ca],d=h.options.onMove,S;return window.CustomEvent&&!$a&&!Qn?v=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent("move",!0,!0)),v.to=a,v.from=e,v.dragged=t,v.draggedRect=n,v.related=i||a,v.relatedRect=o||Ft(a),v.willInsertAfter=f,v.originalEvent=u,e.dispatchEvent(v),d&&(S=d.call(h,v,u)),S}function Ro(e){e.draggable=!1}function nf(){Qo=!1}function of(e,a,t){var n=Ft(qn(t.el,0,t.options,!0)),i=10;return a?e.clientX<n.left-i||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-i||e.clientY<n.bottom&&e.clientX<n.left}function lf(e,a,t){var n=Ft(ci(t.el,t.options.draggable)),i=10;return a?e.clientX>n.right+i||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+i}function rf(e,a,t,n,i,o,u,f){var v=n?e.clientY:e.clientX,h=n?t.height:t.width,d=n?t.top:t.left,S=n?t.bottom:t.right,M=!1;if(!u){if(f&&so<h*i){if(!$n&&(jn===1?v>d+h*o/2:v<S-h*o/2)&&($n=!0),$n)M=!0;else if(jn===1?v<d+so:v>S-so)return-jn}else if(v>d+h*(1-i)/2&&v<S-h*(1-i)/2)return sf(a)}return M=M||u,M&&(v<d+h*o/2||v>S-h*o/2)?v>d+h/2?1:-1:0}function sf(e){return pa(ee)<pa(e)?1:-1}function uf(e){for(var a=e.tagName+e.className+e.src+e.href+e.textContent,t=a.length,n=0;t--;)n+=a.charCodeAt(t);return n.toString(36)}function cf(e){go.length=0;for(var a=e.getElementsByTagName("input"),t=a.length;t--;){var n=a[t];n.checked&&go.push(n)}}function uo(e){return setTimeout(e,0)}function Ko(e){return clearTimeout(e)}xo&&it(document,"touchmove",function(e){(Pe.active||gn)&&e.cancelable&&e.preventDefault()});Pe.utils={on:it,off:Je,css:Ae,find:Hl,is:function(a,t){return!!Da(a,t,a,!1)},extend:Ud,throttle:jl,closest:Da,toggleClass:ra,clone:Ul,index:pa,nextTick:uo,cancelNextTick:Ko,detectDirection:Wl,getChild:qn};Pe.get=function(e){return e[ca]};Pe.mount=function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];a[0].constructor===Array&&(a=a[0]),a.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(Pe.utils=Ea(Ea({},Pe.utils),n.utils)),Kn.mount(n)})};Pe.create=function(e,a){return new Pe(e,a)};Pe.version=Ld;var Bt=[],Fn,Go,Jo=!1,Vo,Io,po,Nn;function df(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this))}return e.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?it(document,"dragover",this._handleAutoScroll):this.options.supportPointer?it(document,"pointermove",this._handleFallbackAutoScroll):n.touches?it(document,"touchmove",this._handleFallbackAutoScroll):it(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?Je(document,"dragover",this._handleAutoScroll):(Je(document,"pointermove",this._handleFallbackAutoScroll),Je(document,"touchmove",this._handleFallbackAutoScroll),Je(document,"mousemove",this._handleFallbackAutoScroll)),Wi(),co(),Yd()},nulling:function(){po=Go=Fn=Jo=Nn=Vo=Io=null,Bt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var i=this,o=(t.touches?t.touches[0]:t).clientX,u=(t.touches?t.touches[0]:t).clientY,f=document.elementFromPoint(o,u);if(po=t,n||this.options.forceAutoScrollFallback||Qn||$a||zn){Fo(t,this.options,f,n);var v=Ka(f,!0);Jo&&(!Nn||o!==Vo||u!==Io)&&(Nn&&Wi(),Nn=setInterval(function(){var h=Ka(document.elementFromPoint(o,u),!0);h!==v&&(v=h,co()),Fo(t,i.options,h,n)},10),Vo=o,Io=u)}else{if(!this.options.bubbleScroll||Ka(f,!0)===qa()){co();return}Fo(t,this.options,Ka(f,!1),!1)}}},ja(e,{pluginName:"scroll",initializeByDefault:!0})}function co(){Bt.forEach(function(e){clearInterval(e.pid)}),Bt=[]}function Wi(){clearInterval(Nn)}var Fo=jl(function(e,a,t,n){if(!!a.scroll){var i=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,u=a.scrollSensitivity,f=a.scrollSpeed,v=qa(),h=!1,d;Go!==t&&(Go=t,co(),Fn=a.scroll,d=a.scrollFn,Fn===!0&&(Fn=Ka(t,!0)));var S=0,M=Fn;do{var q=M,P=Ft(q),A=P.top,z=P.bottom,se=P.left,N=P.right,R=P.width,w=P.height,H=void 0,ie=void 0,De=q.scrollWidth,Q=q.scrollHeight,ue=Ae(q),he=q.scrollLeft,me=q.scrollTop;q===v?(H=R<De&&(ue.overflowX==="auto"||ue.overflowX==="scroll"||ue.overflowX==="visible"),ie=w<Q&&(ue.overflowY==="auto"||ue.overflowY==="scroll"||ue.overflowY==="visible")):(H=R<De&&(ue.overflowX==="auto"||ue.overflowX==="scroll"),ie=w<Q&&(ue.overflowY==="auto"||ue.overflowY==="scroll"));var we=H&&(Math.abs(N-i)<=u&&he+R<De)-(Math.abs(se-i)<=u&&!!he),Re=ie&&(Math.abs(z-o)<=u&&me+w<Q)-(Math.abs(A-o)<=u&&!!me);if(!Bt[S])for(var Le=0;Le<=S;Le++)Bt[Le]||(Bt[Le]={});(Bt[S].vx!=we||Bt[S].vy!=Re||Bt[S].el!==q)&&(Bt[S].el=q,Bt[S].vx=we,Bt[S].vy=Re,clearInterval(Bt[S].pid),(we!=0||Re!=0)&&(h=!0,Bt[S].pid=setInterval(function(){n&&this.layer===0&&Pe.active._onTouchMove(po);var Me=Bt[this.layer].vy?Bt[this.layer].vy*f:0,qe=Bt[this.layer].vx?Bt[this.layer].vx*f:0;typeof d=="function"&&d.call(Pe.dragged.parentNode[ca],qe,Me,e,po,Bt[this.layer].el)!=="continue"||$l(Bt[this.layer].el,qe,Me)}.bind({layer:S}),24))),S++}while(a.bubbleScroll&&M!==v&&(M=Ka(M,!1)));Jo=h}},30),Gl=function(a){var t=a.originalEvent,n=a.putSortable,i=a.dragEl,o=a.activeSortable,u=a.dispatchSortableEvent,f=a.hideGhostForTarget,v=a.unhideGhostForTarget;if(!!t){var h=n||o;f();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,S=document.elementFromPoint(d.clientX,d.clientY);v(),h&&!h.el.contains(S)&&(u("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function di(){}di.prototype={startIndex:null,dragStart:function(a){var t=a.oldDraggableIndex;this.startIndex=t},onSpill:function(a){var t=a.dragEl,n=a.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=qn(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Gl};ja(di,{pluginName:"revertOnSpill"});function fi(){}fi.prototype={onSpill:function(a){var t=a.dragEl,n=a.putSortable,i=n||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:Gl};ja(fi,{pluginName:"removeOnSpill"});Pe.mount(new df);Pe.mount(fi,di);function ff(){return typeof window!="undefined"?window.console:global.console}const hf=ff();function mf(e){const a=Object.create(null);return function(n){return a[n]||(a[n]=e(n))}}const vf=/-(\w)/g,Xi=mf(e=>e.replace(vf,(a,t)=>t?t.toUpperCase():""));function No(e){e.parentElement!==null&&e.parentElement.removeChild(e)}function Qi(e,a,t){const n=t===0?e.children[0]:e.children[t-1].nextSibling;e.insertBefore(a,n)}function gf(e,a){return Object.values(e).indexOf(a)}function pf(e,a,t,n){if(!e)return[];const i=Object.values(e),o=a.length-n;return[...a].map((f,v)=>v>=o?i.length:i.indexOf(f))}function Jl(e,a){this.$nextTick(()=>this.$emit(e.toLowerCase(),a))}function bf(e){return a=>{this.realList!==null&&this["onDrag"+e](a),Jl.call(this,e,a)}}function yf(e){return["transition-group","TransitionGroup"].includes(e)}function _f(e){if(!e||e.length!==1)return!1;const[{type:a}]=e;return a?yf(a.name):!1}function wf(e,a){return a?{...a.props,...a.attrs}:e}const Zo=["Start","Add","Remove","Update","End"],ei=["Choose","Unchoose","Sort","Filter","Clone"],Sf=["Move",...Zo,...ei].map(e=>"on"+e);let zo=null;const xf={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},Cf=il({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...Zo.map(e=>e.toLowerCase()),...ei.map(e=>e.toLowerCase())],props:xf,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const e=this.$slots.default?this.$slots.default():null,a=wf(this.$attrs,this.componentData);return e?(this.transitionMode=_f(e),g(this.getTag(),a,e)):g(this.getTag(),a,[])},created(){this.list!==null&&this.modelValue!==null&&hf.error("list props are mutually exclusive! Please set one.")},mounted(){const e={};Zo.forEach(i=>{e["on"+i]=bf.call(this,i)}),ei.forEach(i=>{e["on"+i]=Jl.bind(this,i)});const a=Object.keys(this.$attrs).reduce((i,o)=>(i[Xi(o)]=this.$attrs[o],i),{}),t=Object.assign({},a,e,{onMove:(i,o)=>this.onDragMove(i,o)});!("draggable"in t)&&(t.draggable=">*");const n=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new Pe(n,t),n.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch{}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(e){this.updateOptions(e)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?ft(this.component):this.tag},updateOptions(e){for(var a in e){const t=Xi(a);Sf.indexOf(t)===-1&&this._sortable.option(t,e[a])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=pf(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(e){const a=gf(this.getChildrenNodes()||[],e);if(a===-1)return null;const t=this.realList[a];return{index:a,element:t}},emitChanges(e){this.$nextTick(()=>{this.$emit("change",e)})},alterList(e){if(this.list){e(this.list);return}const a=[...this.modelValue];e(a),this.$emit("update:modelValue",a)},spliceList(){const e=a=>a.splice(...arguments);this.alterList(e)},updatePosition(e,a){const t=n=>n.splice(a,0,n.splice(e,1)[0]);this.alterList(t)},getVmIndex(e){const a=this.visibleIndexes,t=a.length;return e>t-1?t:a[e]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(e){if(!this.noTransitionOnDrag||!this.transitionMode)return;var a=this.getChildrenNodes();a[e].data=null;const t=this.getComponent();t.children=[],t.kept=void 0},onDragStart(e){this.context=this.getUnderlyingVm(e.item),this.context&&(e.item._underlying_vm_=this.clone(this.context.element),zo=e.item)},onDragAdd(e){const a=e.item._underlying_vm_;if(a===void 0)return;No(e.item);const t=this.getVmIndex(e.newIndex);this.spliceList(t,0,a),this.computeIndexes();const n={element:a,newIndex:t};this.emitChanges({added:n})},onDragRemove(e){if(Qi(this.$el,e.item,e.oldIndex),e.pullMode==="clone"){No(e.clone);return}if(!this.context)return;const a=this.context.index;this.spliceList(a,1);const t={element:this.context.element,oldIndex:a};this.resetTransitionData(a),this.emitChanges({removed:t})},onDragUpdate(e){No(e.item),Qi(e.from,e.item,e.oldIndex);const a=this.context.index,t=this.getVmIndex(e.newIndex);this.updatePosition(a,t);const n={element:this.context.element,oldIndex:a,newIndex:t};this.emitChanges({moved:n})},updateProperty(e,a){e.hasOwnProperty(a)&&(e[a]+=this.headerOffset)},onDragMove(e,a){const t=this.move;if(!t||!this.realList)return!0;const n=this.getRelatedContextFromMoveEvent(e),i=this.context,o=this.computeFutureIndex(n,e);Object.assign(i,{futureIndex:o});const u=Object.assign({},e,{relatedContext:n,draggedContext:i});return t(u,a)},onDragEnd(){this.computeIndexes(),zo=null},getTrargetedComponent(e){return e.__draggable_component__},getRelatedContextFromMoveEvent({to:e,related:a}){const t=this.getTrargetedComponent(e);if(!t)return{component:t};const n=t.realList,i={list:n,component:t};if(e!==a&&n&&t.getUnderlyingVm){const o=t.getUnderlyingVm(a);if(o)return Object.assign(o,i)}return i},computeFutureIndex(e,a){const t=[...a.to.children].filter(u=>u.style.display!=="none");if(t.length===0)return 0;const n=t.indexOf(a.related),i=e.component.getVmIndex(n);return t.indexOf(zo)!==-1||!a.willInsertAfter?i:i+1}}}),kf={props:{id:[String,Number],name:String,url:String,icon:String,is_image:Boolean,is_embed:Boolean,mini:Boolean}},Df={key:0,class:"thumbnail"},qf={key:0,class:"absolute-bottom-right q-pa-sm"},Tf={key:1,class:"text-black flex flex-center file"},Ef={class:"info overflow-hidden text-center"};function Of(e,a,t,n,i,o){return T(),J(yn,{class:"box rounded-borders cursor-pointer",ratio:1},{default:D(()=>[t.is_image||t.is_embed?(T(),te("div",Df,[y(Wn,{loading:"lazy",src:t.url,contain:""},{loading:D(()=>[y(ln,{color:"white"})]),_:1},8,["src"]),t.is_embed?(T(),te("div",qf,[y(ye,{flat:"",dense:"",round:"",color:"grey",icon:"fad fa-play-circle"})])):xe("",!0)])):(T(),te("div",Tf,[X("div",Ef,[y(Ze,{size:t.mini?"20px":"35px",name:`fas fa-file-${t.icon}`},null,8,["size","name"])])])),Ee(e.$slots,"default")]),_:3})}var Mf=tt(kf,[["render",Of]]);const Bf={components:{BaseBtnDropdown:El,VueDraggableNext:Cf,FileCard:Mf},data(){return{selection:!1,selected:[],files:this.modelValue}},props:{modelValue:{required:!0,type:Array},label:{type:String,default:"Media"},hint:String,header:Boolean,useCheckbox:Boolean,multiple:{required:!1,type:Boolean,default:!0},editor:{required:!1,type:Boolean,default:!1},maxFiles:{required:!1,type:[Number,String],default:9999}},emits:["update:model-value","rejected","removed","uploaded"],methods:{onRejected(e){console.func("components/base/BaseDropzone:methods.onRejected()",arguments),this.$q.notify({type:"negative",message:`${e.length} file(s) did not pass validation constraints`}),this.$emit("rejected",e)},onUploaded({files:e,xhr:a}){console.func("components/base/BaseDropzone:methods.onUploaded()",arguments),this.$refs.uploader.removeFile(e[0]),this.files.push(JSON.parse(a.response)),this.$emit("uploaded",JSON.parse(a.response)),this.$emit("update:model-value",this.files)},onDetails(e){if(console.func("components/base/BaseDropzone:methods.onDetails()",arguments),!this.editor)return!1;this.$q.dialog({component:Nl,componentProps:{file:e}}).onOk(a=>{console.func("components/base/BaseDropzone:methods.onDetails.onOk()",arguments),e.updating=!0,Object.assign(e,a)})},onSelect(){this.selected.length&&this.selected.length<this.files.length?this.files.filter(e=>!this.selected.includes(e.id)).forEach(e=>{this.selected.push(e.id)}):this.selected.length===this.files.length?this.selected=[]:this.selected=this.files.map(e=>e.id)},onRemove(){console.func("components/base/BaseDropzone:method.onRemove()",arguments),this.$core.confirm("Are you sure you want to remove?").then(()=>{this.files.filter(e=>this.selected.find(a=>a===e.id)).forEach(e=>{this.$emit("removed",e)}),this.files=this.files.filter(e=>!this.selected.find(a=>a===e.id)),this.$emit("update:model-value",this.files),this.selected=[]})},onRemoveSingle(e){console.func("components/base/BaseDropzone:method.onRemoveSingle()",arguments),this.$core.confirm("Are you sure you want to remove?").then(()=>{this.$emit("removed",e),this.files=this.files.filter(a=>e.id!=a.id),this.$emit("update:model-value",this.files)})},onAddMediaFromUrl(e){console.func("components/base/BaseDropzone:method.onAddMediaFromUrl()",arguments),this.$q.dialog({component:Id,componentProps:{type:e}}).onOk(a=>{console.func("components/base/BaseDropzone:method.onAddMediaFromUrl.onOk()",a),this.files.push(a)})}},computed:{headers(){return[{name:"Authorization",value:`Bearer ${this.$app.token}`}]},url(){return"http://api.qaravel.gomedia/files/store"}},watch:{modelValue:{deep:!0,handler(e){this.files=e}},selected(e){e.length&&e.length<this.files.length?this.selection=null:e.length===this.files.length?this.selection=!0:this.selection=!1}}},Af={dense:"",class:"row no-wrap items-center"},Pf={key:1,class:"text-h6"},Rf={key:0,class:"q-mb-md"},Vf={class:"absolute-full controller q-pa-sm"},If=["onClick"],Ff={key:0,class:"q-pa-md text-black flex flex-center"},Nf={key:0,class:"thumbnail"},zf={key:1,class:"q-pa-md text-black flex flex-center file"},Lf={class:"info overflow-hidden text-center"},Hf={key:2,class:"absolute-full q-pa-md text-black flex flex-center failed"},jf={class:"info overflow-hidden text-center"},$f={key:0,class:"relative-position file-box file-select-btn"},Uf={class:"text-black flex flex-center"},Yf={class:"text-center"},Wf={key:1,class:"flex flex-center dropzone"},Xf={class:"text-center"},Qf=X("div",{class:"text-grey"},"Drag and drop files here",-1),Kf=X("div",{class:"text-grey"},"or",-1);function Gf(e,a,t,n,i,o){const u=ft("base-btn"),f=ft("base-btn-dropdown"),v=ft("file-card"),h=ft("vue-draggable-next");return T(),J(Vl,{ref:"uploader",class:"full-width dropzone-uploader",flat:"",multiple:t.multiple,"max-files":t.maxFiles,"field-name":"media","auto-upload":"","with-credentials":!0,headers:o.headers,url:o.url,onUploaded:o.onUploaded,onRejected:o.onRejected},{header:D(()=>[Ee(e.$slots,"header",{onAddMediaFromUrl:o.onAddMediaFromUrl},()=>[t.header?(T(),te(ut,{key:0},[X("div",Af,[i.selected.length?(T(),J(Na,{key:0,size:"sm",class:"text-subtitle2",dense:"","onUpdate:modelValue":[o.onSelect,a[0]||(a[0]=d=>i.selection=d)],modelValue:i.selection,label:`${i.selected.length} media selected`},null,8,["onUpdate:modelValue","modelValue","label"])):(T(),te("div",Pf,et(t.label),1)),y(Xn),i.selected.length?(T(),J(u,{key:2,link:"",color:"negative",label:"Remove media?",onClick:o.onRemove},null,8,["onClick"])):(T(),J(f,{key:3,link:"",color:"primary",label:"Add media from URL"},{default:D(()=>[y(Cn,{dense:"",class:"q-pa-sm"},{default:D(()=>[Ot((T(),J(Jt,{class:"rounded-borders",onClick:a[1]||(a[1]=d=>o.onAddMediaFromUrl("photo")),clickable:""},{default:D(()=>[y(yt,null,{default:D(()=>[y(Ta,null,{default:D(()=>[At("Add photo")]),_:1})]),_:1})]),_:1})),[[Ca]]),Ot((T(),J(Jt,{class:"rounded-borders",onClick:a[2]||(a[2]=d=>o.onAddMediaFromUrl("video")),clickable:""},{default:D(()=>[y(yt,null,{default:D(()=>[y(Ta,null,{default:D(()=>[At("Embed video")]),_:1})]),_:1})]),_:1})),[[Ca]])]),_:1})]),_:1}))]),t.hint?(T(),te("div",Rf,et(t.hint),1)):xe("",!0)],64)):xe("",!0)])]),list:D(d=>[d.files&&d.files.length||i.files.length?(T(),J(h,{key:0,handle:".handle","ghost-class":"ghost-file",class:"file-grid",modelValue:i.files,"onUpdate:modelValue":a[4]||(a[4]=S=>i.files=S),"item-key":"id"},{default:D(()=>[(T(!0),te(ut,null,Kt(i.files,S=>(T(),te("div",{class:"relative-position file-box",key:S.id},[y(v,_a(wa(S)),{default:D(()=>[X("div",Vf,[X("div",{onClick:M=>o.onDetails(S),class:"handler absolute-full flex flex-center"},[y(Ze,{class:"handle",color:"white",size:"xs",name:"far fa-expand-alt"})],8,If),y(ye,{ripple:!1,class:"remove absolute-top-right q-mt-sm q-mr-sm",dense:"",size:"7px",color:"red-5",icon:"close",onClick:M=>o.onRemoveSingle(S)},null,8,["onClick"]),Ot(y(Na,{size:"sm",dark:"",dense:"",class:"selected",modelValue:i.selected,"onUpdate:modelValue":a[3]||(a[3]=M=>i.selected=M),val:S.id},null,8,["modelValue","val"]),[[Ga,t.useCheckbox]])])]),_:2},1040)]))),128)),(T(!0),te(ut,null,Kt(d.files,(S,M)=>(T(),te("div",{class:"relative-position file-box",key:M},[y(yn,{class:"box rounded-borders cursor-pointer bg-grey-4",ratio:1},{default:D(()=>[S.__status==="uploading"?(T(),te("div",Ff,[y(ln,{color:"primary",size:"3rem",thickness:5})])):(T(),te(ut,{key:1},[S.__img?(T(),te("div",Nf,[y(Wn,{src:S.__img.src,contain:""},{loading:D(()=>[y(ln,{color:"white"})]),_:2},1032,["src"])])):(T(),te("div",zf,[X("div",Lf,[y(Ze,{name:`fas fa-file-${S.icon}`,size:"50px"},null,8,["name"])])])),S.__status==="failed"?(T(),te("div",Hf,[X("div",jf,[y(ye,{flat:"",round:"",color:"white",icon:"fas fa-cloud-upload-alt",onClick:d.upload},null,8,["onClick"])])])):xe("",!0)],64))]),_:2},1024)]))),128)),i.files.length<t.maxFiles?(T(),te("div",$f,[y(yn,{class:"cursor-pointer dropzone min",ratio:1},{default:D(()=>[y(Wo),X("div",Uf,[X("div",Yf,[y(Ze,{name:"fas fa-plus"})])])]),_:1})])):xe("",!0)]),_:2},1032,["modelValue"])):(T(),te("div",Wf,[X("div",Xf,[y(Ze,{color:"grey",size:"50px",name:"far fa-cloud-upload"}),Qf,Kf,y(u,{link:"",color:"primary",outline:"","no-caps":"",label:"Browse files"},{default:D(()=>[y(Wo)]),_:1})])]))]),_:3},8,["multiple","max-files","headers","url","onUploaded","onRejected"])}var Jf=tt(Bf,[["render",Gf]]),Zf=Object.freeze(Object.defineProperty({__proto__:null,default:Jf},Symbol.toStringTag,{value:"Module"}));const eh=Pu("file",{state:()=>({rows:[]}),getters:{},actions:{get(e){return new Promise((a,t)=>{Bn.get("files",e).then(n=>{this.rows=n.data,a(n)}).catch(n=>{t(n)})})},store(e){return new Promise((a,t)=>{Bn.post("files/store",e).then(n=>{a(n)}).catch(n=>{t(n)})})},show(e){return new Promise((a,t)=>{Bn.get(`files/${e}`).then(n=>{a(n)}).catch(n=>{t(n)})})},update(e){return new Promise((a,t)=>{Bn.put(`files/${e.id}`,e).then(n=>{a(n)}).catch(n=>{t(n)})})},delete(e){return new Promise((a,t)=>{Bn.delete(`files/${e}/destroy`).then(n=>{a(n)}).catch(n=>{t(n)})})}}});const th={data(){return{selected:this.modelValue,files:this.relatedFiles,current_page:1,last_page:1,loading:!1}},props:{modelValue:{required:!1},relatedFiles:{required:!1,type:[Array],default:()=>[]},hint:[String],title:{type:[String],default:"Upload media"},multiple:{type:[Boolean],default:!1},maxFileSize:{type:[Number,String],default:void 0},acceptType:{required:!1,type:[String],default:void 0},loadFromServer:{type:[Boolean],required:!1,default:!1},onUploading:{type:[Function],required:!1,default:void 0}},emits:["ok","hide"],methods:{...So(eh,["get"]),onRejected(e){console.func("components/FileSelectorDialog:methods.onRejected()",arguments),this.$q.notify({type:"negative",message:`${e.length} file(s) did not pass validation constraints`})},onUploaded({files:e,xhr:a}){console.func("components/FileSelectorDialog:methods.onUploaded()",arguments),this.$refs.uploader.removeFile(e[0]);const t=JSON.parse(a.response);this.files.splice(0,0,t)},onLoadFile(e){console.func("components/FileSelectorDialog:methods.onLoadFile()",arguments),this.loading=!0,this.current_page=e.page,this.get(e).then(({data:a,meta:t})=>{this.files=a,this.current_page=t.current_page,this.last_page=t.last_page,this.loading=!1}).catch(()=>{this.loading=!1})},async show(){console.func("components/FileSelectorDialog:methods.show()",arguments),this.loadFromServer&&await this.onLoadFile({page:this.current_page}),this.$refs.dialog.show()},hide(){console.func("components/FileSelectorDialog:methods.close()",arguments),this.$refs.dialog.hide()},onDialogHide(){console.func("components/FileSelectorDialog:methods.onDialogHide()",arguments),this.$emit("hide")},onDone(){console.func("components/FileSelectorDialog:methods.onDone()",arguments),this.$emit("ok",this.selected),this.hide()},onSelect(e){console.func("components/file-selector-dialog.vue:methods.onSelect()",arguments),this.multiple?this.selected?this.selected.find(a=>a.id===e.id)?this.selected=this.selected.filter(a=>a.id!==e.id):this.selected.push(e):(this.selected=[],this.selected.push(e)):this.selected=this.selected&&this.selected.id===e.id?"":e},getSelected(e){return this.multiple?this.selected&&this.selected.filter(a=>a.id===e.id).length>0:this.selected&&this.selected.id===e.id}},computed:{headers(){return[{name:"Authorization",value:`Bearer ${this.$app.token}`}]},url(){return"http://api.qaravel.gomedia/files/store"},disable(){return this.selected===this.modelValue}}},ah={class:"file-grid"},nh={class:"relative-position file-box file-select-btn"},oh=X("div",{class:"text-black flex flex-center"},[X("div",{class:"text-center"},[X("div",{class:"text-subtitle2 text-primary"}," Browse files "),X("div",null,"or drop files here to upload")])],-1),ih={key:0,class:"q-pa-md text-black flex flex-center"},lh={key:0,class:"thumbnail"},rh={key:1,class:"q-pa-md text-black flex flex-center file"},sh={class:"info overflow-hidden text-center"},uh={key:2,class:"absolute-full q-pa-md text-black flex flex-center failed"},ch={class:"info overflow-hidden text-center"},dh=["onClick"],fh={key:0,class:"thumbnail"},hh={key:1,class:"q-pa-md text-black flex flex-center file"},mh={class:"info overflow-hidden text-center"},vh={class:"absolute-full controller"},gh={class:"q-pt-xs q-pr-sm absolute-top-right"},ph={class:"q-gutter-sm"};function bh(e,a,t,n,i,o){const u=ft("base-info"),f=ft("base-dialog");return T(),J(f,{title:t.title,"body-style":"","body-class":"q-pa-none",ref:"dialog",persistent:"","use-separator":"",onHide:o.onDialogHide},{body:D(()=>[y(Vl,{ref:"uploader",class:"full-width file-selector-dialog-uploader overflow-hidden",flat:"",multiple:t.multiple,"max-file-size":t.maxFileSize,"field-name":"media","auto-upload":"",accept:t.acceptType,"with-credentials":!0,headers:o.headers,url:o.url,onUploaded:o.onUploaded,onRejected:o.onRejected},{header:D(()=>[]),list:D(v=>[i.loading?xe("",!0):(T(),te(ut,{key:0},[t.hint?(T(),J(u,{key:0,class:"q-mb-md"},{default:D(()=>[At(et(t.hint),1)]),_:1})):xe("",!0),X("div",ah,[X("div",nh,[y(yn,{class:"cursor-pointer file-selector-dialog min",ratio:1},{default:D(()=>[y(Wo),oh]),_:1})]),(T(!0),te(ut,null,Kt(v.files,(h,d)=>(T(),te("div",{class:"relative-position file-box",key:d},[y(yn,{class:"box rounded-borders cursor-pointer bg-grey-4",ratio:1},{default:D(()=>[h.__status==="uploading"?(T(),te("div",ih,[y(ln,{color:"primary",size:"3rem",thickness:5})])):(T(),te(ut,{key:1},[h.__img?(T(),te("div",lh,[y(Wn,{src:h.__img.src,contain:""},{loading:D(()=>[y(ln,{color:"white"})]),_:2},1032,["src"])])):(T(),te("div",rh,[X("div",sh,[y(Ze,{name:`fas fa-file-${h.icon}`,size:"50px"},null,8,["name"])])])),h.__status==="failed"?(T(),te("div",uh,[X("div",ch,[y(ye,{flat:"",round:"",color:"white",icon:"fas fa-cloud-upload-alt",onClick:v.upload},null,8,["onClick"])])])):xe("",!0)],64))]),_:2},1024)]))),128)),(T(!0),te(ut,null,Kt(i.files,h=>(T(),te("div",{onClick:d=>o.onSelect(h),class:kt({"relative-position":!0,"file-box":!0,selected:o.getSelected(h)}),key:h.id},[y(yn,{class:"box rounded-borders cursor-pointer",ratio:1},{default:D(()=>[h.is_image?(T(),te("div",fh,[y(Wn,{src:h.url,contain:""},{loading:D(()=>[y(ln,{color:"white"})]),_:2},1032,["src"])])):(T(),te("div",hh,[X("div",mh,[y(Ze,{name:`fas fa-file-${h.icon}`,size:"50px"},null,8,["name"])])])),X("div",vh,[X("div",gh,[y(Ze,{class:"checked-icon",size:"15px",color:"green",name:"fas fa-check-circle"})])])]),_:2},1024)],10,dh))),128))])],64)),y(rc,{showing:i.loading},{default:D(()=>[y(Ru,{size:"50px",color:"primary"})]),_:1},8,["showing"])]),_:1},8,["multiple","max-file-size","accept","headers","url","onUploaded","onRejected"])]),footer:D(()=>[y(It,{class:"flex"},{default:D(()=>[t.loadFromServer?(T(),te(ut,{key:0},[y(ye,{disable:i.current_page<=1||i.loading,onClick:a[0]||(a[0]=v=>o.onLoadFile({page:i.current_page-1>=1?i.current_page-1:1})),dense:"",round:"",flat:"",color:"primary",icon:"fal fa-angle-left"},null,8,["disable"]),y(ye,{disable:i.current_page==i.last_page||i.loading,onClick:a[1]||(a[1]=v=>o.onLoadFile({page:i.current_page+1<=i.last_page?i.current_page+1:1})),dense:"",round:"",flat:"",color:"primary",icon:"fal fa-angle-right"},null,8,["disable"])],64)):xe("",!0),y(Xn),X("div",ph,[Ot(y(ye,{"no-caps":"",outline:"",label:"Cancel",color:"grey"},null,512),[[Ca]]),y(ye,{disable:o.disable,"no-caps":"",label:"Done",color:"primary",onClick:o.onDone},null,8,["disable","onClick"])])]),_:1})]),_:1},8,["title","onHide"])}var yh=tt(th,[["render",bh]]);const oo={status:null,message:null,media:[]},_h={props:{id:[String,Number],avatar:{type:[Boolean,String],required:!1,default:!1},user:{type:[Boolean,Object],required:!1,default:!1},icon:{type:[Boolean,String],required:!1,default:!1},creating:Boolean,isAdmin:Boolean,message:String,created_at:String,media:Array,moduleId:[String,Number]},data(){return{loading:!1,note:xa.exports.cloneDeep(oo),default:xa.exports.cloneDeep(oo)}},emits:["create"],methods:{...So(Bi,["reply"]),onSubmit(){console.func("components/base/BaseNoteCard:methods.onSubmit()",arguments),this.loading=!0,this.reply({...this.$props,...this.note}).then(({data:e,message:a})=>{this.note=xa.exports.cloneDeep(oo),this.default=xa.exports.cloneDeep(oo),this.$q.notify(a),this.$emit("create",e),this.loading=!1}).catch(e=>{this.loading=!1,this.$core.error(e,{title:"Error"})})},onAttachFile(){console.func("components/base/BaseEnquiryReplyCard:methods.onAttachFile()",arguments),this.$q.dialog({component:yh,componentProps:{title:"Attach file",multiple:!0}}).onOk(e=>{console.func("components/base/BaseEnquiryReplyCard:methods.onAttachFile.onOk()",e),this.note.media=e})}},computed:{...Yn(xn,{current:"user"}),...Yn(Bi,{status_options:"default_status_options"}),currentUser(){return this.creating?this.current:this.user},color(){return this.$parent.color||"primary"},title(){return this.user?this.user.name:""},hasUser(){return Boolean(this.user)},has_icon(){return this.icon||this.avatar||this.user||this.creating},disable(){return JSON.stringify(this.note)===JSON.stringify(this.default)},getMessage(){return this.message?this.message.replace(/\r?\n/g,"<br/>"):this.message},getMedia(){return this.media||this.note.media}}},wh={key:0,class:"q-timeline__subtitle"},Sh={key:0,class:"q-ml-sm text-grey-8 text-weight-medium"},xh=["src"],Ch={class:"q-timeline__content"},kh=["innerHTML"],Dh={key:0,class:"q-ml-sm text-grey-8"},qh={key:2,class:"q-pt-sm files"},Th={class:"row q-col-gutter-sm"},Eh={key:3,class:"actions-buttons flex q-gutter-sm items-center"};function Oh(e,a,t,n,i,o){const u=ft("base-avatar"),f=ft("base-media-card"),v=ft("base-select"),h=ft("base-btn");return T(),te("li",{class:kt({"q-timeline__entry base-enquiry-reply-card":!0,"q-timeline__entry--right":!0,"q-timeline__entry--icon":o.has_icon})},[!t.creating&&o.hasUser?(T(),te("div",wh,[X("span",null,et(o.title),1),t.created_at?(T(),te("span",Sh,et(t.created_at),1)):xe("",!0)])):xe("",!0),X("div",{class:kt(`q-timeline__dot text-${o.color}`)},[t.avatar?(T(),te("img",{key:0,class:"q-timeline__dot-img",src:t.avatar},null,8,xh)):t.icon?(T(),J(Ze,{key:1,name:t.icon},null,8,["name"])):o.currentUser?(T(),J(u,{key:2,class:"q-timeline__dot-img",tooltip:!1,size:"30px",user:o.currentUser},null,8,["user"])):xe("",!0)],2),X("div",Ch,[t.creating?(T(),J(Ha,{key:0,class:"note-editor q-mb-sm",placeholder:"Leave a reply ...",outlined:"",modelValue:i.note.message,"onUpdate:modelValue":a[0]||(a[0]=d=>i.note.message=d),type:"textarea",autogrow:""},null,8,["modelValue"])):(T(),J(Jt,{key:1,style:{"min-height":"auto"},dense:"",class:"q-pa-none"},{default:D(()=>[y(yt,null,{default:D(()=>[y(Ta,null,{default:D(()=>[X("div",{innerHTML:o.getMessage},null,8,kh)]),_:1})]),_:1}),o.hasUser?xe("",!0):(T(),J(yt,{key:0,side:""},{default:D(()=>[t.created_at?(T(),te("span",Dh,et(t.created_at),1)):xe("",!0)]),_:1}))]),_:1})),o.getMedia.length?(T(),te("div",qh,[X("div",Th,[(T(!0),te(ut,null,Kt(o.getMedia,(d,S)=>(T(),te("div",{key:d.id,class:"col-sm-2 col-xs-12"},[y(f,{creating:t.creating,media:d,onRemove:M=>i.note.media.splice(S,1)},null,8,["creating","media","onRemove"])]))),128))])])):xe("",!0),t.creating?(T(),te("div",Eh,[e.$q.screen.gt.xs?(T(),J(Xn,{key:0})):xe("",!0),t.isAdmin?(T(),J(v,{key:1,options:e.status_options,modelValue:i.note.status,"onUpdate:modelValue":a[1]||(a[1]=d=>i.note.status=d),outlined:"",dense:"","options-html":"","map-options":"",prefix:"Status: ","emit-value":""},null,8,["options","modelValue"])):xe("",!0),y(h,{class:"main-btn",color:"grey-5",icon:"far fa-paperclip",label:"Attach file",onClick:o.onAttachFile},null,8,["onClick"]),y(h,{loading:i.loading,class:"main-btn",color:"primary",label:"Reply",icon:"fas fa-paper-plane",onClick:o.onSubmit,disable:o.disable},null,8,["loading","onClick","disable"])])):xe("",!0)])],2)}var Mh=tt(_h,[["render",Oh],["__scopeId","data-v-bde6b782"]]),Bh=Object.freeze(Object.defineProperty({__proto__:null,default:Mh},Symbol.toStringTag,{value:"Module"}));const Ah={props:{submited:{required:!1,type:Boolean,default:()=>!1},resetable:{required:!1,type:Boolean,default:()=>!1},disable:{required:!1,type:Boolean,default:()=>!1},cancelable:{required:!1,type:Boolean,default:()=>!0},square:{required:!1,type:Boolean,default:()=>!1},bordered:{required:!1,type:Boolean,default:()=>!1},submit:{required:!1,type:Boolean,default:()=>!0},contentClass:{required:!1,type:String,default:()=>""},noAction:Boolean},emits:["cancel","reset"],methods:{...So(xn,["setIsDirt","setIsLoading"]),onCancel(){console.func("components/base/base-form:methods.onCancel()",arguments),this.$emit("cancel")},onReset(){console.func("components/base/base-form:methods.onReset()",arguments),this.$core.confirm("If you discard changes, you\u2019ll delete any edits you made since you last saved.",{title:"Discard all unsaved changes?",ok:"Discard changes",cancel:"Continue editing",okColor:"negative"}).then(()=>{this.setIsDirt(!1),this.$emit("reset")})},addHandler(){window.addEventListener("form:discard",this.onDiscard),window.addEventListener("form:save",this.onSave)},removeHandler(){window.removeEventListener("form:discard",this.onDiscard),window.removeEventListener("form:save",this.onSave)},onDiscard(){console.func("components/base/base-form:methods.onDiscard()",arguments),this.onReset()},onSave(){console.func("components/base/base-form:methods.onSave()",arguments),this.$refs.baseForm.submit(),this.setIsLoading(!0)}},watch:{resetable:{deep:!0,immediate:!0,handler(e){this.setIsDirt(e)}},submited:{deep:!0,immediate:!0,handler(e){this.setIsLoading(e)}}},computed:{...Yn(xn,["isDirt"])},created(){this.addHandler()},beforeUnmount(){this.removeHandler()}};function Ph(e,a,t,n,i,o){return T(),J(sc,{class:"base-form",ref:"baseForm"},{default:D(()=>[y(kn,{flat:"",square:t.square,bordered:t.bordered,class:kt(`bg-transparent ${t.contentClass}`)},{default:D(()=>[y(It,{class:"q-pa-none form-body"},{default:D(()=>[Ee(e.$slots,"default")]),_:3}),t.noAction?xe("",!0):Ee(e.$slots,"actions",{key:0},()=>[y(It,{class:"text-right form-actions"},{default:D(()=>[t.resetable&&!t.submited?(T(),J(ye,{key:0,"no-caps":"",onClick:o.onReset,label:"Reset",color:"grey",class:"main-btn q-mr-sm"},null,8,["onClick"])):xe("",!0),t.cancelable?(T(),J(ye,{key:1,disable:t.submited,"no-caps":"",onClick:o.onCancel,label:"Cancel",color:"negative",class:"main-btn q-mr-sm"},null,8,["disable","onClick"])):xe("",!0),Ot(y(ye,{disable:t.disable,loading:t.submited,"no-caps":"",label:"Save",type:"submit",color:"primary",class:"main-btn"},null,8,["disable","loading"]),[[Ga,t.submit]])]),_:1})])]),_:3},8,["square","bordered","class"])]),_:3},512)}var Rh=tt(Ah,[["render",Ph]]),Vh=Object.freeze(Object.defineProperty({__proto__:null,default:Rh},Symbol.toStringTag,{value:"Module"})),Ih=Tt({name:"QBanner",props:{...rn,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:a}){const{proxy:{$q:t}}=Yt(),n=sn(e,t),i=k(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(n.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),o=k(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const u=[g("div",{class:"q-banner__avatar col-auto row items-center self-start"},Gt(a.avatar)),g("div",{class:"q-banner__content col text-body2"},Gt(a.default))],f=Gt(a.action);return f!==void 0&&u.push(g("div",{class:o.value},f)),g("div",{class:i.value+(e.inlineActions===!1&&f!==void 0?" q-banner--top-padding":""),role:"alert"},u)}}});const Fh={},Nh={class:"flex row items-center"},zh={class:"col-auto q-mr-md avatar"},Lh={class:"col message"};function Hh(e,a){return T(),J(Ih,{class:"bg-orange-1"},{default:D(()=>[X("div",Nh,[X("div",zh,[Ee(e.$slots,"avatar",{},()=>[y(Ze,{size:"sm",name:"fas fa-info-circle",color:"warning"})])]),X("div",Lh,[Ee(e.$slots,"default")])])]),_:3})}var jh=tt(Fh,[["render",Hh]]),$h=Object.freeze(Object.defineProperty({__proto__:null,default:jh},Symbol.toStringTag,{value:"Module"}));const Uh={props:{modelValue:{},type:String,label:String,bgColor:String,dense:{type:Boolean,default:!0},outlined:{type:Boolean,default:!0},borderless:Boolean},methods:{onChange(e){console.func("components/base/BaseInput:methods.onChange",arguments),this.$emit("update:model-value",e)}},computed:{scopedSlots(){return Object.keys(this.$slots)}}};function Yh(e,a,t,n,i,o){return T(),J(Ha,{dense:t.dense,"bg-color":t.bgColor,outlined:t.outlined&&!t.borderless,borderless:t.borderless,modelValue:t.modelValue,type:t.type,label:t.label,"onUpdate:modelValue":o.onChange},Un({_:2},[Kt(o.scopedSlots,u=>({name:u,fn:D(f=>[Ee(e.$slots,u,ga(f,{props:f}))])}))]),1032,["dense","bg-color","outlined","borderless","modelValue","type","label","onUpdate:modelValue"])}var Wh=tt(Uh,[["render",Yh]]),Xh=Object.freeze(Object.defineProperty({__proto__:null,default:Wh},Symbol.toStringTag,{value:"Module"}));const Qh={props:{label:String,icon:String,iconColor:String,link:Boolean}};function Kh(e,a,t,n,i,o){return Ot((T(),J(Jt,{clickable:"",class:kt({"base-item text-weight-medium rounded-borders":!0,link:t.link})},{default:D(()=>[Ee(e.$slots,"default",{},()=>[t.icon?(T(),J(yt,{key:0,style:{"min-width":"auto"},avatar:""},{default:D(()=>[y(Ze,{color:t.iconColor,size:"18px",name:t.icon},null,8,["color","name"])]),_:1})):xe("",!0),y(yt,null,{default:D(()=>[At(et(t.label),1)]),_:1})])]),_:3},8,["class"])),[[Ca]])}var Gh=tt(Qh,[["render",Kh]]),Jh=Object.freeze(Object.defineProperty({__proto__:null,default:Gh},Symbol.toStringTag,{value:"Module"}));const Zh={props:{title:String,required:Boolean}},em={class:"base-label flex items-center"},tm={class:"text-label"},am={key:0,class:"q-ml-xs"};function nm(e,a,t,n,i,o){return T(),te("div",em,[X("div",tm,[Ee(e.$slots,"default",{},()=>[At(et(t.title),1)]),t.required?(T(),te("span",am,"*")):xe("",!0)])])}var om=tt(Zh,[["render",nm]]),im=Object.freeze(Object.defineProperty({__proto__:null,default:om},Symbol.toStringTag,{value:"Module"}));const lm={props:{media:Object,creating:Boolean},emits:["remove"],methods:{onRemove(){console.log("components/base/BaseMediaCard:methods.onRemove()",arguments),this.$emit("remove")},onDetails(){console.func("components/base/BaseMediaCard:methods.onDetails()",arguments),this.$q.dialog({component:Nl,componentProps:{file:this.media}})}}};function rm(e,a,t,n,i,o){const u=ft("base-thumbnail");return T(),J(Jt,{onClick:o.onDetails,clickable:"",class:"q-pa-none rounded-borders border-all overflow-hidden"},{default:D(()=>[y(yt,{avatar:""},{default:D(()=>[y(u,{class:"border-right",square:"",flat:"",media:t.media},null,8,["media"])]),_:1}),y(yt,null,{default:D(()=>[y(Ta,{caption:"",lines:"1"},{default:D(()=>[At(et(t.media.name),1)]),_:1})]),_:1}),t.creating?(T(),J(yt,{key:0,side:""},{default:D(()=>[y(ye,{onClick:o.onRemove,flat:"",round:"",size:"xs",icon:"fal fa-times"},null,8,["onClick"])]),_:1})):xe("",!0)]),_:1},8,["onClick"])}var sm=tt(lm,[["render",rm]]),um=Object.freeze(Object.defineProperty({__proto__:null,default:sm},Symbol.toStringTag,{value:"Module"}));const Ki={message:null},cm={props:{id:[String,Number],avatar:{type:[Boolean,String],required:!1,default:!1},user:{type:[Boolean,Object],required:!1,default:!1},icon:{type:[Boolean,String],required:!1,default:!1},creating:Boolean,message:String,type:String,options:[Array,String,Object],date_time:String,moduleAction:Function,moduleId:{required:!0}},data(){return{loading:!1,note:xa.exports.cloneDeep(Ki),default:xa.exports.cloneDeep(Ki)}},emits:["create"],methods:{onSubmit(){console.func("components/base/BaseNoteCard:methods.onSubmit()",arguments),this.loading=!0,this.moduleAction({...this.$props,...this.note}).then(({data:e,message:a})=>{this.note={rag:null,message:null},this.default={rag:null,message:null},this.$q.notify(a),this.$emit("create",e),this.loading=!1}).catch(e=>{this.loading=!1,this.$core.error(e,{title:"Error"})})}},computed:{...Yn(xn,{logedUser:"user"}),currentUser(){return this.creating?this.logedUser:this.user},color(){return this.$parent.color||"primary"},title(){return this.user?this.user.name:""},hasUser(){return Boolean(this.user)},has_icon(){return this.icon||this.avatar||this.user||this.creating},disable(){return JSON.stringify(this.note)===JSON.stringify(this.default)},getMessage(){let e=this.message||"",a=[];return this.type!=="notes"&&this.options&&(Object.keys(this.options).forEach(t=>{let n=this.options[t];t==="password"?a.push(`${this.$core.capitalize(t.replaceAll("_"," "))} changed`):a.push(`${this.$core.capitalize(t.replaceAll("_"," "))} changed from ${n.previous} to ${n.current}`)}),e=e+"<br>"+a.join("<br>")),e.replace(/\r?\n/g,"<br/>")}}},dm={key:0,class:"q-timeline__subtitle"},fm={key:0,class:"q-ml-sm text-grey-8 text-weight-medium"},hm=["src"],mm={class:"q-timeline__content"},vm={class:"flex items-center"},gm=["innerHTML"],pm={key:0,class:"q-ml-sm text-grey-8"};function bm(e,a,t,n,i,o){const u=ft("base-avatar"),f=ft("base-btn");return T(),te("li",{class:kt({"q-timeline__entry":!0,"q-timeline__entry--right":!0,"q-timeline__entry--icon":o.has_icon})},[!t.creating&&o.hasUser?(T(),te("div",dm,[X("span",null,et(o.title),1),t.date_time?(T(),te("span",fm,et(t.date_time),1)):xe("",!0)])):xe("",!0),X("div",{class:kt(`q-timeline__dot text-${o.color}`)},[t.avatar?(T(),te("img",{key:0,class:"q-timeline__dot-img",src:t.avatar},null,8,hm)):t.icon?(T(),J(Ze,{key:1,name:t.icon},null,8,["name"])):o.currentUser?(T(),J(u,{key:2,class:"q-timeline__dot-img",tooltip:!1,size:"30px",user:o.currentUser},null,8,["user"])):xe("",!0)],2),X("div",mm,[t.creating?(T(),te(ut,{key:0},[y(Ha,{class:"note-editor q-mb-sm",placeholder:"Leave a note ...",outlined:"",modelValue:i.note.message,"onUpdate:modelValue":a[0]||(a[0]=v=>i.note.message=v),type:"textarea",autogrow:""},null,8,["modelValue"]),X("div",vm,[y(Xn),y(f,{loading:i.loading,class:"main-btn",color:"primary",label:"Save",onClick:o.onSubmit,disable:o.disable},null,8,["loading","onClick","disable"])])],64)):(T(),J(Jt,{key:1,style:{"min-height":"auto"},dense:"",class:"q-pa-none"},{default:D(()=>[y(yt,null,{default:D(()=>[y(Ta,null,{default:D(()=>[X("div",{innerHTML:o.getMessage},null,8,gm)]),_:1})]),_:1}),o.hasUser?xe("",!0):(T(),J(yt,{key:0,side:""},{default:D(()=>[t.date_time?(T(),te("span",pm,et(t.date_time),1)):xe("",!0)]),_:1}))]),_:1}))])],2)}var ym=tt(cm,[["render",bm],["__scopeId","data-v-486eb5e8"]]),_m=Object.freeze(Object.defineProperty({__proto__:null,default:ym},Symbol.toStringTag,{value:"Module"})),Zl=Tt({name:"QField",inheritAttrs:!1,props:ii,emits:xl,setup(){return Cl(kl())}});const wm={props:{modelValue:[String,Number],placeholder:{required:!1,type:[String],default:"0.00"},max:[Number,String,Boolean],min:[Number,String,Boolean],borderless:Boolean},emits:["update:model-value"],methods:{onChange(e){console.func("components/base/input/base-price:methods.onChange()",arguments),this.$emit("update:model-value",e)}}};function Sm(e,a,t,n,i,o){const u=ft("number");return T(),J(Zl,{dense:"",outlined:!t.borderless,borderless:t.borderless,"model-value":t.modelValue,"onUpdate:modelValue":o.onChange},{control:D(({id:f,modelValue:v,emitValue:h})=>[y(u,ga({id:f,class:"q-field__input","model-value":v,"onUpdate:modelValue":h},{prefix:"\xA3",precision:2,minimumFractionDigits:2,max:t.max,min:t.min},{placeholder:t.placeholder}),null,16,["id","model-value","onUpdate:modelValue","placeholder"])]),_:1},8,["outlined","borderless","model-value","onUpdate:modelValue"])}var xm=tt(wm,[["render",Sm]]),Cm=Object.freeze(Object.defineProperty({__proto__:null,default:xm},Symbol.toStringTag,{value:"Module"}));const km={props:{dark:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,hasBottom:Boolean,bodyClass:String,headClass:String,title:String,description:String,noRow:Boolean},computed:{hasTop(){return this.title?!0:!!this.description},getBodyClass(){return`${this.bodyClass} ${this.hasTop?"q-pt-none":""}`}}},Dm={class:"flex"},qm={key:0,class:"text-h6"},Tm={key:0,class:"row q-col-gutter-lg"};function Em(e,a,t,n,i,o){return T(),J(kn,{dark:t.dark,square:t.square,flat:t.flat,bordered:t.bordered,class:"base-section"},{default:D(()=>[o.hasTop?(T(),J(It,{key:0,class:kt(t.headClass)},{default:D(()=>[X("div",Dm,[t.title?(T(),te("div",qm,et(t.title),1)):xe("",!0),y(Xn),Ee(e.$slots,"action")]),t.description?(T(),J(Ta,{key:0},{default:D(()=>[At(et(t.description),1)]),_:1})):xe("",!0)]),_:3},8,["class"])):xe("",!0),y(It,{class:kt(o.getBodyClass)},{default:D(()=>[t.noRow?Ee(e.$slots,"default",{key:1}):(T(),te("div",Tm,[Ee(e.$slots,"default")]))]),_:3},8,["class"]),t.hasBottom?(T(),te(ut,{key:1},[y(Dn),y(It,null,{default:D(()=>[Ee(e.$slots,"bottom")]),_:3})],64)):xe("",!0)]),_:3},8,["dark","square","flat","bordered"])}var Om=tt(km,[["render",Em]]),Mm=Object.freeze(Object.defineProperty({__proto__:null,default:Om},Symbol.toStringTag,{value:"Module"}));const Sa=1e3,Bm=["start","center","end","start-force","center-force","end-force"],er=Array.prototype.filter,Am=window.getComputedStyle(document.body).overflowAnchor===void 0?Vu:function(e,a){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const t=e.children||[];er.call(t,i=>i.dataset&&i.dataset.qVsAnchor!==void 0).forEach(i=>{delete i.dataset.qVsAnchor});const n=t[a];n&&n.dataset&&(n.dataset.qVsAnchor="")}))};function wn(e,a){return e+a}function Lo(e,a,t,n,i,o,u,f){const v=e===window?document.scrollingElement||document.documentElement:e,h=i===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-u-f,scrollMaxSize:0,offsetStart:-u,offsetEnd:-f};if(i===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=v.scrollLeft,d.scrollViewSize+=v.clientWidth),d.scrollMaxSize=v.scrollWidth,o===!0&&(d.scrollStart=(Uo===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=v.scrollTop,d.scrollViewSize+=v.clientHeight),d.scrollMaxSize=v.scrollHeight),t!==null)for(let S=t.previousElementSibling;S!==null;S=S.previousElementSibling)S.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=S[h]);if(n!==null)for(let S=n.nextElementSibling;S!==null;S=S.nextElementSibling)S.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=S[h]);if(a!==e){const S=v.getBoundingClientRect(),M=a.getBoundingClientRect();i===!0?(d.offsetStart+=M.left-S.left,d.offsetEnd-=M.width):(d.offsetStart+=M.top-S.top,d.offsetEnd-=M.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function Gi(e,a,t,n){a==="end"&&(a=(e===window?document.body:e)[t===!0?"scrollWidth":"scrollHeight"]),e===window?t===!0?(n===!0&&(a=(Uo===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-a),window.scrollTo(a,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,a):t===!0?(n===!0&&(a=(Uo===!0?e.scrollWidth-e.offsetWidth:0)-a),e.scrollLeft=a):e.scrollTop=a}function Pn(e,a,t,n){if(t>=n)return 0;const i=a.length,o=Math.floor(t/Sa),u=Math.floor((n-1)/Sa)+1;let f=e.slice(o,u).reduce(wn,0);return t%Sa!==0&&(f-=a.slice(o*Sa,t).reduce(wn,0)),n%Sa!==0&&n!==i&&(f-=a.slice(n,u*Sa).reduce(wn,0)),f}const tr={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},ar=Object.keys(tr),nr={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...tr};function or({virtualScrollLength:e,getVirtualScrollTarget:a,getVirtualScrollEl:t,virtualScrollItemSizeComputed:n}){const i=Yt(),{props:o,emit:u,proxy:f}=i,{$q:v}=f;let h,d,S,M=[],q;const P=be(0),A=be(0),z=be({}),se=be(null),N=be(null),R=be(null),w=be({from:0,to:0}),H=k(()=>o.tableColspan!==void 0?o.tableColspan:100);n===void 0&&(n=k(()=>o.virtualScrollItemSize));const ie=k(()=>n.value+";"+o.virtualScrollHorizontal),De=k(()=>ie.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);st(De,()=>{qe()}),st(ie,Q);function Q(){Me(d,!0)}function ue(j){Me(j===void 0?d:j)}function he(j,fe){const oe=a();if(oe==null||oe.nodeType===8)return;const Fe=Lo(oe,t(),se.value,N.value,o.virtualScrollHorizontal,v.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);S!==Fe.scrollViewSize&&qe(Fe.scrollViewSize),we(oe,Fe,Math.min(e.value-1,Math.max(0,parseInt(j,10)||0)),0,Bm.indexOf(fe)>-1?fe:d>-1&&j>d?"end":"start")}function me(){const j=a();if(j==null||j.nodeType===8)return;const fe=Lo(j,t(),se.value,N.value,o.virtualScrollHorizontal,v.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),oe=e.value-1,Fe=fe.scrollMaxSize-fe.offsetStart-fe.offsetEnd-A.value;if(h===fe.scrollStart)return;if(fe.scrollMaxSize<=0){we(j,fe,0,0);return}S!==fe.scrollViewSize&&qe(fe.scrollViewSize),Re(w.value.from);const Ue=Math.floor(fe.scrollMaxSize-Math.max(fe.scrollViewSize,fe.offsetEnd)-Math.min(q[oe],fe.scrollViewSize/2));if(Ue>0&&Math.ceil(fe.scrollStart)>=Ue){we(j,fe,oe,fe.scrollMaxSize-fe.offsetEnd-M.reduce(wn,0));return}let Ce=0,pe=fe.scrollStart-fe.offsetStart,U=pe;if(pe<=Fe&&pe+fe.scrollViewSize>=P.value)pe-=P.value,Ce=w.value.from,U=pe;else for(let G=0;pe>=M[G]&&Ce<oe;G++)pe-=M[G],Ce+=Sa;for(;pe>0&&Ce<oe;)pe-=q[Ce],pe>-fe.scrollViewSize?(Ce++,U=pe):U=q[Ce]+pe;we(j,fe,Ce,U)}function we(j,fe,oe,Fe,Ue){const Ce=typeof Ue=="string"&&Ue.indexOf("-force")>-1,pe=Ce===!0?Ue.replace("-force",""):Ue,U=pe!==void 0?pe:"start";let G=Math.max(0,oe-z.value[U]),ze=G+z.value.total;ze>e.value&&(ze=e.value,G=Math.max(0,ze-z.value.total)),h=fe.scrollStart;const Ie=G!==w.value.from||ze!==w.value.to;if(Ie===!1&&pe===void 0){Ve(oe);return}const{activeElement:Ne}=document,vt=R.value;Ie===!0&&vt!==null&&vt!==Ne&&vt.contains(Ne)===!0&&(vt.addEventListener("focusout",Le),setTimeout(()=>{vt!==null&&vt.removeEventListener("focusout",Le)})),Am(vt,oe-G);const Ht=pe!==void 0?q.slice(G,oe).reduce(wn,0):0;if(Ie===!0){const Nt=ze>=w.value.from&&G<=w.value.to?w.value.to:ze;w.value={from:G,to:Nt},P.value=Pn(M,q,0,G),A.value=Pn(M,q,ze,e.value),requestAnimationFrame(()=>{w.value.to!==ze&&h===fe.scrollStart&&(w.value={from:w.value.from,to:ze},A.value=Pn(M,q,ze,e.value))})}requestAnimationFrame(()=>{if(h!==fe.scrollStart)return;Ie===!0&&Re(G);const Nt=q.slice(G,oe).reduce(wn,0),Et=Nt+fe.offsetStart+P.value,gt=Et+q[oe];let Zt=Et+Fe;if(pe!==void 0){const da=Nt-Ht,pt=fe.scrollStart+da;Zt=Ce!==!0&&pt<Et&&gt<pt+fe.scrollViewSize?pt:pe==="end"?gt-fe.scrollViewSize:Et-(pe==="start"?0:Math.round((fe.scrollViewSize-q[oe])/2))}h=Zt,Gi(j,Zt,o.virtualScrollHorizontal,v.lang.rtl),Ve(oe)})}function Re(j){const fe=R.value;if(fe){const oe=er.call(fe.children,G=>G.classList&&G.classList.contains("q-virtual-scroll--skip")===!1),Fe=oe.length,Ue=o.virtualScrollHorizontal===!0?G=>G.getBoundingClientRect().width:G=>G.offsetHeight;let Ce=j,pe,U;for(let G=0;G<Fe;){for(pe=Ue(oe[G]),G++;G<Fe&&oe[G].classList.contains("q-virtual-scroll--with-prev")===!0;)pe+=Ue(oe[G]),G++;U=pe-q[Ce],U!==0&&(q[Ce]+=U,M[Math.floor(Ce/Sa)]+=U),Ce++}}}function Le(){R.value!==null&&R.value!==void 0&&R.value.focus()}function Me(j,fe){const oe=1*n.value;(fe===!0||Array.isArray(q)===!1)&&(q=[]);const Fe=q.length;q.length=e.value;for(let Ce=e.value-1;Ce>=Fe;Ce--)q[Ce]=oe;const Ue=Math.floor((e.value-1)/Sa);M=[];for(let Ce=0;Ce<=Ue;Ce++){let pe=0;const U=Math.min((Ce+1)*Sa,e.value);for(let G=Ce*Sa;G<U;G++)pe+=q[G];M.push(pe)}d=-1,h=void 0,P.value=Pn(M,q,0,w.value.from),A.value=Pn(M,q,w.value.to,e.value),j>=0?(Re(w.value.from),na(()=>{he(j)})):ct()}function qe(j){if(j===void 0&&typeof window!="undefined"){const pe=a();pe!=null&&pe.nodeType!==8&&(j=Lo(pe,t(),se.value,N.value,o.virtualScrollHorizontal,v.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}S=j;const fe=parseFloat(o.virtualScrollSliceRatioBefore)||0,oe=parseFloat(o.virtualScrollSliceRatioAfter)||0,Fe=1+fe+oe,Ue=j===void 0||j<=0?1:Math.ceil(j/n.value),Ce=Math.max(1,Ue,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/Fe));z.value={total:Math.ceil(Ce*Fe),start:Math.ceil(Ce*fe),center:Math.ceil(Ce*(.5+fe)),end:Math.ceil(Ce*(1+fe)),view:Ue}}function $e(j,fe){const oe=o.virtualScrollHorizontal===!0?"width":"height",Fe={["--q-virtual-scroll-item-"+oe]:n.value+"px"};return[j==="tbody"?g(j,{class:"q-virtual-scroll__padding",key:"before",ref:se},[g("tr",[g("td",{style:{[oe]:`${P.value}px`,...Fe},colspan:H.value})])]):g(j,{class:"q-virtual-scroll__padding",key:"before",ref:se,style:{[oe]:`${P.value}px`,...Fe}}),g(j,{class:"q-virtual-scroll__content",key:"content",ref:R,tabindex:-1},fe.flat()),j==="tbody"?g(j,{class:"q-virtual-scroll__padding",key:"after",ref:N},[g("tr",[g("td",{style:{[oe]:`${A.value}px`,...Fe},colspan:H.value})])]):g(j,{class:"q-virtual-scroll__padding",key:"after",ref:N,style:{[oe]:`${A.value}px`,...Fe}})]}function Ve(j){d!==j&&(o.onVirtualScroll!==void 0&&u("virtualScroll",{index:j,from:w.value.from,to:w.value.to-1,direction:j<d?"decrease":"increase",ref:f}),d=j)}qe();const ct=Iu(me,v.platform.is.ios===!0?120:35);yo(()=>{qe()});let ne=!1;return ai(()=>{ne=!0}),ti(()=>{if(ne!==!0)return;const j=a();h!==void 0&&j!==void 0&&j!==null&&j.nodeType!==8?Gi(j,h,o.virtualScrollHorizontal,v.lang.rtl):he(d)}),La(()=>{ct.cancel()}),Object.assign(f,{scrollTo:he,reset:Q,refresh:ue}),{virtualScrollSliceRange:w,virtualScrollSliceSizeComputed:z,setVirtualScrollSize:qe,onVirtualScrollEvt:ct,localResetVirtualScroll:Me,padVirtualScroll:$e,scrollTo:he,reset:Q,refresh:ue}}const Ji=e=>["add","add-unique","toggle"].includes(e),Pm=".*+?^${}()|[]\\",Rm=Object.keys(ii);var ir=Tt({name:"QSelect",inheritAttrs:!1,props:{...nr,...ni,...ii,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Ji},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...xl,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:a,emit:t}){const{proxy:n}=Yt(),{$q:i}=n,o=be(!1),u=be(!1),f=be(-1),v=be(""),h=be(!1),d=be(!1);let S=null,M,q,P,A=null,z,se,N,R;const w=be(null),H=be(null),ie=be(null),De=be(null),Q=be(null),ue=Fu(e),he=zu(O),me=k(()=>Array.isArray(e.options)?e.options.length:0),we=k(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:Re,virtualScrollSliceSizeComputed:Le,localResetVirtualScroll:Me,padVirtualScroll:qe,onVirtualScrollEvt:$e,scrollTo:Ve,setVirtualScrollSize:ct}=or({virtualScrollLength:me,getVirtualScrollTarget:Oa,getVirtualScrollEl:oa,virtualScrollItemSizeComputed:we}),ne=kl(),j=k(()=>{const b=e.mapOptions===!0&&e.multiple!==!0,ce=e.modelValue!==void 0&&(e.modelValue!==null||b===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const re=e.mapOptions===!0&&M!==void 0?M:[],ke=ce.map(dt=>_e(dt,re));return e.modelValue===null&&b===!0?ke.filter(dt=>dt!==null):ke}return ce}),fe=k(()=>{const b={};return Rm.forEach(ce=>{const re=e[ce];re!==void 0&&(b[ce]=re)}),b}),oe=k(()=>e.optionsDark===null?ne.isDark.value:e.optionsDark),Fe=k(()=>Si(j.value)),Ue=k(()=>{let b="q-field__input q-placeholder col";return e.hideSelected===!0||j.value.length===0?[b,e.inputClass]:(b+=" q-field__input--padding",e.inputClass===void 0?b:[b,e.inputClass])}),Ce=k(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),pe=k(()=>me.value===0),U=k(()=>j.value.map(b=>bt.value(b)).join(", ")),G=k(()=>e.displayValue!==void 0?e.displayValue:U.value),ze=k(()=>e.optionsHtml===!0?()=>!0:b=>b!=null&&b.html===!0),Ie=k(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||j.value.some(ze.value))),Ne=k(()=>ne.focused.value===!0?e.tabindex:-1),vt=k(()=>{const b={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-controls":`${ne.targetUid.value}_lb`};return f.value>=0&&(b["aria-activedescendant"]=`${ne.targetUid.value}_${f.value}`),b}),Ht=k(()=>({id:`${ne.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Nt=k(()=>j.value.map((b,ce)=>({index:ce,opt:b,html:ze.value(b),selected:!0,removeAtIndex:ha,toggleOption:zt,tabindex:Ne.value}))),Et=k(()=>{if(me.value===0)return[];const{from:b,to:ce}=Re.value;return e.options.slice(b,ce).map((re,ke)=>{const dt=Pt.value(re)===!0,ot=b+ke,wt={clickable:!0,active:!1,activeClass:da.value,manualFocus:!0,focused:!1,disable:dt,tabindex:-1,dense:e.optionsDense,dark:oe.value,role:"option",id:`${ne.targetUid.value}_${ot}`,onClick:()=>{zt(re)}};return dt!==!0&&(Ke(re)===!0&&(wt.active=!0),f.value===ot&&(wt.focused=!0),wt["aria-selected"]=wt.active===!0?"true":"false",i.platform.is.desktop===!0&&(wt.onMousemove=()=>{o.value===!0&&V(ot)})),{index:ot,opt:re,html:ze.value(re),label:bt.value(re),selected:wt.active,focused:wt.focused,toggleOption:zt,setOptionIndex:V,itemProps:wt}})}),gt=k(()=>e.dropdownIcon!==void 0?e.dropdownIcon:i.iconSet.arrow.dropdown),Zt=k(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),da=k(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),pt=k(()=>ae(e.optionValue,"value")),bt=k(()=>ae(e.optionLabel,"label")),Pt=k(()=>ae(e.optionDisable,"disable")),ea=k(()=>j.value.map(b=>pt.value(b))),ba=k(()=>{const b={onInput:O,onChange:he,onKeydown:mt,onKeyup:at,onKeypress:ht,onFocus:Ct,onClick(ce){q===!0&&Va(ce)}};return b.onCompositionstart=b.onCompositionupdate=b.onCompositionend=he,b});st(j,b=>{M=b,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&ne.innerLoading.value!==!0&&(u.value!==!0&&o.value!==!0||Fe.value!==!0)&&(P!==!0&&ia(),(u.value===!0||o.value===!0)&&Te(""))},{immediate:!0}),st(()=>e.fillInput,ia),st(o,un),st(me,Tn);function fa(b){return e.emitValue===!0?pt.value(b):b}function jt(b){if(b>-1&&b<j.value.length)if(e.multiple===!0){const ce=e.modelValue.slice();t("remove",{index:b,value:ce.splice(b,1)[0]}),t("update:modelValue",ce)}else t("update:modelValue",null)}function ha(b){jt(b),ne.focus()}function ma(b,ce){const re=fa(b);if(e.multiple!==!0){e.fillInput===!0&&ve(bt.value(b),!0,!0),t("update:modelValue",re);return}if(j.value.length===0){t("add",{index:0,value:re}),t("update:modelValue",e.multiple===!0?[re]:re);return}if(ce===!0&&Ke(b)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const ke=e.modelValue.slice();t("add",{index:ke.length,value:re}),ke.push(re),t("update:modelValue",ke)}function zt(b,ce){if(ne.editable.value!==!0||b===void 0||Pt.value(b)===!0)return;const re=pt.value(b);if(e.multiple!==!0){ce!==!0&&(ve(e.fillInput===!0?bt.value(b):"",!0,!0),_t()),H.value!==null&&H.value.focus(),(j.value.length===0||An(pt.value(j.value[0]),re)!==!0)&&t("update:modelValue",e.emitValue===!0?re:b);return}if((q!==!0||h.value===!0)&&ne.focus(),Ct(),j.value.length===0){const ot=e.emitValue===!0?re:b;t("add",{index:0,value:ot}),t("update:modelValue",e.multiple===!0?[ot]:ot);return}const ke=e.modelValue.slice(),dt=ea.value.findIndex(ot=>An(ot,re));if(dt>-1)t("remove",{index:dt,value:ke.splice(dt,1)[0]});else{if(e.maxValues!==void 0&&ke.length>=e.maxValues)return;const ot=e.emitValue===!0?re:b;t("add",{index:ke.length,value:ot}),ke.push(ot)}t("update:modelValue",ke)}function V(b){if(i.platform.is.desktop!==!0)return;const ce=b>-1&&b<me.value?b:-1;f.value!==ce&&(f.value=ce)}function Y(b=1,ce){if(o.value===!0){let re=f.value;do re=wi(re+b,-1,me.value-1);while(re!==-1&&re!==f.value&&Pt.value(e.options[re])===!0);f.value!==re&&(V(re),Ve(re),ce!==!0&&e.useInput===!0&&e.fillInput===!0&&de(re>=0?bt.value(e.options[re]):z))}}function _e(b,ce){const re=ke=>An(pt.value(ke),b);return e.options.find(re)||ce.find(re)||b}function ae(b,ce){const re=b!==void 0?b:ce;return typeof re=="function"?re:ke=>ke!==null&&typeof ke=="object"&&re in ke?ke[re]:ke}function Ke(b){const ce=pt.value(b);return ea.value.find(re=>An(re,ce))!==void 0}function Ct(b){e.useInput===!0&&H.value!==null&&(b===void 0||H.value===b.target&&b.target.value===U.value)&&H.value.select()}function Oe(b){gl(b,27)===!0&&o.value===!0&&(Va(b),_t(),ia()),t("keyup",b)}function at(b){const{value:ce}=b.target;if(b.keyCode!==void 0){Oe(b);return}if(b.target.value="",S!==null&&(clearTimeout(S),S=null),ia(),typeof ce=="string"&&ce.length>0){const re=ce.toLocaleLowerCase(),ke=ot=>{const wt=e.options.find($t=>ot.value($t).toLocaleLowerCase()===re);return wt===void 0?!1:(j.value.indexOf(wt)===-1?zt(wt):_t(),!0)},dt=ot=>{ke(pt)!==!0&&(ke(bt)===!0||ot===!0||Te(ce,!0,()=>dt(!0)))};dt()}else ne.clearValue(b)}function ht(b){t("keypress",b)}function mt(b){if(t("keydown",b),Nu(b)===!0)return;const ce=v.value.length>0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),re=b.shiftKey!==!0&&e.multiple!==!0&&(f.value>-1||ce===!0);if(b.keyCode===27){To(b);return}if(b.keyCode===9&&re===!1){Be();return}if(b.target===void 0||b.target.id!==ne.targetUid.value)return;if(b.keyCode===40&&ne.innerLoading.value!==!0&&o.value===!1){Ia(b),He();return}if(b.keyCode===8&&e.hideSelected!==!0&&v.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?jt(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&t("update:modelValue",null);return}(b.keyCode===35||b.keyCode===36)&&(typeof v.value!="string"||v.value.length===0)&&(Ia(b),f.value=-1,Y(b.keyCode===36?1:-1,e.multiple)),(b.keyCode===33||b.keyCode===34)&&Le.value!==void 0&&(Ia(b),f.value=Math.max(-1,Math.min(me.value,f.value+(b.keyCode===33?-1:1)*Le.value.view)),Y(b.keyCode===33?1:-1,e.multiple)),(b.keyCode===38||b.keyCode===40)&&(Ia(b),Y(b.keyCode===38?-1:1,e.multiple));const ke=me.value;if((N===void 0||R<Date.now())&&(N=""),ke>0&&e.useInput!==!0&&b.key!==void 0&&b.key.length===1&&b.altKey===!1&&b.ctrlKey===!1&&b.metaKey===!1&&(b.keyCode!==32||N.length>0)){o.value!==!0&&He(b);const dt=b.key.toLocaleLowerCase(),ot=N.length===1&&N[0]===dt;R=Date.now()+1500,ot===!1&&(Ia(b),N+=dt);const wt=new RegExp("^"+N.split("").map(Mn=>Pm.indexOf(Mn)>-1?"\\"+Mn:Mn).join(".*"),"i");let $t=f.value;if(ot===!0||$t<0||wt.test(bt.value(e.options[$t]))!==!0)do $t=wi($t+1,-1,ke-1);while($t!==f.value&&(Pt.value(e.options[$t])===!0||wt.test(bt.value(e.options[$t]))!==!0));f.value!==$t&&na(()=>{V($t),Ve($t),$t>=0&&e.useInput===!0&&e.fillInput===!0&&de(bt.value(e.options[$t]))});return}if(!(b.keyCode!==13&&(b.keyCode!==32||e.useInput===!0||N!=="")&&(b.keyCode!==9||re===!1))){if(b.keyCode!==9&&Ia(b),f.value>-1&&f.value<ke){zt(e.options[f.value]);return}if(ce===!0){const dt=(ot,wt)=>{if(wt){if(Ji(wt)!==!0)return}else wt=e.newValueMode;if(ot==null)return;ve("",e.multiple!==!0,!0),(wt==="toggle"?zt:ma)(ot,wt==="add-unique"),e.multiple!==!0&&(H.value!==null&&H.value.focus(),_t())};if(e.onNewValue!==void 0?t("newValue",v.value,dt):dt(v.value),e.multiple!==!0)return}o.value===!0?Be():ne.innerLoading.value!==!0&&He()}}function oa(){return q===!0?Q.value:ie.value!==null&&ie.value.contentEl!==null?ie.value.contentEl:void 0}function Oa(){return oa()}function nt(){return e.hideSelected===!0?[]:a["selected-item"]!==void 0?Nt.value.map(b=>a["selected-item"](b)).slice():a.selected!==void 0?[].concat(a.selected()):e.useChips===!0?Nt.value.map((b,ce)=>g(Tl,{key:"option-"+ce,removable:ne.editable.value===!0&&Pt.value(b.opt)!==!0,dense:!0,textColor:e.color,tabindex:Ne.value,onRemove(){b.removeAtIndex(ce)}},()=>g("span",{class:"ellipsis",[b.html===!0?"innerHTML":"textContent"]:bt.value(b.opt)}))):[g("span",{[Ie.value===!0?"innerHTML":"textContent"]:G.value})]}function Ge(){if(pe.value===!0)return a["no-option"]!==void 0?a["no-option"]({inputValue:v.value}):void 0;const b=a.option!==void 0?a.option:re=>g(Jt,{key:re.index,...re.itemProps},()=>g(yt,()=>g(Ta,()=>g("span",{[re.html===!0?"innerHTML":"textContent"]:re.label}))));let ce=qe("div",Et.value.map(b));return a["before-options"]!==void 0&&(ce=a["before-options"]().concat(ce)),wo(a["after-options"],ce)}function Ma(b,ce){const re=ce===!0?{...vt.value,...ne.splitAttrs.attributes.value}:void 0,ke={ref:ce===!0?H:void 0,key:"i_t",class:Ue.value,style:e.inputStyle,value:v.value!==void 0?v.value:"",type:"search",...re,id:ce===!0?ne.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":b===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...ba.value};return b!==!0&&q===!0&&(Array.isArray(ke.class)===!0?ke.class=[...ke.class,"no-pointer-events"]:ke.class+=" no-pointer-events"),g("input",ke)}function O(b){S!==null&&(clearTimeout(S),S=null),!(b&&b.target&&b.target.qComposing===!0)&&(de(b.target.value||""),P=!0,z=v.value,ne.focused.value!==!0&&(q!==!0||h.value===!0)&&ne.focus(),e.onFilter!==void 0&&(S=setTimeout(()=>{S=null,Te(v.value)},e.inputDebounce)))}function de(b){v.value!==b&&(v.value=b,t("inputValue",b))}function ve(b,ce,re){P=re!==!0,e.useInput===!0&&(de(b),(ce===!0||re!==!0)&&(z=b),ce!==!0&&Te(b))}function Te(b,ce,re){if(e.onFilter===void 0||ce!==!0&&ne.focused.value!==!0)return;ne.innerLoading.value===!0?t("filterAbort"):(ne.innerLoading.value=!0,d.value=!0),b!==""&&e.multiple!==!0&&j.value.length>0&&P!==!0&&b===bt.value(j.value[0])&&(b="");const ke=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);A!==null&&clearTimeout(A),A=ke,t("filter",b,(dt,ot)=>{(ce===!0||ne.focused.value===!0)&&A===ke&&(clearTimeout(A),typeof dt=="function"&&dt(),d.value=!1,na(()=>{ne.innerLoading.value=!1,ne.editable.value===!0&&(ce===!0?o.value===!0&&_t():o.value===!0?un(!0):o.value=!0),typeof ot=="function"&&na(()=>{ot(n)}),typeof re=="function"&&na(()=>{re(n)})}))},()=>{ne.focused.value===!0&&A===ke&&(clearTimeout(A),ne.innerLoading.value=!1,d.value=!1),o.value===!0&&(o.value=!1)})}function Se(){return g(fo,{ref:ie,class:Ce.value,style:e.popupContentStyle,modelValue:o.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&pe.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:oe.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Zt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...Ht.value,onScrollPassive:$e,onBeforeShow:En,onBeforeHide:Ye,onShow:c},Ge)}function Ye(b){On(b),Be()}function c(){ct()}function _(b){Va(b),H.value!==null&&H.value.focus(),h.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function E(b){Va(b),na(()=>{h.value=!1})}function le(){const b=[g(Zl,{class:`col-auto ${ne.fieldClass.value}`,...fe.value,for:ne.targetUid.value,dark:oe.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:v.value.length>0,...ne.splitAttrs.listeners.value,onFocus:_,onBlur:E},{...a,rawControl:()=>ne.getControl(!0),before:void 0,after:void 0})];return o.value===!0&&b.push(g("div",{ref:Q,class:Ce.value+" scroll",style:e.popupContentStyle,...Ht.value,onClick:To,onScrollPassive:$e},Ge())),g(pl,{ref:De,modelValue:u.value,position:e.useInput===!0?"top":void 0,transitionShow:se,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:En,onBeforeHide:Z,onHide:We,onShow:ge},()=>g("div",{class:"q-select__dialog"+(oe.value===!0?" q-select__dialog--dark q-dark":"")+(h.value===!0?" q-select__dialog--focused":"")},b))}function Z(b){On(b),De.value!==null&&De.value.__updateRefocusTarget(ne.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),ne.focused.value=!1}function We(b){_t(),ne.focused.value===!1&&t("blur",b),ia()}function ge(){const b=document.activeElement;(b===null||b.id!==ne.targetUid.value)&&H.value!==null&&H.value!==b&&H.value.focus(),ct()}function Be(){u.value!==!0&&(f.value=-1,o.value===!0&&(o.value=!1),ne.focused.value===!1&&(A!==null&&(clearTimeout(A),A=null),ne.innerLoading.value===!0&&(t("filterAbort"),ne.innerLoading.value=!1,d.value=!1)))}function He(b){ne.editable.value===!0&&(q===!0?(ne.onControlFocusin(b),u.value=!0,na(()=>{ne.focus()})):ne.focus(),e.onFilter!==void 0?Te(v.value):(pe.value!==!0||a["no-option"]!==void 0)&&(o.value=!0))}function _t(){u.value=!1,Be()}function ia(){e.useInput===!0&&ve(e.multiple!==!0&&e.fillInput===!0&&j.value.length>0&&bt.value(j.value[0])||"",!0,!0)}function un(b){let ce=-1;if(b===!0){if(j.value.length>0){const re=pt.value(j.value[0]);ce=e.options.findIndex(ke=>An(pt.value(ke),re))}Me(ce)}V(ce)}function Tn(b,ce){o.value===!0&&ne.innerLoading.value===!1&&(Me(-1,!0),na(()=>{o.value===!0&&ne.innerLoading.value===!1&&(b>ce?Me():un(!0))}))}function Gn(){u.value===!1&&ie.value!==null&&ie.value.updatePosition()}function En(b){b!==void 0&&Va(b),t("popupShow",b),ne.hasPopupOpen=!0,ne.onControlFocusin(b)}function On(b){b!==void 0&&Va(b),t("popupHide",b),ne.hasPopupOpen=!1,ne.onControlFocusout(b)}function Ua(){q=i.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?a["no-option"]!==void 0||e.onFilter!==void 0||pe.value===!1:!0),se=i.platform.is.ios===!0&&q===!0&&e.useInput===!0?"fade":e.transitionShow}return rl(Ua),sl(Gn),Ua(),La(()=>{S!==null&&clearTimeout(S)}),Object.assign(n,{showPopup:He,hidePopup:_t,removeAtIndex:jt,add:ma,toggleOption:zt,getOptionIndex:()=>f.value,setOptionIndex:V,moveOptionSelection:Y,filter:Te,updateMenuPosition:Gn,updateInputValue:ve,isOptionSelected:Ke,getEmittingOptionValue:fa,isOptionDisabled:(...b)=>Pt.value.apply(null,b)===!0,getOptionValue:(...b)=>pt.value.apply(null,b),getOptionLabel:(...b)=>bt.value.apply(null,b)}),Object.assign(ne,{innerValue:j,fieldClass:k(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:w,targetRef:H,hasValue:Fe,showPopup:He,floatingLabel:k(()=>e.hideSelected!==!0&&Fe.value===!0||typeof v.value=="number"||v.value.length>0||Si(e.displayValue)),getControlChild:()=>{if(ne.editable.value!==!1&&(u.value===!0||pe.value!==!0||a["no-option"]!==void 0))return q===!0?le():Se();ne.hasPopupOpen===!0&&(ne.hasPopupOpen=!1)},controlEvents:{onFocusin(b){ne.onControlFocusin(b)},onFocusout(b){ne.onControlFocusout(b,()=>{ia(),Be()})},onClick(b){if(To(b),q!==!0&&o.value===!0){Be(),H.value!==null&&H.value.focus();return}He(b)}},getControl:b=>{const ce=nt(),re=b===!0||u.value!==!0||q!==!0;if(e.useInput===!0)ce.push(Ma(b,re));else if(ne.editable.value===!0){const dt=re===!0?vt.value:void 0;ce.push(g("input",{ref:re===!0?H:void 0,key:"d_t",class:"q-select__focus-target",id:re===!0?ne.targetUid.value:void 0,value:G.value,readonly:!0,"data-autofocus":b===!0||e.autofocus===!0||void 0,...dt,onKeydown:mt,onKeyup:Oe,onKeypress:ht})),re===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length>0&&ce.push(g("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:at}))}if(ue.value!==void 0&&e.disable!==!0&&ea.value.length>0){const dt=ea.value.map(ot=>g("option",{value:ot,selected:!0}));ce.push(g("select",{class:"hidden",name:ue.value,multiple:e.multiple},dt))}const ke=e.useInput===!0||re!==!0?void 0:ne.splitAttrs.attributes.value;return g("div",{class:"q-field__native row items-center",...ke},ce)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[g(Ze,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:gt.value})]:null}),Cl(ne)}});const Zi=e=>["add","add-unique","toggle"].includes(e),Vm={props:{modelValue:{required:!0},filterMethod:Function,placeholder:String,mapOptions:{required:!1,type:[Boolean],default:!0},optionsDense:{required:!1,type:[Boolean],default:!0},icon:{required:!1,type:[String,Boolean],default:!1},noOptionMessage:{required:!1,type:[String],default:"No option found."},useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Zi},onNewValue:Function,preventDefault:Boolean,useFilter:Boolean,optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],query:{required:!1,type:[Function],default:()=>e=>({filter:e,rowsPerPage:5,active:!0})},multiple:Boolean,bgColor:String,inputDebounce:{type:[Number,String],default:500},debounce:{type:[Number,String],default:500}},emits:["update:model-value","new-value"],data(){return{value:this.modelValue,options:[],filter:""}},methods:{onFilter(e,a,t){if(console.func("components/base/BaseSelect:methods.onFilter()",arguments),!this.filterMethod)return a();this.filter=e,this.filterMethod(this.query(e)).then(({data:n})=>{a(()=>{this.options=n})}).catch(()=>{t()})},onLoadFromServer(e){if(!this.filterMethod)return!1;console.func("components/base/BaseSelect:methods.onLoadFromServer()",arguments),this.filterMethod(this.query(e)).then(({data:a})=>{this.options=a})},onChange(e){console.func("components/base/BaseSelect:methods.onChange()",arguments),this.$emit("update:model-value",e)},onCreate(){console.func("components/base/BaseSelect:methods.onCreate()",arguments),this.onNewValue!==void 0?this.$emit("new-value",this.filter,this.done):this.done(this.filter),this.filter=null},clear(){console.func("components/base/BaseSelect:methods.clear()",arguments),this.value=void 0,this.$emit("update:model-value",void 0)},done(e,a){if(a){if(Zi(a)!==!0)return}else a=this.newValueMode;if(e==null)return;this.$refs.baseSelect.updateInputValue("",this.multiple!==!0,!0),(a==="toggle"?this.$refs.baseSelect.toggleOption:this.$refs.baseSelect.add)(e,a==="add-unique"),this.multiple!==!0&&(this.$refs.baseSelect.focus(),this.$refs.baseSelect.hidePopup())}},computed:{showPlaceholder(){return!this.hasValue&&!this.useChips||!this.hasValue||this.multiple&&this.value.length<1},hasValue(){return this.value!==void 0}},watch:{modelValue:{deep:!0,handler(e){this.value=e}}}},Im={class:"text-grey-8"};function Fm(e,a,t,n,i,o){return T(),J(ir,{ref:"baseSelect",class:"base-select",modelValue:i.value,"onUpdate:modelValue":[a[2]||(a[2]=u=>i.value=u),o.onChange],placeholder:t.placeholder,options:i.options,bgColor:t.bgColor,useChips:t.useChips,useInput:t.useInput,multiple:t.multiple,mapOptions:t.mapOptions,inputDebounce:t.inputDebounce,debounce:t.debounce,newValueMode:t.newValueMode,optionLabel:t.optionLabel,optionValue:t.optionValue,optionsDense:t.optionsDense,"popup-content-class":"q-pa-sm base-dropdown",onFilter:o.onFilter,onNewValue:t.onNewValue,onClear:o.clear},Un({"after-options":D(()=>[Ee(e.$slots,"after-options"),Ee(e.$slots,"button",{onCreate:o.onCreate},()=>[t.newValueMode&&i.filter?(T(),J(Jt,{key:0,dense:"",class:"q-pa-none"},{default:D(()=>[y(yt,null,{default:D(()=>[y(ye,{flat:"","no-caps":"",class:"add-button",align:"left",icon:"fad fa-plus-circle",label:`Add ${i.filter}`,onClick:o.onCreate},null,8,["label","onClick"])]),_:1})]),_:1})):xe("",!0)])]),"no-option":D(()=>[Ee(e.$slots,"no-option",{},()=>[t.useInput?xe("",!0):(T(),J(Ha,{key:0,class:"q-mb-sm base-dropdown-filter","onUpdate:modelValue":[o.onLoadFromServer,a[1]||(a[1]=u=>i.filter=u)],placeholder:"Search",dense:"",outlined:"",modelValue:i.filter,type:"text","input-debounce":"500",debounce:"500"},{prepend:D(()=>[y(Ze,{size:"xs",name:"fal fa-search"})]),_:1},8,["onUpdate:modelValue","modelValue"])),Ot((T(),J(Jt,{clickable:"",class:"no-options"},{default:D(()=>[y(yt,{class:"text-grey"},{default:D(()=>[At(et(t.noOptionMessage),1)]),_:1})]),_:1})),[[Ca]])]),Ee(e.$slots,"button",{onCreate:o.onCreate},()=>[t.newValueMode&&i.filter?(T(),J(Jt,{key:0,dense:"",class:"q-pa-none"},{default:D(()=>[y(yt,null,{default:D(()=>[y(ye,{flat:"","no-caps":"",class:"add-button",align:"left",icon:"fad fa-plus-circle",label:`Add ${i.filter}`,onClick:o.onCreate},null,8,["label","onClick"])]),_:1})]),_:1})):xe("",!0)])]),append:D(()=>[Ee(e.$slots,"append")]),after:D(()=>[Ee(e.$slots,"after")]),_:2},[t.icon?{name:"prepend",fn:D(()=>[y(Ze,{size:"xs",name:t.icon},null,8,["name"])]),key:"0"}:void 0,!t.useInput&&o.showPlaceholder?{name:"selected",fn:D(()=>[X("div",Im,et(t.placeholder),1)]),key:"1"}:void 0,t.useFilter?{name:"before-options",fn:D(()=>[Ee(e.$slots,"before-options",{},()=>[y(Ha,{class:"q-mb-sm base-dropdown-filter","onUpdate:modelValue":[o.onLoadFromServer,a[0]||(a[0]=u=>i.filter=u)],placeholder:"Search",dense:"",outlined:"",modelValue:i.filter,type:"text","input-debounce":"500",debounce:"500"},Un({prepend:D(()=>[y(Ze,{size:"xs",name:"fal fa-search"})]),_:2},[t.newValueMode&&i.filter?{name:"append",fn:D(()=>[y(ye,{icon:"control_point",size:"sm",color:"positive",flat:"",round:"",dense:"",onClick:o.onCreate},null,8,["onClick"])]),key:"0"}:void 0]),1032,["onUpdate:modelValue","modelValue"])])]),key:"2"}:void 0]),1032,["modelValue","placeholder","options","bgColor","useChips","useInput","multiple","mapOptions","inputDebounce","debounce","newValueMode","optionLabel","optionValue","optionsDense","onUpdate:modelValue","onFilter","onNewValue","onClear"])}var Nm=tt(Vm,[["render",Fm]]),zm=Object.freeze(Object.defineProperty({__proto__:null,default:Nm},Symbol.toStringTag,{value:"Module"}));const Lm={props:{icon:String,label:String}};function Hm(e,a,t,n,i,o){return T(),J(ye,{class:"base-icon-label",ripple:!1,dense:"",flat:"",color:"primary",icon:t.icon,label:t.label,"no-caps":""},null,8,["icon","label"])}var jm=tt(Lm,[["render",Hm]]),$m=Object.freeze(Object.defineProperty({__proto__:null,default:jm},Symbol.toStringTag,{value:"Module"}));const{getPaletteColor:mn,changeAlpha:Um}=uc,Ym={props:{type:{required:!0,type:String},multiple:Boolean},data(){return{changeAlpha:Um}},computed:{color(){let e=mn("grey");switch(this.type){case"Active":case"Enabled":case"Online":case"Returned":case"Completed":case"Resolved":case"Paid":e=mn("positive");break;case"Ongoing":case"Partially received":e=mn("teal-3");break;case"Draft":e=mn("grey");break;case"Pending":case"In progress":case"Scheduled":e=mn("warning");break;case"Rejected":case"Cancelled":case"Failed":case"Disable":case"Disabled":case"Expired":case"Deactive":e=mn("negative");break}return e},icon(){let e="fas fa-circle";switch(this.type){case"Active":case"Enabled":case"Online":case"Completed":e="fas fa-check-circle";break;case"Partially received":e="fas fa-sort-circle-down";break;case"Paid":e="fas fa-usd-circle";break;case"Draft":e="fas fa-draw-circle";break;case"Pending":case"Scheduled":case"Open":e="fas fa-dot-circle";break;case"Rejected":case"Cancelled":case"Failed":case"Disable":case"Disabled":case"Expired":e="fas fa-exclamation-circle";break}return e}}};function Wm(e,a,t,n,i,o){return T(),J(Tl,{dense:"",class:kt({status:!0,multiple:t.multiple,"base-status":!0}),style:Sn({background:i.changeAlpha(o.color,.3)}),size:"12px",ripple:!1},{default:D(()=>[y(Ze,{style:Sn({color:i.changeAlpha(o.color,.99)}),name:o.icon},null,8,["style","name"]),At(" "+et(t.type),1)]),_:1},8,["class","style"])}var Xm=tt(Ym,[["render",Wm]]),Qm=Object.freeze(Object.defineProperty({__proto__:null,default:Xm},Symbol.toStringTag,{value:"Module"})),el=Tt({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:a}){const t=Yt(),n=k(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return g("td",{class:n.value},Gt(a.default));const i=t.vnode.key,o=(e.props.colsMap!==void 0?e.props.colsMap[i]:null)||e.props.col;if(o===void 0)return;const{row:u}=e.props;return g("td",{class:n.value+o.__tdClass(u),style:o.__tdStyle(u)},Gt(a.default))}}}),Km=Tt({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:a,emit:t}){const n=Yt(),{proxy:{$q:i}}=n,o=u=>{t("click",u)};return()=>{if(e.props===void 0)return g("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:o},Gt(a.default));let u,f;const v=n.vnode.key;if(v){if(u=e.props.colsMap[v],u===void 0)return}else u=e.props.col;if(u.sortable===!0){const d=u.align==="right"?"unshift":"push";f=Lu(a.default,[]),f[d](g(Ze,{class:u.__iconClass,name:i.iconSet.table.arrowUp}))}else f=Gt(a.default);const h={class:u.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:u.headerStyle,onClick:d=>{u.sortable===!0&&e.props.sort(u),o(d)}};return g("th",h,f)}}});const Gm=["horizontal","vertical","cell","none"];var lr=Tt({name:"QMarkupTable",props:{...rn,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Gm.includes(e)}},setup(e,{slots:a}){const t=Yt(),n=sn(e,t.proxy.$q),i=k(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(n.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>g("div",{class:i.value},[g("table",{class:"q-table"},Gt(a.default))])}});function rr(e,a){return g("div",e,[g("table",{class:"q-table"},a)])}const Jm={list:Cn,table:lr},Zm=["list","table","__qtable"];var ev=Tt({name:"QVirtualScroll",props:{...nr,type:{type:String,default:"list",validator:e=>Zm.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:a,attrs:t}){let n;const i=be(null),o=k(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:u,localResetVirtualScroll:f,padVirtualScroll:v,onVirtualScrollEvt:h}=or({virtualScrollLength:o,getVirtualScrollTarget:P,getVirtualScrollEl:q}),d=k(()=>{if(o.value===0)return[];const N=(R,w)=>({index:u.value.from+w,item:R});return e.itemsFn===void 0?e.items.slice(u.value.from,u.value.to).map(N):e.itemsFn(u.value.from,u.value.to-u.value.from).map(N)}),S=k(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),M=k(()=>e.scrollTarget!==void 0?{}:{tabindex:0});st(o,()=>{f()}),st(()=>e.scrollTarget,()=>{z(),A()});function q(){return i.value.$el||i.value}function P(){return n}function A(){n=Dl(q(),e.scrollTarget),n.addEventListener("scroll",h,xi.passive)}function z(){n!==void 0&&(n.removeEventListener("scroll",h,xi.passive),n=void 0)}function se(){let N=v(e.type==="list"?"div":"tbody",d.value.map(a.default));return a.before!==void 0&&(N=a.before().concat(N)),wo(a.after,N)}return yo(()=>{f()}),_o(()=>{A()}),ti(()=>{A()}),ai(()=>{z()}),La(()=>{z()}),()=>{if(a.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?rr({ref:i,class:"q-table__middle "+S.value},se()):g(Jm[e.type],{...t,ref:i,class:[t.class,S.value],...M.value},se)}}});const tv={xs:2,sm:4,md:6,lg:10,xl:14};function tl(e,a,t){return{transform:a===!0?`translateX(${t.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var av=Tt({name:"QLinearProgress",props:{...rn,...yl,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:a}){const{proxy:t}=Yt(),n=sn(e,t.$q),i=_l(e,tv),o=k(()=>e.indeterminate===!0||e.query===!0),u=k(()=>e.reverse!==e.query),f=k(()=>({...i.value!==null?i.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),v=k(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),h=k(()=>tl(e.buffer!==void 0?e.buffer:1,u.value,t.$q)),d=k(()=>`with${e.instantFeedback===!0?"out":""}-transition`),S=k(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${d.value} q-linear-progress__track--${n.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),M=k(()=>tl(o.value===!0?1:e.value,u.value,t.$q)),q=k(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${d.value} q-linear-progress__model--${o.value===!0?"in":""}determinate`),P=k(()=>({width:`${e.value*100}%`})),A=k(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${d.value}`);return()=>{const z=[g("div",{class:S.value,style:h.value}),g("div",{class:q.value,style:M.value})];return e.stripe===!0&&o.value===!1&&z.push(g("div",{class:A.value,style:P.value})),g("div",{class:v.value,style:f.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},wo(a.default,z))}}});let Rn=0;const nv={fullscreen:Boolean,noRouteFullscreenExit:Boolean},ov=["update:fullscreen","fullscreen"];function iv(){const e=Yt(),{props:a,emit:t,proxy:n}=e;let i,o,u;const f=be(!1);Hu(e)===!0&&st(()=>n.$route.fullPath,()=>{a.noRouteFullscreenExit!==!0&&d()}),st(()=>a.fullscreen,S=>{f.value!==S&&v()}),st(f,S=>{t("update:fullscreen",S),t("fullscreen",S)});function v(){f.value===!0?d():h()}function h(){f.value!==!0&&(f.value=!0,u=n.$el.parentNode,u.replaceChild(o,n.$el),document.body.appendChild(n.$el),Rn++,Rn===1&&document.body.classList.add("q-body--fullscreen-mixin"),i={handler:d},Ci.add(i))}function d(){f.value===!0&&(i!==void 0&&(Ci.remove(i),i=void 0),u.replaceChild(n.$el,o),f.value=!1,Rn=Math.max(0,Rn-1),Rn===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),n.$el.scrollIntoView!==void 0&&setTimeout(()=>{n.$el.scrollIntoView()})))}return yo(()=>{o=document.createElement("span")}),_o(()=>{a.fullscreen===!0&&h()}),La(d),Object.assign(n,{toggleFullscreen:v,setFullscreen:h,exitFullscreen:d}),{inFullscreen:f,toggleFullscreen:v}}function lv(e,a){return new Date(e)-new Date(a)}const rv={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function sv(e,a,t,n){const i=k(()=>{const{sortBy:f}=a.value;return f&&t.value.find(v=>v.name===f)||null}),o=k(()=>e.sortMethod!==void 0?e.sortMethod:(f,v,h)=>{const d=t.value.find(q=>q.name===v);if(d===void 0||d.field===void 0)return f;const S=h===!0?-1:1,M=typeof d.field=="function"?q=>d.field(q):q=>q[d.field];return f.sort((q,P)=>{let A=M(q),z=M(P);return A==null?-1*S:z==null?1*S:d.sort!==void 0?d.sort(A,z,q,P)*S:$o(A)===!0&&$o(z)===!0?(A-z)*S:ki(A)===!0&&ki(z)===!0?lv(A,z)*S:typeof A=="boolean"&&typeof z=="boolean"?(A-z)*S:([A,z]=[A,z].map(se=>(se+"").toLocaleString().toLowerCase()),A<z?-1*S:A===z?0:S)})});function u(f){let v=e.columnSortOrder;if(oi(f)===!0)f.sortOrder&&(v=f.sortOrder),f=f.name;else{const S=t.value.find(M=>M.name===f);S!==void 0&&S.sortOrder&&(v=S.sortOrder)}let{sortBy:h,descending:d}=a.value;h!==f?(h=f,d=v==="da"):e.binaryStateSort===!0?d=!d:d===!0?v==="ad"?h=null:d=!1:v==="ad"?d=!0:h=null,n({sortBy:h,descending:d,page:1})}return{columnToSort:i,computedSortMethod:o,sort:u}}const uv={filter:[String,Object],filterMethod:Function};function cv(e,a){const t=k(()=>e.filterMethod!==void 0?e.filterMethod:(n,i,o,u)=>{const f=i?i.toLowerCase():"";return n.filter(v=>o.some(h=>{const d=u(h,v)+"";return(d==="undefined"||d==="null"?"":d.toLowerCase()).indexOf(f)!==-1}))});return st(()=>e.filter,()=>{na(()=>{a({page:1},!0)})},{deep:!0}),{computedFilterMethod:t}}function dv(e,a){for(const t in a)if(a[t]!==e[t])return!1;return!0}function al(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const fv={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function hv(e,a){const{props:t,emit:n}=e,i=be(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:t.rowsPerPageOptions.length>0?t.rowsPerPageOptions[0]:5},t.pagination)),o=k(()=>{const d=t["onUpdate:pagination"]!==void 0?{...i.value,...t.pagination}:i.value;return al(d)}),u=k(()=>o.value.rowsNumber!==void 0);function f(d){v({pagination:d,filter:t.filter})}function v(d={}){na(()=>{n("request",{pagination:d.pagination||o.value,filter:d.filter||t.filter,getCellValue:a})})}function h(d,S){const M=al({...o.value,...d});if(dv(o.value,M)===!0){u.value===!0&&S===!0&&f(M);return}if(u.value===!0){f(M);return}t.pagination!==void 0&&t["onUpdate:pagination"]!==void 0?n("update:pagination",M):i.value=M}return{innerPagination:i,computedPagination:o,isServerSide:u,requestServerInteraction:v,setPagination:h}}function mv(e,a,t,n,i,o){const{props:u,emit:f,proxy:{$q:v}}=e,h=k(()=>n.value===!0?t.value.rowsNumber||0:o.value),d=k(()=>{const{page:w,rowsPerPage:H}=t.value;return(w-1)*H}),S=k(()=>{const{page:w,rowsPerPage:H}=t.value;return w*H}),M=k(()=>t.value.page===1),q=k(()=>t.value.rowsPerPage===0?1:Math.max(1,Math.ceil(h.value/t.value.rowsPerPage))),P=k(()=>S.value===0?!0:t.value.page>=q.value),A=k(()=>(u.rowsPerPageOptions.includes(a.value.rowsPerPage)?u.rowsPerPageOptions:[a.value.rowsPerPage].concat(u.rowsPerPageOptions)).map(H=>({label:H===0?v.lang.table.allRows:""+H,value:H})));st(q,(w,H)=>{if(w===H)return;const ie=t.value.page;w&&!ie?i({page:1}):w<ie&&i({page:w})});function z(){i({page:1})}function se(){const{page:w}=t.value;w>1&&i({page:w-1})}function N(){const{page:w,rowsPerPage:H}=t.value;S.value>0&&w*H<h.value&&i({page:w+1})}function R(){i({page:q.value})}return u["onUpdate:pagination"]!==void 0&&f("update:pagination",{...t.value}),{firstRowIndex:d,lastRowIndex:S,isFirstPage:M,isLastPage:P,pagesNumber:q,computedRowsPerPageOptions:A,computedRowsNumber:h,firstPage:z,prevPage:se,nextPage:N,lastPage:R}}const vv={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},gv=["update:selected","selection"];function pv(e,a,t,n){const i=k(()=>{const P={};return e.selected.map(n.value).forEach(A=>{P[A]=!0}),P}),o=k(()=>e.selection!=="none"),u=k(()=>e.selection==="single"),f=k(()=>e.selection==="multiple"),v=k(()=>t.value.length>0&&t.value.every(P=>i.value[n.value(P)]===!0)),h=k(()=>v.value!==!0&&t.value.some(P=>i.value[n.value(P)]===!0)),d=k(()=>e.selected.length);function S(P){return i.value[P]===!0}function M(){a("update:selected",[])}function q(P,A,z,se){a("selection",{rows:A,added:z,keys:P,evt:se});const N=u.value===!0?z===!0?A:[]:z===!0?e.selected.concat(A):e.selected.filter(R=>P.includes(n.value(R))===!1);a("update:selected",N)}return{hasSelectionMode:o,singleSelection:u,multipleSelection:f,allRowsSelected:v,someRowsSelected:h,rowsSelectedNumber:d,isRowSelected:S,clearSelection:M,updateSelection:q}}function nl(e){return Array.isArray(e)?e.slice():[]}const bv={expanded:Array},yv=["update:expanded"];function _v(e,a){const t=be(nl(e.expanded));st(()=>e.expanded,u=>{t.value=nl(u)});function n(u){return t.value.includes(u)}function i(u){e.expanded!==void 0?a("update:expanded",u):t.value=u}function o(u,f){const v=t.value.slice(),h=v.indexOf(u);f===!0?h===-1&&(v.push(u),i(v)):h!==-1&&(v.splice(h,1),i(v))}return{isRowExpanded:n,setExpanded:i,updateExpanded:o}}const wv={visibleColumns:Array};function Sv(e,a,t){const n=k(()=>{if(e.columns!==void 0)return e.columns;const f=e.rows[0];return f!==void 0?Object.keys(f).map(v=>({name:v,label:v.toUpperCase(),field:v,align:$o(f[v])?"right":"left",sortable:!0})):[]}),i=k(()=>{const{sortBy:f,descending:v}=a.value;return(e.visibleColumns!==void 0?n.value.filter(d=>d.required===!0||e.visibleColumns.includes(d.name)===!0):n.value).map(d=>{const S=d.align||"right",M=`text-${S}`;return{...d,align:S,__iconClass:`q-table__sort-icon q-table__sort-icon--${S}`,__thClass:M+(d.headerClasses!==void 0?" "+d.headerClasses:"")+(d.sortable===!0?" sortable":"")+(d.name===f?` sorted ${v===!0?"sort-desc":""}`:""),__tdStyle:d.style!==void 0?typeof d.style!="function"?()=>d.style:d.style:()=>null,__tdClass:d.classes!==void 0?typeof d.classes!="function"?()=>M+" "+d.classes:q=>M+" "+d.classes(q):()=>M}})}),o=k(()=>{const f={};return i.value.forEach(v=>{f[v.name]=v}),f}),u=k(()=>e.tableColspan!==void 0?e.tableColspan:i.value.length+(t.value===!0?1:0));return{colList:n,computedCols:i,computedColsMap:o,computedColspan:u}}const io="q-table__bottom row items-center",sr={};ar.forEach(e=>{sr[e]={}});var xv=Tt({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...sr,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...rn,...nv,...wv,...uv,...fv,...bv,...vv,...rv},emits:["request","virtualScroll",...ov,...yv,...gv],setup(e,{slots:a,emit:t}){const n=Yt(),{proxy:{$q:i}}=n,o=sn(e,i),{inFullscreen:u,toggleFullscreen:f}=iv(),v=k(()=>typeof e.rowKey=="function"?e.rowKey:O=>O[e.rowKey]),h=be(null),d=be(null),S=k(()=>e.grid!==!0&&e.virtualScroll===!0),M=k(()=>" q-table__card"+(o.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),q=k(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":M.value)+(o.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(u.value===!0?" fullscreen scroll":"")),P=k(()=>q.value+(e.loading===!0?" q-table--loading":""));st(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+q.value,()=>{S.value===!0&&d.value!==null&&d.value.reset()});const{innerPagination:A,computedPagination:z,isServerSide:se,requestServerInteraction:N,setPagination:R}=hv(n,Y),{computedFilterMethod:w}=cv(e,R),{isRowExpanded:H,setExpanded:ie,updateExpanded:De}=_v(e,t),Q=k(()=>{let O=e.rows;if(se.value===!0||O.length===0)return O;const{sortBy:de,descending:ve}=z.value;return e.filter&&(O=w.value(O,e.filter,j.value,Y)),Fe.value!==null&&(O=Ue.value(e.rows===O?O.slice():O,de,ve)),O}),ue=k(()=>Q.value.length),he=k(()=>{let O=Q.value;if(se.value===!0)return O;const{rowsPerPage:de}=z.value;return de!==0&&(pe.value===0&&e.rows!==O?O.length>U.value&&(O=O.slice(0,U.value)):O=O.slice(pe.value,U.value)),O}),{hasSelectionMode:me,singleSelection:we,multipleSelection:Re,allRowsSelected:Le,someRowsSelected:Me,rowsSelectedNumber:qe,isRowSelected:$e,clearSelection:Ve,updateSelection:ct}=pv(e,t,he,v),{colList:ne,computedCols:j,computedColsMap:fe,computedColspan:oe}=Sv(e,z,me),{columnToSort:Fe,computedSortMethod:Ue,sort:Ce}=sv(e,z,ne,R),{firstRowIndex:pe,lastRowIndex:U,isFirstPage:G,isLastPage:ze,pagesNumber:Ie,computedRowsPerPageOptions:Ne,computedRowsNumber:vt,firstPage:Ht,prevPage:Nt,nextPage:Et,lastPage:gt}=mv(n,A,z,se,R,ue),Zt=k(()=>he.value.length===0),da=k(()=>{const O={};return ar.forEach(de=>{O[de]=e[de]}),O.virtualScrollItemSize===void 0&&(O.virtualScrollItemSize=e.dense===!0?28:48),O});function pt(){S.value===!0&&d.value.reset()}function bt(){if(e.grid===!0)return Ma();const O=e.hideHeader!==!0?Ct:null;if(S.value===!0){const ve=a["top-row"],Te=a["bottom-row"],Se={default:Ye=>fa(Ye.item,a.body,Ye.index)};if(ve!==void 0){const Ye=g("tbody",ve({cols:j.value}));Se.before=O===null?()=>Ye:()=>[O()].concat(Ye)}else O!==null&&(Se.before=O);return Te!==void 0&&(Se.after=()=>g("tbody",Te({cols:j.value}))),g(ev,{ref:d,class:e.tableClass,style:e.tableStyle,...da.value,scrollTarget:e.virtualScrollTarget,items:he.value,type:"__qtable",tableColspan:oe.value,onVirtualScroll:ea},Se)}const de=[jt()];return O!==null&&de.unshift(O()),rr({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},de)}function Pt(O,de){if(d.value!==null){d.value.scrollTo(O,de);return}O=parseInt(O,10);const ve=h.value.querySelector(`tbody tr:nth-of-type(${O+1})`);if(ve!==null){const Te=h.value.querySelector(".q-table__middle.scroll"),Se=ve.offsetTop-e.virtualScrollStickySizeStart,Ye=Se<Te.scrollTop?"decrease":"increase";Te.scrollTop=Se,t("virtualScroll",{index:O,from:0,to:A.value.rowsPerPage-1,direction:Ye})}}function ea(O){t("virtualScroll",O)}function ba(){return[g(av,{class:"q-table__linear-progress",color:e.color,dark:o.value,indeterminate:!0,trackColor:"transparent"})]}function fa(O,de,ve){const Te=v.value(O),Se=$e(Te);if(de!==void 0)return de(ha({key:Te,row:O,pageIndex:ve,__trClass:Se?"selected":""}));const Ye=a["body-cell"],c=j.value.map(E=>{const le=a[`body-cell-${E.name}`],Z=le!==void 0?le:Ye;return Z!==void 0?Z(ma({key:Te,row:O,pageIndex:ve,col:E})):g("td",{class:E.__tdClass(O),style:E.__tdStyle(O)},Y(E,O))});if(me.value===!0){const E=a["body-selection"],le=E!==void 0?E(zt({key:Te,row:O,pageIndex:ve})):[g(Na,{modelValue:Se,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(Z,We)=>{ct([Te],[O],Z,We)}})];c.unshift(g("td",{class:"q-table--col-auto-width"},le))}const _={key:Te,class:{selected:Se}};return e.onRowClick!==void 0&&(_.class["cursor-pointer"]=!0,_.onClick=E=>{t("RowClick",E,O,ve)}),e.onRowDblclick!==void 0&&(_.class["cursor-pointer"]=!0,_.onDblclick=E=>{t("RowDblclick",E,O,ve)}),e.onRowContextmenu!==void 0&&(_.class["cursor-pointer"]=!0,_.onContextmenu=E=>{t("RowContextmenu",E,O,ve)}),g("tr",_,c)}function jt(){const O=a.body,de=a["top-row"],ve=a["bottom-row"];let Te=he.value.map((Se,Ye)=>fa(Se,O,Ye));return de!==void 0&&(Te=de({cols:j.value}).concat(Te)),ve!==void 0&&(Te=Te.concat(ve({cols:j.value}))),g("tbody",Te)}function ha(O){return V(O),O.cols=O.cols.map(de=>vn({...de},"value",()=>Y(de,O.row))),O}function ma(O){return V(O),vn(O,"value",()=>Y(O.col,O.row)),O}function zt(O){return V(O),O}function V(O){Object.assign(O,{cols:j.value,colsMap:fe.value,sort:Ce,rowIndex:pe.value+O.pageIndex,color:e.color,dark:o.value,dense:e.dense}),me.value===!0&&vn(O,"selected",()=>$e(O.key),(de,ve)=>{ct([O.key],[O.row],de,ve)}),vn(O,"expand",()=>H(O.key),de=>{De(O.key,de)})}function Y(O,de){const ve=typeof O.field=="function"?O.field(de):de[O.field];return O.format!==void 0?O.format(ve,de):ve}const _e=k(()=>({pagination:z.value,pagesNumber:Ie.value,isFirstPage:G.value,isLastPage:ze.value,firstPage:Ht,prevPage:Nt,nextPage:Et,lastPage:gt,inFullscreen:u.value,toggleFullscreen:f}));function ae(){const O=a.top,de=a["top-left"],ve=a["top-right"],Te=a["top-selection"],Se=me.value===!0&&Te!==void 0&&qe.value>0,Ye="q-table__top relative-position row items-center";if(O!==void 0)return g("div",{class:Ye},[O(_e.value)]);let c;if(Se===!0?c=Te(_e.value).slice():(c=[],de!==void 0?c.push(g("div",{class:"q-table-control"},[de(_e.value)])):e.title&&c.push(g("div",{class:"q-table__control"},[g("div",{class:["q-table__title",e.titleClass]},e.title)]))),ve!==void 0&&(c.push(g("div",{class:"q-table__separator col"})),c.push(g("div",{class:"q-table__control"},[ve(_e.value)]))),c.length!==0)return g("div",{class:Ye},c)}const Ke=k(()=>Me.value===!0?null:Le.value);function Ct(){const O=Oe();return e.loading===!0&&a.loading===void 0&&O.push(g("tr",{class:"q-table__progress"},[g("th",{class:"relative-position",colspan:oe.value},ba())])),g("thead",O)}function Oe(){const O=a.header,de=a["header-cell"];if(O!==void 0)return O(at({header:!0})).slice();const ve=j.value.map(Te=>{const Se=a[`header-cell-${Te.name}`],Ye=Se!==void 0?Se:de,c=at({col:Te});return Ye!==void 0?Ye(c):g(Km,{key:Te.name,props:c},()=>Te.label)});if(we.value===!0&&e.grid!==!0)ve.unshift(g("th",{class:"q-table--col-auto-width"}," "));else if(Re.value===!0){const Te=a["header-selection"],Se=Te!==void 0?Te(at({})):[g(Na,{color:e.color,modelValue:Ke.value,dark:o.value,dense:e.dense,"onUpdate:modelValue":ht})];ve.unshift(g("th",{class:"q-table--col-auto-width"},Se))}return[g("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},ve)]}function at(O){return Object.assign(O,{cols:j.value,sort:Ce,colsMap:fe.value,color:e.color,dark:o.value,dense:e.dense}),Re.value===!0&&vn(O,"selected",()=>Ke.value,ht),O}function ht(O){Me.value===!0&&(O=!1),ct(he.value.map(v.value),he.value,O)}const mt=k(()=>{const O=[e.iconFirstPage||i.iconSet.table.firstPage,e.iconPrevPage||i.iconSet.table.prevPage,e.iconNextPage||i.iconSet.table.nextPage,e.iconLastPage||i.iconSet.table.lastPage];return i.lang.rtl===!0?O.reverse():O});function oa(){if(e.hideBottom===!0)return;if(Zt.value===!0){if(e.hideNoData===!0)return;const ve=e.loading===!0?e.loadingLabel||i.lang.table.loading:e.filter?e.noResultsLabel||i.lang.table.noResults:e.noDataLabel||i.lang.table.noData,Te=a["no-data"],Se=Te!==void 0?[Te({message:ve,icon:i.iconSet.table.warning,filter:e.filter})]:[g(Ze,{class:"q-table__bottom-nodata-icon",name:i.iconSet.table.warning}),ve];return g("div",{class:io+" q-table__bottom--nodata"},Se)}const O=a.bottom;if(O!==void 0)return g("div",{class:io},[O(_e.value)]);const de=e.hideSelectedBanner!==!0&&me.value===!0&&qe.value>0?[g("div",{class:"q-table__control"},[g("div",[(e.selectedRowsLabel||i.lang.table.selectedRecords)(qe.value)])])]:[];if(e.hidePagination!==!0)return g("div",{class:io+" justify-end"},nt(de));if(de.length>0)return g("div",{class:io},de)}function Oa(O){R({page:1,rowsPerPage:O.value})}function nt(O){let de;const{rowsPerPage:ve}=z.value,Te=e.paginationLabel||i.lang.table.pagination,Se=a.pagination,Ye=e.rowsPerPageOptions.length>1;if(O.push(g("div",{class:"q-table__separator col"})),Ye===!0&&O.push(g("div",{class:"q-table__control"},[g("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||i.lang.table.recordsPerPage]),g(ir,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:ve,options:Ne.value,displayValue:ve===0?i.lang.table.allRows:ve,dark:o.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Oa})])),Se!==void 0)de=Se(_e.value);else if(de=[g("span",ve!==0?{class:"q-table__bottom-item"}:{},[ve?Te(pe.value+1,Math.min(U.value,vt.value),vt.value):Te(1,ue.value,vt.value)])],ve!==0&&Ie.value>1){const c={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(c.size="sm"),Ie.value>2&&de.push(g(ye,{key:"pgFirst",...c,icon:mt.value[0],disable:G.value,onClick:Ht})),de.push(g(ye,{key:"pgPrev",...c,icon:mt.value[1],disable:G.value,onClick:Nt}),g(ye,{key:"pgNext",...c,icon:mt.value[2],disable:ze.value,onClick:Et})),Ie.value>2&&de.push(g(ye,{key:"pgLast",...c,icon:mt.value[3],disable:ze.value,onClick:gt}))}return O.push(g("div",{class:"q-table__control"},de)),O}function Ge(){const O=e.gridHeader===!0?[g("table",{class:"q-table"},[Ct()])]:e.loading===!0&&a.loading===void 0?ba():void 0;return g("div",{class:"q-table__middle"},O)}function Ma(){const O=a.item!==void 0?a.item:de=>{const ve=de.cols.map(Se=>g("div",{class:"q-table__grid-item-row"},[g("div",{class:"q-table__grid-item-title"},[Se.label]),g("div",{class:"q-table__grid-item-value"},[Se.value])]));if(me.value===!0){const Se=a["body-selection"],Ye=Se!==void 0?Se(de):[g(Na,{modelValue:de.selected,color:e.color,dark:o.value,dense:e.dense,"onUpdate:modelValue":(c,_)=>{ct([de.key],[de.row],c,_)}})];ve.unshift(g("div",{class:"q-table__grid-item-row"},Ye),g(Dn,{dark:o.value}))}const Te={class:["q-table__grid-item-card"+M.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(Te.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(Te.onClick=Se=>{t("RowClick",Se,de.row,de.pageIndex)}),e.onRowDblclick!==void 0&&(Te.onDblclick=Se=>{t("RowDblclick",Se,de.row,de.pageIndex)})),g("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(de.selected===!0?" q-table__grid-item--selected":"")},[g("div",Te,ve)])};return g("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},he.value.map((de,ve)=>O(ha({key:v.value(de),row:de,pageIndex:ve}))))}return Object.assign(n.proxy,{requestServerInteraction:N,setPagination:R,firstPage:Ht,prevPage:Nt,nextPage:Et,lastPage:gt,isRowSelected:$e,clearSelection:Ve,isRowExpanded:H,setExpanded:ie,sort:Ce,resetVirtualScroll:pt,scrollTo:Pt,getCellValue:Y}),Sl(n.proxy,{filteredSortedRows:()=>Q.value,computedRows:()=>he.value,computedRowsNumber:()=>vt.value}),()=>{const O=[ae()],de={ref:h,class:P.value};return e.grid===!0?O.push(Ge()):Object.assign(de,{class:[de.class,e.cardClass],style:e.cardStyle}),O.push(bt(),oa()),e.loading===!0&&a.loading!==void 0&&O.push(a.loading()),g("div",de,O)}}});const Cv={props:{rowNumners:{type:Number,default:10,required:!1},hideTop:{type:Boolean,default:!1,required:!1}}},kv={key:0,class:"row q-col-gutter-md"},Dv={class:"col-sm-8 col-xs-12"},qv={class:"gt-xs col-sm-4 col-xs-12"},Tv={key:0},Ev={class:"text-left",style:{width:"150px"}},Ov={class:"text-right"},Mv={class:"text-right"},Bv={class:"text-right"},Av={class:"text-right"},Pv=X("th",{class:"text-right"},null,-1),Rv={class:"text-right"},Vv={class:"text-left"},Iv={class:"text-right"},Fv={class:"text-right"},Nv={class:"text-right"},zv={class:"text-right"},Lv={class:"text-right"};function Hv(e,a,t,n,i,o){return T(),te("div",null,[t.hideTop?xe("",!0):(T(),te("div",kv,[X("div",Dv,[y(Xt,{height:"39px",type:"QBtn",width:e.$q.screen.gt.sm?"250px":"100%"},null,8,["width"])]),X("div",qv,[y(Xt,{height:"39px",width:"150px",class:"float-right",type:"QBtn"})])])),y(lr,{square:"",flat:"",class:"q-mt-lg"},{default:D(()=>[e.$q.screen.gt.sm?(T(),te("thead",Tv,[X("tr",null,[X("th",Ev,[y(Xt,{animation:"blink",type:"text"})]),X("th",Ov,[y(Xt,{animation:"blink",type:"text"})]),X("th",Mv,[y(Xt,{animation:"blink",type:"text"})]),X("th",Bv,[y(Xt,{animation:"blink",type:"text"})]),X("th",Av,[y(Xt,{animation:"blink",type:"text"})]),Pv])])):xe("",!0),X("tbody",null,[(T(!0),te(ut,null,Kt(t.rowNumners,u=>(T(),te("tr",{key:u},[e.$q.screen.lt.md?(T(),te(ut,{key:0},[X("td",null,[y(Xt,{animation:"blink",type:"text",width:"80%"}),y(Xt,{animation:"blink",type:"text",width:"100%"}),y(Xt,{animation:"blink",type:"text",width:"60%"})]),X("td",Rv,[y(Ze,{name:"fal fa-ellipsis-h",color:"grey-4",class:"q-mr-sm",size:"sm"})])],64)):(T(),te(ut,{key:1},[X("td",Vv,[y(Xt,{animation:"blink",type:"text",width:"85px"})]),X("td",Iv,[y(Xt,{animation:"blink",type:"text",width:"50px"})]),X("td",Fv,[y(Xt,{animation:"blink",type:"text",width:"35px"})]),X("td",Nv,[y(Xt,{animation:"blink",type:"text",width:"65px"})]),X("td",zv,[y(Xt,{animation:"blink",type:"text",width:"25px"})]),X("td",Lv,[y(Ze,{name:"fal fa-ellipsis-h",color:"grey-4",class:"q-mr-sm",size:"sm"})])],64))]))),128))])]),_:1})])}var jv=tt(Cv,[["render",Hv]]);const $v=(e,a,t)=>typeof e[t]=="function"?e[t](a.row):e[t],Uv=(e,a)=>typeof e.method=="function"?e.method:a?a.get:!1,Yv=["advanced-filter","pre-loader","header-selection","body-selection","body-cell-actions","body","bottom","bottom-row","item","item-selection","top","top-left","top-right","top-bottom"],Wv={components:{TableSkeleton:jv},data(){return{selected:[],getValue:$v}},props:{store:{required:!1},module:{required:!1,type:[Object]},columns:{required:!0,type:[Array],default:()=>[]},rows:{required:!0,type:[Array],default:()=>[]},onRequest:Function,onRowClicked:Function,toolbar:{required:!1,type:[Array],default:()=>[]},actions:{required:!1,type:[Array],default:()=>[]},filters:{required:!1,type:[Array],default:()=>[]},pagination:{required:!1,type:[Object],default:()=>({loaded:!1})},grid:{required:!1,type:[Boolean],default:()=>!1},hidePagination:{required:!1,type:[Boolean],default:()=>!1},hideItemLabel:{required:!1,type:[Boolean],default:()=>!1},noActions:{required:!1,type:[Boolean],default:()=>!1},noTrash:{required:!1,type:[Boolean],default:()=>!1},rowsPerPageOptions:{required:!1,type:[Array],default:()=>[15,30,50]},filter:{required:!1,type:[Boolean],default:()=>!0},bordered:{required:!1,type:[Boolean],default:()=>!1},flat:{required:!1,type:[Boolean],default:()=>!0},hideHeader:{required:!1,type:[Boolean],default:()=>!1},hideTop:{required:!1,type:[Boolean],default:()=>!1},noPermissions:{required:!1,type:[Boolean],default:()=>!1},loading:{required:!1,type:[Boolean],default:()=>!1},loaded:{required:!1,type:[Boolean],default:()=>!1},preventDefault:{required:!1,type:[Boolean],default:()=>!1},selection:{required:!1,description:"Available options: single, multiple and none",type:[String],default:"none"},filterTitle:{required:!1,type:[String],default:"Filters"},filterIcon:{required:!1,type:[String],default:"fal fa-filter"},relatedDeleteMessage:{required:!1,type:[String,Boolean],default:"Please note that once you permanently delete type module, any related(s) where they have added to will lose them too."},noDataLabel:{type:[String],default:void 0},cardClass:{type:[String],default:void 0},topRightWidth:{required:!1,type:[Number],default:9,description:"max value 12 and min value 1",validator(e){return e<=12||e>=1}},visibleColumns:Array},watch:{"syncPagination.rowsPerPage"(){this.sendServerRequest()}},methods:{onActionClicked(e,a){if(console.func("components/base/base-table:methods.onActionClicked()",arguments),this.$emit("action-clicked",e.action,a.row),this.preventDefault)return!1;switch(e.action){case"delete":this.hasStore(),this.$core.confirm(`Are you sure you want to delete this ${this.module.singular}?`).then(()=>{this.store.delete(a.row.id).then(()=>{this.sendServerRequest()}).catch(t=>{this.$core.error(t,{title:"Error"})})});break;case"restore":this.hasStore(),this.$core.confirm(`Are you sure you want to restore this ${this.module.singular}?`).then(()=>{this.store.restore(a.row.id).then(()=>{this.sendServerRequest()}).catch(t=>{this.$core.error(t,{title:"Error"})})});break;case"force-delete":this.hasStore(),this.$core.confirm(`Are you sure you want to permanently delete this ${this.module.singular}?`,{subTitle:this.relatedDeleteMessage.replace(/type/g,"this").replace(/module/g,this.module.singular)}).then(()=>{this.store.forceDelete(a.row.id).then(()=>{this.sendServerRequest()}).catch(t=>{this.$core.error(t,{title:"Error"})})});break;case"route":this.$router.push({name:e.route,params:e.params?e.params(a.row):{},query:e.query?e.query(a.row):{}});break;default:typeof e.action=="function"&&e.action(a.row);break}},onToolbarClicked(e){if(console.func("components/base/base-table:methods.onToolbarClicked()",arguments),this.$emit("toolbar-clicked",e),this.preventDefault)return!1;switch(e.action){case"delete":this.hasStore(),this.$core.confirm(`Are you sure you want to delete selected ${this.module.plural}?`).then(()=>{this.store.deleteSelected(xa.exports.map(this.selected,"id")).then(()=>{this.sendServerRequest()}).catch(a=>{this.$core.error(a,{title:"Error"})})});break;case"restore":this.hasStore(),this.$core.confirm(`Are you sure you want to restore selected ${this.module.plural}?`).then(()=>{this.store.restoreSelected(xa.exports.map(this.selected,"id")).then(()=>{this.sendServerRequest()}).catch(a=>{this.$core.error(a,{title:"Error"})})});break;case"force-delete":this.hasStore(),this.$core.confirm(`Are you sure you want to permanently delete selected ${this.module.plural}?`,{subTitle:this.relatedDeleteMessage.replace(/type/g,"selected").replace(/module/g,this.module.plural)}).then(()=>{this.store.forceDeleteSelected(xa.exports.map(this.selected,"id")).then(()=>{this.sendServerRequest()}).catch(a=>{this.$core.error(a,{title:"Error"})})});break;case"export":this.$core.exportTable({params:{...this.syncPagination,rowsPerPage:this.syncPagination.rowsPerPage*25},data:this.data,columns:this.columns.filter(a=>!["actions"].includes(a.name)),action:Uv(e,this.store),name:`table_${this.module.plural}`,type:e.type});break;case"route":this.$router.push({name:e.route,params:e.params,query:e.query});break;case"filter":this.$refs.filter.show();break;case"request":this.sendServerRequest();break;default:typeof e.action=="function"&&e.action(e);break}},sendServerRequest(){this.selected=[],this.onRequest({pagination:this.syncPagination})},showFilter(){console.func("components/base/base-table:methods.showFilter()",arguments),this.$refs.filter.show()},hasPermission(e,a=!1){return this.noPermissions||e.module?!0:e.condition&&e.permission&&a?this.permissions.includes(e.permission)&&e.condition(a.row,this.permissions):e.condition&&!e.permission&&a?e.condition(a.row,this.permissions):this.permissions.includes(e.permission)||!e.permission},hasStore(){if(!this.store)return!1},canVisiable(e){return this.visibleColumns&&this.visibleColumns.length?this.visibleColumns.includes(e):this.columns.filter(a=>a.name===e).length>0}},computed:{syncPagination:{get(){return this.pagination},set(e){return e}},hasFilter(){return this.filters.length},actionItems(){return(this.actions||[]).filter(e=>e.deleted===this.syncPagination.deleted||e.deleted==="all")},toolbarItems(){return(this.toolbar||[]).filter(e=>e.deleted===this.syncPagination.deleted||e.deleted==="all")},permissions(){return[]},tableSlots(){return Object.keys(this.$slots).concat(this.columns.map(e=>"body-cell-"+e.name)).filter(e=>!Yv.includes(e))},topLeftWidth(){return 12-this.topRightWidth||12}}},Xv={key:0,class:"text-label"},Qv={class:"col"},Kv={class:"row q-col-gutter-md"},Gv={class:"q-gutter-sm"},Jv={key:0,class:"toolbar-item"},Zv={key:1,class:"toolbar-item"},eg=["width"],tg=["innerHTML"],ag={key:0,class:"q-table__grid-item-title"},ng=["innerHTML"];function og(e,a,t,n,i,o){const u=ft("base-tooltip"),f=ft("base-item"),v=ft("table-skeleton");return T(),te("div",null,[o.hasFilter?(T(),J(lc,{key:0,side:"right",ref:"filter",bordered:"",width:280,breakpoint:500,"content-class":"bg-grey-3"},{default:D(()=>[y(ri,{style:{height:"89px"},light:""},{default:D(()=>[y(li,{class:"q-ml-xs"},{default:D(()=>[At(et(t.filterTitle),1)]),_:1}),y(ye,{icon:"close",flat:"",round:"",dense:"",onClick:a[0]||(a[0]=h=>e.$refs.filter.hide())})]),_:1}),y(Dn),y(kn,{class:"bg-transparent",flat:"",square:""},{default:D(()=>[y(It,{class:"row q-col-gutter-md"},{default:D(()=>[Ee(e.$slots,"advanced-filter",{syncPagination:o.syncPagination},()=>[(T(!0),te(ut,null,Kt(t.filters,(h,d)=>(T(),te("div",{key:d,class:"col-12 filter-item"},[h.title?(T(),te("div",Xv,et(h.title),1)):xe("",!0),(T(),J(Ho(h.component),ga({modelValue:o.syncPagination[h.key],"onUpdate:modelValue":[S=>o.syncPagination[h.key]=S,o.sendServerRequest]},h),null,16,["modelValue","onUpdate:modelValue"]))]))),128))])]),_:3})]),_:3})]),_:3},512)):xe("",!0),o.syncPagination.loaded||t.loaded?(T(),J(xv,{key:1,class:"main-table",square:"",rows:t.rows,columns:t.columns,bordered:t.bordered,grid:t.grid||e.$q.screen.lt.md,"hide-header":t.hideHeader||e.$q.screen.lt.md,flat:t.flat,"row-key":"id","hide-pagination":t.hidePagination,"rows-per-page-options":t.rowsPerPageOptions,filter:o.syncPagination.filter,pagination:o.syncPagination,"onUpdate:pagination":a[6]||(a[6]=h=>o.syncPagination=h),loading:t.loading,selection:t.selection,selected:i.selected,"onUpdate:selected":a[7]||(a[7]=h=>i.selected=h),onRequest:t.onRequest,onRowClick:t.onRowClicked,"no-data-label":t.noDataLabel,"visible-columns":t.visibleColumns},Un({"header-selection":D(h=>[Ee(e.$slots,"header-selection",_a(wa(h)),()=>[y(Na,{dense:"",size:"sm",modelValue:h.selected,"onUpdate:modelValue":d=>h.selected=d},null,8,["modelValue","onUpdate:modelValue"])])]),"body-selection":D(h=>[Ee(e.$slots,"body-selection",_a(wa(h)),()=>[y(Na,{dense:"",size:"sm",modelValue:h.selected,"onUpdate:modelValue":d=>h.selected=d},null,8,["modelValue","onUpdate:modelValue"])])]),"body-cell-actions":D(h=>[y(el,{props:h},{default:D(()=>[Ee(e.$slots,"actions",_a(wa(h)),()=>[y(ye,{round:"",flat:"",dense:"",icon:"fal fa-ellipsis-h",onClick:a[4]||(a[4]=bn(()=>{},["stop"]))},{default:D(()=>[y(fo,{dense:""},{default:D(()=>[y(Cn,{class:"q-pa-sm actions",dense:"",style:{"min-width":"100px"}},{default:D(()=>[(T(!0),te(ut,null,Kt(o.actionItems,(d,S)=>Ot((T(),J(f,{key:S,onClick:M=>o.onActionClicked(d,h),icon:i.getValue(d,h,"icon"),label:i.getValue(d,h,"label")},null,8,["onClick","icon","label"])),[[Ga,o.hasPermission(d,h)]])),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1032,["props"])]),item:D(h=>[Ee(e.$slots,"item",ga(h,{props:h,permissions:o.permissions,actions:o.actionItems,onActionClicked:o.onActionClicked,hasPermission:o.hasPermission}),()=>[X("div",{class:kt([t.cardClass,"col-xs-12 col-sm-12"])},[y(Jt,{class:kt({"body-item":!0,"bg-green-2":h.selected,"bg-white":!h.selected}),onClick:bn(d=>e.$emit("row-clicked",d,h.row),["stop"]),clickable:""},{default:D(()=>[["single","multiple"].includes(t.selection)?(T(),J(yt,{key:0,avatar:"",class:"body-selection"},{default:D(()=>[Ee(e.$slots,"body-selection",_a(wa(h)),()=>[y(Na,{dense:"",size:"sm",modelValue:h.selected,"onUpdate:modelValue":d=>h.selected=d},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024)):xe("",!0),Ee(e.$slots,"item-section",{props:h,permissions:o.permissions,actions:o.actionItems,onActionClicked:o.onActionClicked,hasPermission:o.hasPermission},()=>[y(yt,null,{default:D(()=>[Ee(e.$slots,"section-body",_a(wa(h)),()=>[(T(!0),te(ut,null,Kt(h.cols.filter(d=>!["actions"].includes(d.name)&&o.canVisiable(d.name)),(d,S)=>(T(),J(Ta,{class:"q-mb-xs",tabindex:S,key:d.name},{default:D(()=>[t.hideItemLabel?xe("",!0):(T(),te("div",ag,et(d.label),1)),Ee(e.$slots,`body-cell-${d.name}`,ga(h,{value:d.value}),()=>[X("span",{innerHTML:d.value},null,8,ng)])]),_:2},1032,["tabindex"]))),128))])]),_:2},1024)]),o.canVisiable("actions")?(T(),J(yt,{key:1,side:""},{default:D(()=>[Ee(e.$slots,"actions",_a(wa(h)),()=>[y(ye,{round:"",flat:"",dense:"",icon:"fal fa-ellipsis-h",onClick:a[5]||(a[5]=bn(()=>{},["stop"]))},{default:D(()=>[y(fo,{dense:""},{default:D(()=>[y(Cn,{class:"q-pa-sm actions",dense:"",style:{"min-width":"100px"}},{default:D(()=>[(T(!0),te(ut,null,Kt(o.actionItems,(d,S)=>Ot((T(),J(f,{key:S,onClick:M=>o.onActionClicked(d,h),icon:i.getValue(d,h,"icon"),label:i.getValue(d,h,"label")},null,8,["onClick","icon","label"])),[[Ga,o.hasPermission(d,h)]])),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1024)):xe("",!0)]),_:2},1032,["class","onClick"]),y(Dn)],2)])]),"bottom-row":D(h=>[Ee(e.$slots,"bottom-row",_a(wa(h)))]),_:2},[t.hideTop?void 0:{name:"top",fn:D(h=>[Ee(e.$slots,"top",ga(h,{permissions:o.permissions,selected:i.selected,toolbar:o.toolbarItems,onToolbarClicked:o.onToolbarClicked}),()=>[X("div",Qv,[X("div",Kv,[X("div",{class:kt(`col-sm-${o.topLeftWidth} col-xs-12`)},[Ee(e.$slots,"top-left",ga(h,{permissions:o.permissions,selected:i.selected,toolbar:o.toolbarItems}),()=>[y(Ha,{modelValue:o.syncPagination.filter,"onUpdate:modelValue":a[1]||(a[1]=d=>o.syncPagination.filter=d),outlined:"",clearable:"",placeholder:"Quick search",dense:""},{append:D(()=>[o.syncPagination.filter?xe("",!0):(T(),J(Ze,{key:0,name:"fas fa-search",size:"16px"}))]),_:1},8,["modelValue"])])],2),X("div",{class:kt(`col-sm-${t.topRightWidth} col-xs-12 text-right`)},[Ee(e.$slots,"top-right",ga(h,{permissions:o.permissions,selected:i.selected,toolbar:o.toolbarItems}),()=>[X("div",Gv,[!o.syncPagination.deleted&&i.selected.length>0?(T(),te("div",Jv,[y(ye,{disable:!o.hasPermission({permission:"Delete"}),icon:"fas fa-trash-alt",color:"negative",flat:"",onClick:a[2]||(a[2]=d=>o.onToolbarClicked({action:"delete"})),class:"toolbar",label:"Delete","no-caps":""},null,8,["disable"])])):o.syncPagination.deleted&&i.selected.length>0?(T(),te("div",Zv,[y(ye,{disable:!o.hasPermission({permission:"Delete"}),icon:"fas fa-trash-undo",color:"primary",flat:"",onClick:a[3]||(a[3]=d=>o.onToolbarClicked({action:"restore"})),class:"toolbar",label:"Restore","no-caps":""},null,8,["disable"])])):xe("",!0),(T(!0),te(ut,null,Kt(o.toolbarItems,(d,S)=>Ot((T(),te("div",{key:S,class:"toolbar-item",width:d.width},[d.component?(T(),J(Ho(d.component),ga({key:0,modelValue:o.syncPagination[d.key],"onUpdate:modelValue":[M=>o.syncPagination[d.key]=M,M=>o.onToolbarClicked(d)]},d),{default:D(()=>[d.tooltip?(T(),J(u,{key:0,position:"top"},{default:D(()=>[At(et(d.tooltip),1)]),_:2},1024)):xe("",!0)]),_:2},1040,["modelValue","onUpdate:modelValue"])):(T(),J(ye,ga({key:1,onClick:M=>o.onToolbarClicked(d)},d,{"no-caps":""}),{default:D(()=>[d.tooltip?(T(),J(u,{key:0,position:"top"},{default:D(()=>[At(et(d.tooltip),1)]),_:2},1024)):xe("",!0)]),_:2},1040,["onClick"]))],8,eg)),[[Ga,o.hasPermission(d)]])),128))])])],2)]),Ee(e.$slots,"top-bottom")])])]),key:"0"},e.$slots.body?{name:"body",fn:D(h=>[Ee(e.$slots,"body",_a(wa(h)))]),key:"1"}:void 0,Kt(o.tableSlots,h=>({name:h,fn:D(d=>[y(el,{props:d},{default:D(()=>[Ee(e.$slots,h,ga(d,{props:d,permissions:o.permissions,actions:o.actionItems,onActionClicked:o.onActionClicked}),()=>[X("span",{innerHTML:d.value},null,8,tg)])]),_:2},1032,["props"])])})),e.$slots.bottom?{name:"bottom",fn:D(h=>[Ee(e.$slots,"bottom",_a(wa(h)))]),key:"2"}:void 0]),1032,["rows","columns","bordered","grid","hide-header","flat","hide-pagination","rows-per-page-options","filter","pagination","loading","selection","selected","onRequest","onRowClick","no-data-label","visible-columns"])):Ee(e.$slots,"pre-loader",{key:2},()=>[y(v,{"hide-top":t.hideTop,"row-numners":8},null,8,["hide-top"])])])}var ig=tt(Wv,[["render",og]]),lg=Object.freeze(Object.defineProperty({__proto__:null,default:ig},Symbol.toStringTag,{value:"Module"}));const rg={props:{media:{type:Object,required:!1},size:{type:[Number,String],required:!1,default:50},square:{type:[Boolean],required:!1,default:!1},rounded:{type:[Boolean],required:!1,default:!0},flat:{type:[Boolean],required:!1,default:!1}}};function sg(e,a,t,n,i,o){return T(),J(cl,{rounded:!t.square,square:t.square,size:`${t.size}px`,"font-size":`${t.size/2}px`,class:kt({"base-thumbnail":!0,flat:t.flat})},{default:D(()=>[t.media?(T(),te(ut,{key:0},[t.media.is_image?(T(),J(Wn,{key:0,loading:"lazy",src:t.media.url,contain:""},{loading:D(()=>[y(ln,{color:"white"})]),_:1},8,["src"])):t.media.icon?(T(),J(Ze,{key:1,name:`fad fa-file-${t.media.icon}`},null,8,["name"])):(T(),J(Ze,{key:2,name:"fad fa-image"}))],64)):(T(),J(Ze,{key:1,name:"fad fa-image"})),Ee(e.$slots,"default",{},void 0,!0)]),_:3},8,["rounded","square","size","font-size","class"])}var ug=tt(rg,[["render",sg],["__scopeId","data-v-b69889f4"]]),cg=Object.freeze(Object.defineProperty({__proto__:null,default:ug},Symbol.toStringTag,{value:"Module"}));function dg(e,a){if(e.hour!==null){if(e.minute===null)return"minute";if(a===!0&&e.second===null)return"second"}return"hour"}function fg(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}var hg=Tt({name:"QTime",props:{...rn,...ni,...Ol,mask:{default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:Ml,setup(e,{slots:a,emit:t}){const n=Yt(),{$q:i}=n.proxy,o=sn(e,i),{tabindex:u,headerClass:f,getLocale:v,getCurrentDate:h}=Bl(e,i),d=hl(e),S=ml(d);let M,q;const P=be(null),A=k(()=>Ue()),z=k(()=>v()),se=k(()=>Ce()),N=Vn(e.modelValue,A.value,z.value,e.calendar,se.value),R=be(dg(N)),w=be(N),H=be(N.hour===null||N.hour<12),ie=k(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+(o.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),De=k(()=>{const V=w.value;return{hour:V.hour===null?"--":Q.value===!0?ua(V.hour):String(H.value===!0?V.hour===0?12:V.hour:V.hour>12?V.hour-12:V.hour),minute:V.minute===null?"--":ua(V.minute),second:V.second===null?"--":ua(V.second)}}),Q=k(()=>e.format24h!==null?e.format24h:i.lang.date.format24h),ue=k(()=>{const V=R.value==="hour",Y=V===!0?12:60,_e=w.value[R.value];let Ke=`rotate(${Math.round(_e*(360/Y))-180}deg) translateX(-50%)`;return V===!0&&Q.value===!0&&w.value.hour>=12&&(Ke+=" scale(.7)"),{transform:Ke}}),he=k(()=>w.value.hour!==null),me=k(()=>he.value===!0&&w.value.minute!==null),we=k(()=>e.hourOptions!==void 0?V=>e.hourOptions.includes(V):e.options!==void 0?V=>e.options(V,null,null):null),Re=k(()=>e.minuteOptions!==void 0?V=>e.minuteOptions.includes(V):e.options!==void 0?V=>e.options(w.value.hour,V,null):null),Le=k(()=>e.secondOptions!==void 0?V=>e.secondOptions.includes(V):e.options!==void 0?V=>e.options(w.value.hour,w.value.minute,V):null),Me=k(()=>{if(we.value===null)return null;const V=fe(0,11,we.value),Y=fe(12,11,we.value);return{am:V,pm:Y,values:V.values.concat(Y.values)}}),qe=k(()=>Re.value!==null?fe(0,59,Re.value):null),$e=k(()=>Le.value!==null?fe(0,59,Le.value):null),Ve=k(()=>{switch(R.value){case"hour":return Me.value;case"minute":return qe.value;case"second":return $e.value}}),ct=k(()=>{let V,Y,_e=0,ae=1;const Ke=Ve.value!==null?Ve.value.values:void 0;R.value==="hour"?Q.value===!0?(V=0,Y=23):(V=0,Y=11,H.value===!1&&(_e=12)):(V=0,Y=55,ae=5);const Ct=[];for(let Oe=V,at=V;Oe<=Y;Oe+=ae,at++){const ht=Oe+_e,mt=Ke!==void 0&&Ke.includes(ht)===!1,oa=R.value==="hour"&&Oe===0?Q.value===!0?"00":"12":Oe;Ct.push({val:ht,index:at,disable:mt,label:oa})}return Ct}),ne=k(()=>[[cc,G,void 0,{stop:!0,prevent:!0,mouse:!0}]]);st(()=>e.modelValue,V=>{const Y=Vn(V,A.value,z.value,e.calendar,se.value);(Y.dateHash!==w.value.dateHash||Y.timeHash!==w.value.timeHash)&&(w.value=Y,Y.hour===null?R.value="hour":H.value=Y.hour<12)}),st([A,z],()=>{na(()=>{ha()})});function j(){const V={...h(),...fg()};ha(V),Object.assign(w.value,V),R.value="hour"}function fe(V,Y,_e){const ae=Array.apply(null,{length:Y+1}).map((Ke,Ct)=>{const Oe=Ct+V;return{index:Oe,val:_e(Oe)===!0}}).filter(Ke=>Ke.val===!0).map(Ke=>Ke.index);return{min:ae[0],max:ae[ae.length-1],values:ae,threshold:Y+1}}function oe(V,Y,_e){const ae=Math.abs(V-Y);return Math.min(ae,_e-ae)}function Fe(V,{min:Y,max:_e,values:ae,threshold:Ke}){if(V===Y)return Y;if(V<Y||V>_e)return oe(V,Y,Ke)<=oe(V,_e,Ke)?Y:_e;const Ct=ae.findIndex(ht=>V<=ht),Oe=ae[Ct-1],at=ae[Ct];return V-Oe<=at-V?Oe:at}function Ue(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function Ce(){if(typeof e.defaultDate!="string"){const V=h(!0);return V.dateHash=Ra(V),V}return Vn(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function pe(){return wl(n)===!0||Ve.value!==null&&(Ve.value.values.length===0||R.value==="hour"&&Q.value!==!0&&Me.value[H.value===!0?"am":"pm"].values.length===0)}function U(){const V=P.value,{top:Y,left:_e,width:ae}=V.getBoundingClientRect(),Ke=ae/2;return{top:Y+Ke,left:_e+Ke,dist:Ke*.7}}function G(V){if(pe()!==!0){if(V.isFirst===!0){M=U(),q=Ie(V.evt,M);return}q=Ie(V.evt,M,q),V.isFinal===!0&&(M=!1,q=null,ze())}}function ze(){R.value==="hour"?R.value="minute":e.withSeconds&&R.value==="minute"&&(R.value="second")}function Ie(V,Y,_e){const ae=ju(V),Ke=Math.abs(ae.top-Y.top),Ct=Math.sqrt(Math.pow(Math.abs(ae.top-Y.top),2)+Math.pow(Math.abs(ae.left-Y.left),2));let Oe,at=Math.asin(Ke/Ct)*(180/Math.PI);if(ae.top<Y.top?at=Y.left<ae.left?90-at:270+at:at=Y.left<ae.left?at+90:270-at,R.value==="hour"){if(Oe=at/30,Me.value!==null){const ht=Q.value!==!0?H.value===!0:Me.value.am.values.length>0&&Me.value.pm.values.length>0?Ct>=Y.dist:Me.value.am.values.length>0;Oe=Fe(Oe+(ht===!0?0:12),Me.value[ht===!0?"am":"pm"])}else Oe=Math.round(Oe),Q.value===!0?Ct<Y.dist?Oe<12&&(Oe+=12):Oe===12&&(Oe=0):H.value===!0&&Oe===12?Oe=0:H.value===!1&&Oe!==12&&(Oe+=12);Q.value===!0&&(H.value=Oe<12)}else Oe=Math.round(at/6)%60,R.value==="minute"&&qe.value!==null?Oe=Fe(Oe,qe.value):R.value==="second"&&$e.value!==null&&(Oe=Fe(Oe,$e.value));return _e!==Oe&&ea[R.value](Oe),Oe}const Ne={hour(){R.value="hour"},minute(){R.value="minute"},second(){R.value="second"}};function vt(V){V.keyCode===13&&ba()}function Ht(V){V.keyCode===13&&fa()}function Nt(V){pe()!==!0&&(i.platform.is.desktop!==!0&&Ie(V,U()),ze())}function Et(V){pe()!==!0&&Ie(V,U())}function gt(V){if(V.keyCode===13)R.value="hour";else if([37,39].includes(V.keyCode)){const Y=V.keyCode===37?-1:1;if(Me.value!==null){const _e=Q.value===!0?Me.value.values:Me.value[H.value===!0?"am":"pm"].values;if(_e.length===0)return;if(w.value.hour===null)pt(_e[0]);else{const ae=(_e.length+_e.indexOf(w.value.hour)+Y)%_e.length;pt(_e[ae])}}else{const _e=Q.value===!0?24:12,ae=Q.value!==!0&&H.value===!1?12:0,Ke=w.value.hour===null?-Y:w.value.hour;pt(ae+(24+Ke+Y)%_e)}}}function Zt(V){if(V.keyCode===13)R.value="minute";else if([37,39].includes(V.keyCode)){const Y=V.keyCode===37?-1:1;if(qe.value!==null){const _e=qe.value.values;if(_e.length===0)return;if(w.value.minute===null)bt(_e[0]);else{const ae=(_e.length+_e.indexOf(w.value.minute)+Y)%_e.length;bt(_e[ae])}}else{const _e=w.value.minute===null?-Y:w.value.minute;bt((60+_e+Y)%60)}}}function da(V){if(V.keyCode===13)R.value="second";else if([37,39].includes(V.keyCode)){const Y=V.keyCode===37?-1:1;if($e.value!==null){const _e=$e.value.values;if(_e.length===0)return;if(w.value.seconds===null)Pt(_e[0]);else{const ae=(_e.length+_e.indexOf(w.value.second)+Y)%_e.length;Pt(_e[ae])}}else{const _e=w.value.second===null?-Y:w.value.second;Pt((60+_e+Y)%60)}}}function pt(V){w.value.hour!==V&&(w.value.hour=V,jt())}function bt(V){w.value.minute!==V&&(w.value.minute=V,jt())}function Pt(V){w.value.second!==V&&(w.value.second=V,jt())}const ea={hour:pt,minute:bt,second:Pt};function ba(){H.value===!1&&(H.value=!0,w.value.hour!==null&&(w.value.hour-=12,jt()))}function fa(){H.value===!0&&(H.value=!1,w.value.hour!==null&&(w.value.hour+=12,jt()))}function jt(){if(we.value!==null&&we.value(w.value.hour)!==!0){w.value=Vn(),R.value="hour";return}if(Re.value!==null&&Re.value(w.value.minute)!==!0){w.value.minute=null,w.value.second=null,R.value="minute";return}if(e.withSeconds===!0&&Le.value!==null&&Le.value(w.value.second)!==!0){w.value.second=null,R.value="second";return}w.value.hour===null||w.value.minute===null||e.withSeconds===!0&&w.value.second===null||ha()}function ha(V){const Y=Object.assign({...w.value},V),_e=e.calendar==="persian"?ua(Y.hour)+":"+ua(Y.minute)+(e.withSeconds===!0?":"+ua(Y.second):""):vl(new Date(Y.year,Y.month===null?null:Y.month-1,Y.day,Y.hour,Y.minute,Y.second,Y.millisecond),A.value,z.value,Y.year,Y.timezoneOffset);Y.changed=_e!==e.modelValue,t("update:modelValue",_e,Y)}function ma(){const V=[g("div",{class:"q-time__link "+(R.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:u.value,onClick:Ne.hour,onKeyup:gt},De.value.hour),g("div",":"),g("div",he.value===!0?{class:"q-time__link "+(R.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:u.value,onKeyup:Zt,onClick:Ne.minute}:{class:"q-time__link"},De.value.minute)];e.withSeconds===!0&&V.push(g("div",":"),g("div",me.value===!0?{class:"q-time__link "+(R.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:u.value,onKeyup:da,onClick:Ne.second}:{class:"q-time__link"},De.value.second));const Y=[g("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},V)];return Q.value===!1&&Y.push(g("div",{class:"q-time__header-ampm column items-between no-wrap"},[g("div",{class:"q-time__link "+(H.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:u.value,onClick:ba,onKeyup:vt},"AM"),g("div",{class:"q-time__link "+(H.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:u.value,onClick:fa,onKeyup:Ht},"PM")])),g("div",{class:"q-time__header flex flex-center no-wrap "+f.value},Y)}function zt(){const V=w.value[R.value];return g("div",{class:"q-time__content col relative-position"},[g(Fa,{name:"q-transition--scale"},()=>g("div",{key:"clock"+R.value,class:"q-time__container-parent absolute-full"},[g("div",{ref:P,class:"q-time__container-child fit overflow-hidden"},[Ot(g("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:Nt,onMousedown:Et},[g("div",{class:"q-time__clock-circle fit"},[g("div",{class:"q-time__clock-pointer"+(w.value[R.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:ue.value}),ct.value.map(Y=>g("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${Y.index}`+(Y.val===V?" q-time__clock-position--active "+f.value:Y.disable===!0?" q-time__clock-position--disable":"")},[g("span",Y.label)]))])]),ne.value)])])),e.nowBtn===!0?g(ye,{class:"q-time__now-button absolute",icon:i.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:u.value,onClick:j}):null])}return n.proxy.setNow=j,()=>{const V=[zt()],Y=Gt(a.default);return Y!==void 0&&V.push(g("div",{class:"q-time__actions"},Y)),e.name!==void 0&&e.disable!==!0&&S(V,"push"),g("div",{class:ie.value,tabindex:-1},[ma(),g("div",{class:"q-time__main col overflow-auto"},V)])}}});const mg={props:{modelValue:String},methods:{onChange(e){console.func("components/base/BaseTimeInput:methods.onChange",arguments),this.$emit("update:model-value",e)}}},vg={class:"row items-center justify-end"};function gg(e,a,t,n,i,o){return T(),J(Ha,{class:"base-time-input",dense:"",borderless:"",modelValue:t.modelValue,"onUpdate:modeValue":o.onChange,onClick:a[1]||(a[1]=bn(()=>{},["stop"])),mask:"time",style:{width:"90px"}},{prepend:D(()=>[y(Ze,{onClick:a[0]||(a[0]=bn(()=>{},["stop"])),name:"access_time",class:"cursor-pointer"},{default:D(()=>[y(ql,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:D(()=>[y(hg,{"onUpdate:modelValue":o.onChange,modelValue:t.modelValue},{default:D(()=>[X("div",vg,[Ot(y(ye,{label:"Close",color:"primary",flat:""},null,512),[[Ca]])])]),_:1},8,["onUpdate:modelValue","modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modeValue"])}var pg=tt(mg,[["render",gg]]),bg=Object.freeze(Object.defineProperty({__proto__:null,default:pg},Symbol.toStringTag,{value:"Module"})),yg=Tt({name:"QTooltip",inheritAttrs:!1,props:{...ec,...$u,...fl,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Ti},self:{type:String,default:"top middle",validator:Ti},offset:{type:Array,default:()=>[14,14],validator:tc},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Uu],setup(e,{slots:a,emit:t,attrs:n}){let i,o;const u=Yt(),{proxy:{$q:f}}=u,v=be(null),h=be(!1),d=k(()=>Oi(e.anchor,f.lang.rtl)),S=k(()=>Oi(e.self,f.lang.rtl)),M=k(()=>e.persistent!==!0),{registerTick:q,removeTick:P}=Yu(),{registerTimeout:A}=Wu(),{transitionProps:z,transitionStyle:se}=Xu(e),{localScrollTarget:N,changeScrollEvent:R,unconfigureScrollTarget:w}=ac(e,ne),{anchorEl:H,canShow:ie,anchorEvents:De}=nc({showing:h,configureAnchorEl:ct}),{show:Q,hide:ue}=Qu({showing:h,canShow:ie,handleShow:Re,handleHide:Le,hideOnRouteChange:M,processOnMount:!0});Object.assign(De,{delayShow:$e,delayHide:Ve});const{showPortal:he,hidePortal:me,renderPortal:we}=Ku(u,v,fe,"tooltip");if(f.platform.is.mobile===!0){const oe={anchorEl:H,innerRef:v,onClickOutside(Ue){return ue(Ue),Ue.target.classList.contains("q-dialog__backdrop")&&Ia(Ue),!0}},Fe=k(()=>e.modelValue===null&&e.persistent!==!0&&h.value===!0);st(Fe,Ue=>{(Ue===!0?ic:Ei)(oe)}),La(()=>{Ei(oe)})}function Re(oe){he(),q(()=>{o=new MutationObserver(()=>qe()),o.observe(v.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),qe(),ne()}),i===void 0&&(i=st(()=>f.screen.width+"|"+f.screen.height+"|"+e.self+"|"+e.anchor+"|"+f.lang.rtl,qe)),A(()=>{he(!0),t("show",oe)},e.transitionDuration)}function Le(oe){P(),me(),Me(),A(()=>{me(!0),t("hide",oe)},e.transitionDuration)}function Me(){o!==void 0&&(o.disconnect(),o=void 0),i!==void 0&&(i(),i=void 0),w(),Di(De,"tooltipTemp")}function qe(){const oe=v.value;H.value===null||!oe||oc({el:oe,offset:e.offset,anchorEl:H.value,anchorOrigin:d.value,selfOrigin:S.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function $e(oe){if(f.platform.is.mobile===!0){Ai(),document.body.classList.add("non-selectable");const Fe=H.value,Ue=["touchmove","touchcancel","touchend","click"].map(Ce=>[Fe,Ce,"delayHide","passiveCapture"]);qi(De,"tooltipTemp",Ue)}A(()=>{Q(oe)},e.delay)}function Ve(oe){f.platform.is.mobile===!0&&(Di(De,"tooltipTemp"),Ai(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),A(()=>{ue(oe)},e.hideDelay)}function ct(){if(e.noParentEvent===!0||H.value===null)return;const oe=f.platform.is.mobile===!0?[[H.value,"touchstart","delayShow","passive"]]:[[H.value,"mouseenter","delayShow","passive"],[H.value,"mouseleave","delayHide","passive"]];qi(De,"anchor",oe)}function ne(){if(H.value!==null||e.scrollTarget!==void 0){N.value=Dl(H.value,e.scrollTarget);const oe=e.noParentEvent===!0?qe:ue;R(N.value,oe)}}function j(){return h.value===!0?g("div",{...n,ref:v,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",n.class],style:[n.style,se.value],role:"tooltip"},Gt(a.default)):null}function fe(){return g(Fa,z.value,j)}return La(Me),Object.assign(u.proxy,{updatePosition:qe}),we}});const _g={props:{position:{required:!1,type:String,default:"top"},color:{required:!1,type:String,default:""}},computed:{anchor(){var e="top middle";switch(this.position){case"left":e="center left";break;case"right":e="center right";break;case"bottom":e="bottom middle";break}return e},self(){var e="bottom middle";switch(this.position){case"left":e="center right";break;case"right":e="center left";break;case"bottom":e="top middle";break}return e},offset(){var e=[5,5];switch(this.position){case"left":case"right":e=[10,10];break}return e}}};function wg(e,a,t,n,i,o){return T(),J(yg,{class:"base-tooltip","content-class":"bg-"+t.color,anchor:o.anchor,self:o.self,offset:o.offset},{default:D(()=>[Ee(e.$slots,"default",{},()=>[At("Tooltip instruction")])]),_:3},8,["content-class","anchor","self","offset"])}var Sg=tt(_g,[["render",wg]]),xg=Object.freeze(Object.defineProperty({__proto__:null,default:Sg},Symbol.toStringTag,{value:"Module"}));const Cg={props:{user:Object}},kg={class:"base-current-user base-user"};function Dg(e,a,t,n,i,o){const u=ft("base-avatar");return T(),te("div",kg,[y(Jt,{class:"user-info"},{default:D(()=>[y(yt,{class:"q-pa-none q-mr-sm",avatar:"",style:{"min-width":"auto"}},{default:D(()=>[y(u,{size:"28px",user:t.user},null,8,["user"])]),_:1}),y(yt,{class:"gt-sm q-pa-none"},{default:D(()=>[y(Ta,{class:"text-subtitle2"},{default:D(()=>[At(et(t.user.name),1)]),_:1})]),_:1})]),_:1})])}var qg=tt(Cg,[["render",Dg]]),Tg=Object.freeze(Object.defineProperty({__proto__:null,default:qg},Symbol.toStringTag,{value:"Module"}));const Eg={props:{columns:{type:Array,default:()=>[{name:"name",align:"left",label:"Day",field:"name"},{name:"open_at",align:"left",label:"Open at",field:"open_at"},{name:"close_at",align:"left",label:"Close at",field:"close_at"}]},options:Array,loaded:Boolean}},Og=X("div",null,[X("div",{class:"sub-title"}," This page is blank, content is currently being developed. ")],-1);function Mg(e,a,t,n,i,o){const u=ft("base-section");return T(),J(u,{"no-row":""},{default:D(()=>[Og]),_:1})}var Bg=tt(Eg,[["render",Mg]]),Ag=Object.freeze(Object.defineProperty({__proto__:null,default:Bg},Symbol.toStringTag,{value:"Module"})),bo={"./BaseAlert.vue":Ju,"./BaseAvatar.vue":bc,"./BaseBtn.vue":Sc,"./BaseBtnDropdown.vue":Tc,"./BaseCheckbox.vue":Bc,"./BaseCurrentUser.vue":Ic,"./BaseDateInput.vue":Uc,"./BaseDialog.vue":Gc,"./BaseDropzone.vue":Zf,"./BaseEnquiryReplyCard.vue":Bh,"./BaseForm.vue":Vh,"./BaseInfo.vue":$h,"./BaseInput.vue":Xh,"./BaseItem.vue":Jh,"./BaseLabel.vue":im,"./BaseMediaCard.vue":um,"./BaseNoteCard.vue":_m,"./BasePriceInput.vue":Cm,"./BaseSection.vue":Mm,"./BaseSelect.vue":zm,"./BaseStatic.vue":$m,"./BaseStatus.vue":Qm,"./BaseTable.vue":lg,"./BaseThumbnail.vue":cg,"./BaseTimeInput.vue":bg,"./BaseTooltip.vue":xg,"./BaseUser.vue":Tg,"./settings/AppConfigs.vue":Ag};function Co(e){return ur(e),bo[e]}function ur(e){if(e in bo)return bo[e];var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}Co.keys=function(){return Object.keys(bo)};Co.resolve=ur;Co.id="__require_context_for_vite_function_0";var Wg=Gu(async({app:e})=>{console.core("Auto loading base components");const a=Co;a.keys().forEach(t=>{const n=a(t),i=xa.exports.upperFirst(xa.exports.camelCase(t.split("/").pop().replace(/\.\w+$/,"")));e.component(i,n.default||n)})});export{Wg as default};
