import{f as t,bn as o}from"./index.a7c16841.js";import{A as n}from"./api.00b2a415.js";import{l as c}from"./lodash.2b44b28e.js";const u="qaravel",p="2.0.0",h="Qaravel is a Combination of Laravel and Quasar",l="Qaravel",d="DepokSarkar <depokbsmrstu@gmail.com>",m={app:{path:"frontend"},ssh:{user:"example.com",server:"ssh.hosting-provider.com",folders:{live:"~/app",alpha:"~/alpha"}}},g={dev:"vite",build:"vite build","mix:dev":"yarn build:clean && mix","mix:prod":"yarn build:clean && mix --production",commit:'clear && git config core.ignorecase false && branch="$(git symbolic-ref -q HEAD)" || "dev" && branch=${branch##refs/heads/} && branch=${branch:-HEAD} && echo Commiting to Branch "$branch" && echo Please type your commit message && read msg && clear && git add . && git commit -m "$msg"',"push:git":'clear && git config core.ignorecase false && branch="$(git symbolic-ref -q HEAD)" || "dev" && branch=${branch##refs/heads/} && branch=${branch:-HEAD} && echo Pushing to Branch "$branch" && echo Please type your commit message && read msg && clear && git add . && git commit -m "$msg" && git push origin "$branch"',"push:live":"clear && echo Starting Live Push && yarn build:prod && yarn sync:live && echo Finished Live Push","push:alpha":"clear && echo Starting Alpha Push && yarn build:alpha && yarn sync:alpha && echo Finished Alpha Push ","build:prod":"yarn --cwd $npm_package_config_app_path build:prod && yarn mix:prod","build:alpha":"yarn --cwd $npm_package_config_app_path build:alpha && yarn mix:dev","build:dev":"quasar build && yarn build:icons && yarn mix:dev","build:icons":"icongenie generate -i app-icon.png","make:ssl":"yarn --cwd $npm_package_config_app_path ssl",app:"yarn --cwd $npm_package_config_app_path $type $package",quasar:"yarn --cwd $npm_package_config_app_path quasar $cmd",fresh:"php artisan migrate:fresh && php artisan migrate --path=database/migrations/imports && php artisan db:seed","start:web":"yarn && quasar dev","start:queue":"php artisan queue:work --timeout=36000 --stop-when-empty","sync:live":'echo Starting File Sync && rsync -avz --delete --exclude-from=".syncignore" -e "ssh -p22 -i ~/.ssh/sync" * $npm_package_config_ssh_user@$npm_package_config_ssh_server:$npm_package_config_ssh_folders_live && ssh -i ~/.ssh/sync $npm_package_config_ssh_user@$npm_package_config_ssh_server "cd $npm_package_config_ssh_folders_live && /usr/bin/php74 -f /usr/local/bin/composer2 install && /usr/bin/php74 artisan config:cache && /usr/bin/php74 artisan migrate && /usr/bin/php74 artisan storage:link --force" && echo Finished Live File Sync',"sync:alpha":'echo Starting File Sync && rsync -avz --delete --exclude-from=".syncignore" -e "ssh -p22 -i ~/.ssh/sync" * $npm_package_config_ssh_user@$npm_package_config_ssh_server:$npm_package_config_ssh_folders_alpha && ssh -i ~/.ssh/sync $npm_package_config_ssh_user@$npm_package_config_ssh_server "cd $npm_package_config_ssh_folders_alpha && /usr/bin/php74 -f /usr/local/bin/composer2 install && /usr/bin/php74 artisan config:cache && /usr/bin/php74 artisan migrate && /usr/bin/php74 artisan storage:link --force" && echo Finished Alpha File Sync',"build:clean":"echo Cleaning old build && del-cli public/assets public/pdfjs public/mix-manifest.json",lint:"eslint --ext .js,.vue ./",format:'prettier --write "**/*.{js,vue,scss,html,md,json}" --ignore-path .gitignore',test:'echo "No test specified" && exit 0'},f={"@coders-tm/vue-number-format":"^3.1.2","@originjs/vite-plugin-require-context":"^1.0.9","@quasar/extras":"^1.0.0",axios:"^0.27",lodash:"^4.17.19",pinia:"^2.0.11",quasar:"^2.6.0",vue:"^3.0.0","vue-i18n":"^9.0.0","vue-router":"^4.0.0"},_={"@intlify/vite-plugin-vue-i18n":"^3.3.1","@originjs/vite-plugin-require-context":"^1.0.9","@quasar/app-vite":"^1.0.0",autoprefixer:"^10.4.2","cross-env":"^7.0.3","del-cli":"^5.0.0",dotenv:"^16.0.1",eslint:"^8.10.0","eslint-config-prettier":"^8.1.0","eslint-plugin-vue":"^8.5.0","laravel-mix":"^6.0.49","laravel-vite-plugin":"^0.5.4",postcss:"^8.1.14",prettier:"^2.5.1"},b={node:"^18 || ^16 || ^14.19",npm:">= 6.13.4",yarn:">= 1.21.1"};var v={name:u,version:p,description:h,productName:l,author:d,private:!0,config:m,scripts:g,dependencies:f,devDependencies:_,engines:b};const y=t.getItem("current_user"),k=t.has("current_user"),x=o("app",{state:()=>({user:y||{},authenticated:k,defaultSideMenus:[{title:"Dashboard",icon:"fas fa-tachometer-alt",route:"Dashboard",module:"Dashboard",plans:["Free"]},{title:"Videos",icon:"fas fa-film",route:"Videos",module:"Videos",plans:["Free"]},{title:"Streams",icon:"fas fa-signal-stream",route:"Streams",module:"Streams",plans:["Free"]},{title:"Teams",icon:"fas fa-users",route:"Teams",module:"Teams",plans:["Free"]},{title:"Publishers",icon:"fas fa-bullhorn",route:"Publishers",module:"Publishers",plans:["Free"]}],version:v.version}),getters:{hasPermission(s){return a=>s.user.modules?!!s.user.modules.find(r=>r.name===a):!1},hasModulePermission(s){return(a,r=!1)=>{if(s.user.modules){const e=s.user.modules.find(i=>i.name===a);return!r&&e?!0:!!(r&&e&&e.permissions.find(i=>i.action===r))}return!1}},getPermissions(s){return a=>{if(s.user.modules){var r=s.user.modules.find(e=>e.name===a);return r?(r=c.exports.map(r.permissions,"action"),r):[]}return[]}},isAuthenticated(s){return s.authenticated},sideMenus(s){return s.defaultSideMenus}},actions:{async login(s){return await n.get("csrf-cookie"),new Promise((a,r)=>{n.post("auth/login",s).then(e=>{this.updateCurrentUser(e),a(e)}).catch(e=>{this.updateCurrentUser(!1),r(e)})})},async signUp(s){return await n.get("csrf-cookie"),new Promise((a,r)=>{n.post("auth/signup",s).then(e=>{this.updateCurrentUser(e),a(e)}).catch(e=>{this.updateCurrentUser(!1),r(e)})})},currentUser(){return new Promise((s,a)=>{n.post("auth/me",{guard:this.user.guard}).then(r=>{this.updateCurrentUser(r),s(r)}).catch(r=>{this.updateCurrentUser(!1),a(r)})})},updateCurrentUser(s){s?(this.authenticated=!0,this.user=s,t.set("current_user",s)):(this.authenticated=!1,t.remove("current_user"))},update(s){return new Promise((a,r)=>{n.post("auth/update",s).then(e=>{this.updateCurrentUser(e),a(e)}).catch(e=>{r(e)})})},password(s){return new Promise((a,r)=>{n.post("auth/password",s).then(e=>{a(e)}).catch(e=>{r(e)})})},async forgotPassword(s){return await n.get("csrf-cookie"),new Promise((a,r)=>{n.post("auth/forgot-password",s).then(e=>{a(e)}).catch(e=>{r(e)})})},async resetPassword(s){return await n.get("csrf-cookie"),new Promise((a,r)=>{n.post("auth/reset-password",s).then(e=>{a(e)}).catch(e=>{r(e)})})},logout(){return new Promise((s,a)=>{n.post("auth/logout",{guard:this.user.guard}).then(r=>{this.updateCurrentUser(!1),s(r)}).catch(r=>{a(r)})})},createAccessToken(s){return new Promise((a,r)=>{n.post("auth/access-token/store",s).then(e=>{a(e)}).catch(e=>{r(e)})})}}});export{x as u};
