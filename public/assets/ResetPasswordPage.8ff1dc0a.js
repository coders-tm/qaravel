import{bw as u,bJ as p,u as c,a5 as w,d as r,b5 as n,a6 as t,aD as f,c2 as l,bx as a,bz as m}from"./index.d66dd298.js";import{Q as b}from"./QForm.f849878c.js";const h={data(){return{form:{password:"",password_confirmation:"",guard:this.$route.meta.guard},errors:{},visible:!1,isPwd1:!0,isPwd2:!0}},methods:{...p(c,["resetPassword"]),onSubmit(){console.func("pages/auth/ResetPasswordPage:methods.onSubmit()",arguments),this.onReset(),this.resetPassword(this.form).then(o=>{this.visible=!1,this.$router.push({name:"Login"}),this.$core.success(o.message)}).catch(o=>{this.visible=!1,o.errors?this.errors=o.errors:this.$core.error(o.message)})},onReset(){this.errors={},this.visible=!0}},created(){this.form.token=this.$route.query.token,this.form.email=this.$route.query.email}},P=t("div",{class:"text-h6 text-center"},"Reset Password.",-1),g=t("p",{class:"text-center q-mb-lg"},"Please set your new password below.",-1),_={class:"col"},v={class:"col q-mb-md"};function y(o,e,x,V,s,d){return f(),w("div",null,[P,g,r(b,{ref:"restPasswordForm",onSubmit:d.onSubmit},{default:n(()=>[t("div",_,[r(l,{outlined:"",dense:"",placeholder:"Password",modelValue:s.form.password,"onUpdate:modelValue":e[1]||(e[1]=i=>s.form.password=i),"error-message":"password"in s.errors?s.errors.password.join(", "):"",error:"password"in s.errors,type:s.isPwd1?"password":"text"},{append:n(()=>[r(a,{name:s.isPwd1?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[0]||(e[0]=i=>s.isPwd1=!s.isPwd1)},null,8,["name"])]),_:1},8,["modelValue","error-message","error","type"])]),t("div",v,[r(l,{outlined:"",dense:"",placeholder:"Password Confirm",modelValue:s.form.password_confirmation,"onUpdate:modelValue":e[3]||(e[3]=i=>s.form.password_confirmation=i),"error-message":"password_confirmation"in s.errors?s.errors.password_confirmation.join(", "):"",error:"password_confirmation"in s.errors,type:s.isPwd2?"password":"text"},{append:n(()=>[r(a,{name:s.isPwd2?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[2]||(e[2]=i=>s.isPwd2=!s.isPwd2)},null,8,["name"])]),_:1},8,["modelValue","error-message","error","type"])]),r(m,{loading:s.visible,"no-caps":"",label:"Submit",class:"full-width",color:"primary",align:"center",type:"submit"},null,8,["loading"]),r(m,{"no-caps":"",label:"Go Back",class:"q-mt-sm full-width",color:"negative",align:"center",flat:"",to:{name:"Login"}})]),_:1},8,["onSubmit"])])}var q=u(h,[["render",y]]);export{q as default};
