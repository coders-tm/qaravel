import{bw as c,bJ as p,u as b,aL as h,a5 as a,d as r,b5 as l,a6 as i,aD as m,c2 as d,bx as g,bH as f,bz as _,ac as v,a4 as w}from"./index.d66dd298.js";import{Q as x}from"./QForm.f849878c.js";const y={data(){return{form:{remember:!1,guard:this.$route.meta.guard},isPwd:!0,errors:{},visible:!1}},methods:{...p(b,["login"]),onSubmit(){this.errors={},this.visible=!0,console.func("pages/login/LoginPage:methods.onSubmit()",arguments),this.login(this.form).then(o=>{this.hasRedirect?this.$router.push(this.redirectPath):this.$router.push({name:"Dashboard"}),this.visible=!1}).catch(o=>{this.visible=!1,o.errors?this.errors=o.errors:this.$core.error(o.message)})}},mounted(){Object.assign(this.form,{email:"hello@coderstm.com",password:"Gis0ra$$;"})},computed:{hasRedirect(){return this.$route.query.redirect&&this.$route.query.redirect.length>0},redirectPath(){return this.$route.query.redirect}}},V=i("div",{class:"text-h6 text-center q-mb-xl"},"Account Login",-1),P={class:"col"},S=i("div",{class:"text-label"},"Email",-1),k={class:"col"},q=i("div",{class:"text-label"},"Password",-1),L={class:"q-mt-lg q-mb-sm col"},Q={key:0,class:"q-mt-md text-center"};function C(o,s,B,F,e,u){const n=h("base-btn");return m(),a("div",null,[V,r(x,{ref:"loginForm",onSubmit:u.onSubmit},{default:l(()=>[i("div",P,[S,r(d,{modelValue:e.form.email,"onUpdate:modelValue":s[0]||(s[0]=t=>e.form.email=t),outlined:"",dense:"",ref:"email","bottom-slots":"","error-message":"email"in e.errors?e.errors.email.join(", "):"",error:"email"in e.errors},null,8,["modelValue","error-message","error"])]),i("div",k,[q,r(d,{"bottom-slots":"",outlined:"",dense:"","error-message":"password"in e.errors?e.errors.password.join(", "):"",error:"password"in e.errors,modelValue:e.form.password,"onUpdate:modelValue":s[2]||(s[2]=t=>e.form.password=t),type:e.isPwd?"password":"text",class:"password"},{append:l(()=>[r(g,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[1]||(s[1]=t=>e.isPwd=!e.isPwd)},null,8,["name"])]),counter:l(()=>[r(n,{size:"11px",color:"grey",to:{name:"Forget Password"},link:"",type:"a",label:"Forgotten password?"})]),_:1},8,["error-message","error","modelValue","type"])]),i("div",L,[r(f,{dense:"",modelValue:e.form.remember,"onUpdate:modelValue":s[3]||(s[3]=t=>e.form.remember=t),label:"Remember me?"},null,8,["modelValue"])]),r(_,{loading:e.visible,label:"Login",class:"full-width",color:"secondary",align:"center",type:"submit","no-caps":""},null,8,["loading"]),o.$route.meta.admin?w("",!0):(m(),a("div",Q,[v(" Don\u2019t have an account? "),r(n,{to:{name:"Sign up"},link:"",type:"a",label:"Sign up"})]))]),_:1},8,["onSubmit"])])}var A=c(y,[["render",C]]);export{A as default};
