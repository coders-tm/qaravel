import{bw as k,bJ as v,bK as C,aL as r,a3 as g,b5 as o,aD as d,d as n,c5 as _,bI as S,bG as m,bt as y,ac as P,S as q,c1 as p,a5 as Q,aJ as R,F as A,c3 as B}from"./index.c62d8a64.js";import{Q as V}from"./QChip.b0c8d9d7.js";import{Q as z}from"./QPage.b2fd791d.js";import{u as c}from"./staff.1d856a41.js";const N={data(){return{loading:!1,loaded:!1,pagination:{sortBy:"name",descending:!1,page:1,filter:"",advancedFilter:{},deleted:!1,rowsPerPage:15,rowsNumber:15,loaded:!1,active:null},useStaffStore:c()}},methods:{...v(c,["get","changeActive","changeAdmin"]),onRequest(e){console.func("pages/core/staffs/StaffsPage:methods.onRequest()",arguments);const{page:s,rowsPerPage:u,sortBy:f,descending:i}=e.pagination;this.loading=!0,this.get({...e.pagination,direction:i?"desc":"asc"}).then(({meta:t})=>{this.pagination.rowsNumber=t.total,this.pagination.page=s,this.pagination.rowsPerPage=u,this.pagination.sortBy=f,this.pagination.descending=i,this.pagination.loaded=!0,this.pagination.from=t.from,this.pagination.to=t.to,this.loading=!1}).catch(t=>{this.$core.error(t,{title:"Error"})})},async actionClicked(e,s){console.func("pages/core/staffs/StaffsPage:methods.actionClicked()",arguments)},async toolbarClicked(e,s){console.func("pages/core/staffs/StaffsPage:methods.toolbarClicked()",arguments)},async rowClicked(e,s){console.func("pages/core/staffs/StaffsPage:methods.rowClicked()",arguments),this.$router.push({name:"Single Staff",params:{id:s.id},query:{action:"edit"}})}},mounted(){this.onRequest({pagination:this.pagination})},computed:{...C(c,["actions","rows","columns","module","toolbar","filters"]),permissions(){return[]}}};function T(e,s,u,f,i,t){const b=r("base-avatar"),h=r("base-btn"),w=r("base-table");return d(),g(z,{padding:""},{default:o(()=>[n(B,null,{default:o(()=>[n(_,null,{default:o(()=>[n(w,{store:i.useStaffStore,module:e.module,columns:e.columns,rows:e.rows,actions:e.actions,toolbar:e.toolbar,filters:e.filters,loading:i.loading,pagination:i.pagination,onRequest:t.onRequest,onActionClicked:t.actionClicked,onToolbarClicked:t.toolbarClicked,onRowClicked:t.rowClicked,"no-data-label":"No staff avaialble","no-permissions":""},{"body-cell-name":o(a=>[n(S,{class:"q-pa-none",dense:""},{default:o(()=>[n(m,{avatar:""},{default:o(()=>[n(b,{rounded:"",class:"cursor-pointer",user:a.row,size:"40px"},null,8,["user"])]),_:2},1024),n(m,{avatar:""},{default:o(()=>[n(h,{onClick:s[0]||(s[0]=y(()=>{},["stop"])),link:"",size:"12px",tag:"a",to:{name:"Single Staff",params:{id:a.row.id},query:{action:"edit"}}},{default:o(()=>[P(q(a.value),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024)]),"body-cell-is_active":o(a=>[n(p,{"onUpdate:modelValue":l=>e.changeActive(a.row),size:"sm",dense:"","model-value":a.row.is_active,color:"green"},null,8,["onUpdate:modelValue","model-value"])]),"body-cell-is_supper_admin":o(a=>[n(p,{"onUpdate:modelValue":l=>e.changeAdmin(a.row),size:"sm",dense:"","model-value":a.row.is_supper_admin,color:"green"},null,8,["onUpdate:modelValue","model-value"])]),"body-cell-groups":o(a=>[(d(!0),Q(A,null,R(a.row.groups,l=>(d(),g(V,{size:"12px",key:l.id,label:l.name},null,8,["label"]))),128))]),_:1},8,["store","module","columns","rows","actions","toolbar","filters","loading","pagination","onRequest","onActionClicked","onToolbarClicked","onRowClicked"])]),_:1})]),_:1})]),_:1})}var E=k(N,[["render",T]]);export{E as default};
