import{cp as o,A as s}from"./index.d66dd298.js";const n=[{label:"Pending",value:"Pending"},{label:"Ongoing",value:"Ongoing"},{label:"Resolved",value:"Resolved"}],r=[{label:"All",value:null},{label:"Open",value:"Open"},...n],d=o("enquiry",{state:()=>({rows:[],module:{name:"Tickets",singular:"ticket",plural:"tickets"},columns:[{name:"id",align:"left",label:"Ticket",field:e=>`[${e.id}] ${e.subject}`,style:"width: 250px; white-space: normal;",sortable:!0,guard:["admins","users"]},{name:"created_at",align:"left",label:"Created at",field:"created_at",style:"width: 40px",sortable:!0,guard:["admins","users"]},{name:"name",align:"left",label:"Name",field:"name",style:"width: 40px",sortable:!0,guard:["admins"]},{name:"email",align:"left",label:"Email",field:"email",style:"width: 40px",sortable:!0,guard:["admins"]},{name:"phone",align:"left",label:"Contact",field:"phone",style:"width: 40px",sortable:!0,guard:["admins"]},{name:"status",align:"center",label:"Status",field:"status",style:"width: 40px",sortable:!0,guard:["admins","users"]},{name:"last_reply",align:"left",label:"Last update",field:"last_reply",format:e=>e&&e.user?`${e.user.name} on ${e.created_at}`:null,style:"width: 40px",sortable:!1,guard:["admins","users"]},{name:"actions",align:"right",sortable:!1,guard:["admins"]}],actions:[{label:"Reply",permission:"Edit",action:"route",route:"Single Enquiry",params:e=>({id:e.id}),query:e=>({action:"edit"}),icon:"fas fa-paper-plane",deleted:!1},{label:"Delete",permission:"Delete",action:"delete",icon:"fas fa-trash-alt",deleted:!1},{label:"Restore",permission:"Delete",action:"restore",icon:"fas fa-trash-undo",deleted:!0}],toolbar:[{title:"Status",action:"request",component:"base-select",dense:!0,outlined:!0,key:"status",placeholder:"Select",optionsDense:!0,style:"width: 180px",mapOptions:!0,emitValue:!0,options:r,deleted:"all",prefix:"Status:",guard:["admins"],width:"6"},{icon:"fad fa-plus-circle",label:"New enquiry",permission:"New",action:"route",params:{id:"add"},route:"Single Enquiry",color:"primary",deleted:"all",guard:["users"],width:"12"}],filters:[],status_options:r,default_status_options:n}),getters:{},actions:{get(e){return new Promise((a,l)=>{s.get("enquiries",e).then(t=>{this.rows=t.data.map(i=>({...i,subject:i.subject||"Contact us"})),a(t)}).catch(t=>{l(t)})})},show(e){return new Promise((a,l)=>{s.get(`enquiries/${e}`).then(t=>{a(t)}).catch(t=>{l(t)})})},store(e){return new Promise((a,l)=>{s.post("enquiries/store",e).then(t=>{a(t)}).catch(t=>{l(t)})})},delete(e){return new Promise((a,l)=>{s.delete(`enquiries/${e}/destroy`).then(t=>{a(t)}).catch(t=>{l(t)})})},reply(e){return new Promise((a,l)=>{s.post(`enquiries/${e.moduleId}/reply`,e).then(t=>{a(t)}).catch(t=>{l(t)})})}}});export{d as u};
