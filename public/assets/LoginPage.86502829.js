import{_ as p,by as c,b8 as b,Q as m,M as o,L as l,O as i,J as a,b1 as d,$ as g,b6 as _,X as f,R as h,a0 as v}from"./index.a7c16841.js";import{Q as w}from"./QForm.904091b3.js";import{u as x}from"./app.133ea3bd.js";import"./api.00b2a415.js";import"./BaseAlert.06a29215.js";import"./lodash.2b44b28e.js";const y={data(){return{form:{remember:!1,guard:this.$route.meta.guard},isPwd:!0,errors:{},visible:!1}},methods:{...c(x,["login"]),onSubmit(){this.errors={},this.visible=!0,console.func("pages/login/LoginPage:methods.onSubmit()",arguments),this.login(this.form).then(r=>{this.$router.push({name:"Dashboard"}),this.visible=!1}).catch(r=>{this.visible=!1,r.errors?this.errors=r.errors:this.$core.error(r.message)})}}},V=i("div",{class:"text-h6 text-center q-mb-xl"},"Account Login",-1),P={class:"col"},S=i("div",{class:"text-label"},"Email",-1),k={class:"col"},Q=i("div",{class:"text-label"},"Password",-1),L={class:"q-mt-lg q-mb-sm col"},C={key:0,class:"q-mt-md text-center"},q=v(" Don\u2019t have an account? ");function B(r,s,F,N,e,u){const n=b("base-btn");return a(),m("div",null,[V,o(w,{ref:"loginForm",onSubmit:u.onSubmit},{default:l(()=>[i("div",P,[S,o(d,{modelValue:e.form.email,"onUpdate:modelValue":s[0]||(s[0]=t=>e.form.email=t),outlined:"",dense:"",ref:"email","bottom-slots":"","error-message":"email"in e.errors?e.errors.email.join(", "):"",error:"email"in e.errors},null,8,["modelValue","error-message","error"])]),i("div",k,[Q,o(d,{"bottom-slots":"",outlined:"",dense:"","error-message":"password"in e.errors?e.errors.password.join(", "):"",error:"password"in e.errors,modelValue:e.form.password,"onUpdate:modelValue":s[2]||(s[2]=t=>e.form.password=t),type:e.isPwd?"password":"text",class:"password"},{append:l(()=>[o(g,{name:e.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[1]||(s[1]=t=>e.isPwd=!e.isPwd)},null,8,["name"])]),counter:l(()=>[o(n,{size:"11px",color:"grey",to:{name:"Forget Password"},link:"",type:"a",label:"Forgotten password?"})]),_:1},8,["error-message","error","modelValue","type"])]),i("div",L,[o(_,{dense:"",modelValue:e.form.remember,"onUpdate:modelValue":s[3]||(s[3]=t=>e.form.remember=t),label:"Remember me?"},null,8,["modelValue"])]),o(f,{loading:e.visible,label:"Login",class:"full-width",color:"secondary",align:"center",type:"submit","no-caps":""},null,8,["loading"]),r.$route.meta.admin?h("",!0):(a(),m("div",C,[q,o(n,{to:{name:"Sign up"},link:"",type:"a",label:"Sign up"})]))]),_:1},8,["onSubmit"])])}var R=p(y,[["render",B]]);export{R as default};
