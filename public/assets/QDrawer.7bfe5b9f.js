import{bu as ae,c as u,h as C,bA as te,cN as Te,bP as qe,cO as xe,bQ as Be,cQ as Se,i as Ce,ca as H,d4 as Oe,r as k,cS as $e,d5 as De,w as i,o as Me,as as Y,av as We,b7 as Le,d6 as Z,cf as M,g as Pe,d7 as _e}from"./index.c62d8a64.js";import{T as N}from"./TouchPan.2f3364c4.js";var Ie=ae({name:"QToolbarTitle",props:{shrink:Boolean},setup(a,{slots:T}){const v=u(()=>"q-toolbar__title ellipsis"+(a.shrink===!0?" col-shrink":""));return()=>C("div",{class:v.value},te(T.default))}});const ee=150;var Fe=ae({name:"QDrawer",inheritAttrs:!1,props:{...Te,...qe,side:{type:String,default:"left",validator:a=>["left","right"].includes(a)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:a=>["default","desktop","mobile"].includes(a),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...xe,"onLayout","miniState"],setup(a,{slots:T,emit:v,attrs:R}){const m=Pe(),{proxy:{$q:c}}=m,le=Be(a,c),{preventBodyScroll:W}=_e(),{registerTimeout:j,removeTimeout:ue}=Se(),t=Ce(Oe,H);if(t===H)return console.error("QDrawer needs to be child of QLayout"),H;let L,y=null,q;const r=k(a.behavior==="mobile"||a.behavior!=="desktop"&&t.totalWidth.value<=a.breakpoint),x=u(()=>a.mini===!0&&r.value!==!0),s=u(()=>x.value===!0?a.miniWidth:a.width),o=k(a.showIfAbove===!0&&r.value===!1?!0:a.modelValue===!0),U=u(()=>a.persistent!==!0&&(r.value===!0||ie.value===!0));function E(e,l){if(oe(),e!==!1&&t.animate(),d(0),r.value===!0){const n=t.instances[$.value];n!==void 0&&n.belowBreakpoint===!0&&n.hide(!1),h(1),t.isContainer.value!==!0&&W(!0)}else h(0),e!==!1&&I(!1);j(()=>{e!==!1&&I(!0),l!==!0&&v("show",e)},ee)}function K(e,l){re(),e!==!1&&t.animate(),h(0),d(w.value*s.value),F(),l!==!0?j(()=>{v("hide",e)},ee):ue()}const{show:P,hide:B}=$e({showing:o,hideOnRouteChange:U,handleShow:E,handleHide:K}),{addToHistory:oe,removeFromHistory:re}=De(o,B,U),O={belowBreakpoint:r,hide:B},f=u(()=>a.side==="right"),w=u(()=>(c.lang.rtl===!0?-1:1)*(f.value===!0?1:-1)),X=k(0),g=k(!1),_=k(!1),p=k(s.value*w.value),$=u(()=>f.value===!0?"left":"right"),A=u(()=>o.value===!0&&r.value===!1&&a.overlay===!1?a.miniToOverlay===!0?a.miniWidth:s.value:0),Q=u(()=>a.overlay===!0||a.miniToOverlay===!0||t.view.value.indexOf(f.value?"R":"L")>-1||c.platform.is.ios===!0&&t.isContainer.value===!0),S=u(()=>a.overlay===!1&&o.value===!0&&r.value===!1),ie=u(()=>a.overlay===!0&&o.value===!0&&r.value===!1),ne=u(()=>"fullscreen q-drawer__backdrop"+(o.value===!1&&g.value===!1?" hidden":"")),se=u(()=>({backgroundColor:`rgba(0,0,0,${X.value*.4})`})),G=u(()=>f.value===!0?t.rows.value.top[2]==="r":t.rows.value.top[0]==="l"),de=u(()=>f.value===!0?t.rows.value.bottom[2]==="r":t.rows.value.bottom[0]==="l"),ve=u(()=>{const e={};return t.header.space===!0&&G.value===!1&&(Q.value===!0?e.top=`${t.header.offset}px`:t.header.space===!0&&(e.top=`${t.header.size}px`)),t.footer.space===!0&&de.value===!1&&(Q.value===!0?e.bottom=`${t.footer.offset}px`:t.footer.space===!0&&(e.bottom=`${t.footer.size}px`)),e}),ce=u(()=>{const e={width:`${s.value}px`,transform:`translateX(${p.value}px)`};return r.value===!0?e:Object.assign(e,ve.value)}),fe=u(()=>"q-drawer__content fit "+(t.isContainer.value!==!0?"scroll":"overflow-auto")),me=u(()=>`q-drawer q-drawer--${a.side}`+(_.value===!0?" q-drawer--mini-animate":"")+(a.bordered===!0?" q-drawer--bordered":"")+(le.value===!0?" q-drawer--dark q-dark":"")+(g.value===!0?" no-transition":o.value===!0?"":" q-layout--prevent-focus")+(r.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${x.value===!0?"mini":"standard"}`+(Q.value===!0||S.value!==!0?" fixed":"")+(a.overlay===!0||a.miniToOverlay===!0?" q-drawer--on-top":"")+(G.value===!0?" q-drawer--top-padding":""))),he=u(()=>{const e=c.lang.rtl===!0?a.side:$.value;return[[N,ge,void 0,{[e]:!0,mouse:!0}]]}),be=u(()=>{const e=c.lang.rtl===!0?$.value:a.side;return[[N,J,void 0,{[e]:!0,mouse:!0}]]}),ye=u(()=>{const e=c.lang.rtl===!0?$.value:a.side;return[[N,J,void 0,{[e]:!0,mouse:!0,mouseAllDir:!0}]]});function z(){ke(r,a.behavior==="mobile"||a.behavior!=="desktop"&&t.totalWidth.value<=a.breakpoint)}i(r,e=>{e===!0?(L=o.value,o.value===!0&&B(!1)):a.overlay===!1&&a.behavior!=="mobile"&&L!==!1&&(o.value===!0?(d(0),h(0),F()):P(!1))}),i(()=>a.side,(e,l)=>{t.instances[l]===O&&(t.instances[l]=void 0,t[l].space=!1,t[l].offset=0),t.instances[e]=O,t[e].size=s.value,t[e].space=S.value,t[e].offset=A.value}),i(t.totalWidth,()=>{(t.isContainer.value===!0||document.qScrollPrevented!==!0)&&z()}),i(()=>a.behavior+a.breakpoint,z),i(t.isContainer,e=>{o.value===!0&&W(e!==!0),e===!0&&z()}),i(t.scrollbarWidth,()=>{d(o.value===!0?0:void 0)}),i(A,e=>{b("offset",e)}),i(S,e=>{v("onLayout",e),b("space",e)}),i(f,()=>{d()}),i(s,e=>{d(),V(a.miniToOverlay,e)}),i(()=>a.miniToOverlay,e=>{V(e,s.value)}),i(()=>c.lang.rtl,()=>{d()}),i(()=>a.mini,()=>{a.modelValue===!0&&(we(),t.animate())}),i(x,e=>{v("miniState",e)});function d(e){e===void 0?Y(()=>{e=o.value===!0?0:s.value,d(w.value*e)}):(t.isContainer.value===!0&&f.value===!0&&(r.value===!0||Math.abs(e)===s.value)&&(e+=w.value*t.scrollbarWidth.value),p.value=e)}function h(e){X.value=e}function I(e){const l=e===!0?"remove":t.isContainer.value!==!0?"add":"";l!==""&&document.body.classList[l]("q-body--drawer-toggle")}function we(){y!==null&&clearTimeout(y),m.proxy&&m.proxy.$el&&m.proxy.$el.classList.add("q-drawer--mini-animate"),_.value=!0,y=setTimeout(()=>{y=null,_.value=!1,m&&m.proxy&&m.proxy.$el&&m.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function ge(e){if(o.value!==!1)return;const l=s.value,n=M(e.distance.x,0,l);if(e.isFinal===!0){n>=Math.min(75,l)===!0?P():(t.animate(),h(0),d(w.value*l)),g.value=!1;return}d((c.lang.rtl===!0?f.value!==!0:f.value)?Math.max(l-n,0):Math.min(0,n-l)),h(M(n/l,0,1)),e.isFirst===!0&&(g.value=!0)}function J(e){if(o.value!==!0)return;const l=s.value,n=e.direction===a.side,D=(c.lang.rtl===!0?n!==!0:n)?M(e.distance.x,0,l):0;if(e.isFinal===!0){Math.abs(D)<Math.min(75,l)===!0?(t.animate(),h(1),d(0)):B(),g.value=!1;return}d(w.value*D),h(M(1-D/l,0,1)),e.isFirst===!0&&(g.value=!0)}function F(){W(!1),I(!0)}function b(e,l){t.update(a.side,e,l)}function ke(e,l){e.value!==l&&(e.value=l)}function V(e,l){b("size",e===!0?a.miniWidth:l)}return t.instances[a.side]=O,V(a.miniToOverlay,s.value),b("space",S.value),b("offset",A.value),a.showIfAbove===!0&&a.modelValue!==!0&&o.value===!0&&a["onUpdate:modelValue"]!==void 0&&v("update:modelValue",!0),Me(()=>{v("onLayout",S.value),v("miniState",x.value),L=a.showIfAbove===!0;const e=()=>{(o.value===!0?E:K)(!1,!0)};if(t.totalWidth.value!==0){Y(e);return}q=i(t.totalWidth,()=>{q(),q=void 0,o.value===!1&&a.showIfAbove===!0&&r.value===!1?P(!1):e()})}),We(()=>{q!==void 0&&q(),y!==null&&(clearTimeout(y),y=null),o.value===!0&&F(),t.instances[a.side]===O&&(t.instances[a.side]=void 0,b("size",0),b("offset",0),b("space",!1))}),()=>{const e=[];r.value===!0&&(a.noSwipeOpen===!1&&e.push(Le(C("div",{key:"open",class:`q-drawer__opener fixed-${a.side}`,"aria-hidden":"true"}),he.value)),e.push(Z("div",{ref:"backdrop",class:ne.value,style:se.value,"aria-hidden":"true",onClick:B},void 0,"backdrop",a.noSwipeBackdrop!==!0&&o.value===!0,()=>ye.value)));const l=x.value===!0&&T.mini!==void 0,n=[C("div",{...R,key:""+l,class:[fe.value,R.class]},l===!0?T.mini():te(T.default))];return a.elevated===!0&&o.value===!0&&n.push(C("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(Z("aside",{ref:"content",class:me.value,style:ce.value},n,"contentclose",a.noSwipeClose!==!0&&r.value===!0,()=>be.value)),C("div",{class:"q-drawer-container"},e)}}});export{Ie as Q,Fe as a};
