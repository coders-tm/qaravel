import{f as m,u}from"./index.c62d8a64.js";var c=m(async({router:s,store:f})=>{const r=u();s.beforeEach((e,t,a)=>{e.meta.auth?r.isAuthenticated?(a(),r.currentUser(e.meta.guard).catch(i=>{s.push({name:"Login",query:{redirect:e.fullPath}})})):a({name:"Login",query:{redirect:e.fullPath}}):a()}),s.beforeResolve((e,t,a)=>{const o=e.meta.module,i=e.meta.permission;o?r.hasModulePermission(o,i)?a():a({name:"Dashboard"}):a()})});export{c as default};
