import{bw as m,bJ as f,bK as b,aL as d,a3 as h,b5 as t,aD as w,d as i,c5 as C,bt as k,ac as _,S as u,a6 as P,c3 as y}from"./index.c62d8a64.js";import{Q as G}from"./QPage.b2fd791d.js";import{u as r}from"./group.121f5b6b.js";const S={data(){return{loading:!1,loaded:!1,pagination:{sortBy:"name",descending:!1,page:1,filter:"",advancedFilter:{},deleted:!1,rowsPerPage:15,rowsNumber:15,loaded:!1},useGroupStore:r()}},methods:{...f(r,["get"]),onRequest(o){console.func("pages/core/groups/GroupsPage:methods.onRequest()",arguments);const{page:a,rowsPerPage:l,sortBy:c,descending:s}=o.pagination;this.loading=!0,this.get({...o.pagination,direction:s?"desc":"asc"}).then(({meta:e})=>{this.pagination.rowsNumber=e.total,this.pagination.page=a,this.pagination.rowsPerPage=l,this.pagination.sortBy=c,this.pagination.descending=s,this.pagination.loaded=!0,this.pagination.from=e.from,this.pagination.to=e.to,this.loading=!1}).catch(e=>{this.$core.error(e,{title:"Error"})})},async actionClicked(o,a){console.func("pages/core/groups/GroupsPage:methods.actionClicked()",arguments)},async toolbarClicked(o,a){console.func("pages/core/groups/GroupsPage:methods.toolbarClicked()",arguments)},async rowClicked(o,a){console.func("pages/core/groups/GroupsPage:methods.rowClicked()",arguments),this.$router.push({name:"Single Group",params:{id:a.id},query:{action:"edit"}})}},mounted(){this.onRequest({pagination:this.pagination})},computed:{...b(r,["actions","rows","columns","module","toolbar","filters"]),permissions(){return[]}}},q={class:"ellipsis-2-lines"};function v(o,a,l,c,s,e){const g=d("base-btn"),p=d("base-table");return w(),h(G,{padding:""},{default:t(()=>[i(y,null,{default:t(()=>[i(C,null,{default:t(()=>[i(p,{store:s.useGroupStore,module:o.module,columns:o.columns,rows:o.rows,actions:o.actions,toolbar:o.toolbar,filters:o.filters,loading:s.loading,pagination:s.pagination,onRequest:e.onRequest,onActionClicked:e.actionClicked,onToolbarClicked:e.toolbarClicked,onRowClicked:e.rowClicked,"no-data-label":"No group avaialble","no-permissions":""},{"body-cell-name":t(n=>[i(g,{onClick:a[0]||(a[0]=k(()=>{},["stop"])),link:"",size:"12px",tag:"a",to:{name:"Single Group",params:{id:n.row.id},query:{action:"edit"}}},{default:t(()=>[_(u(n.value),1)]),_:2},1032,["to"])]),"body-cell-description":t(n=>[P("div",q,u(n.value),1)]),_:1},8,["store","module","columns","rows","actions","toolbar","filters","loading","pagination","onRequest","onActionClicked","onToolbarClicked","onRowClicked"])]),_:1})]),_:1})]),_:1})}var Q=m(S,[["render",v]]);export{Q as default};
